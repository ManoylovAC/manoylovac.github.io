<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="generator" content="Gatsby 4.25.7"/><meta data-react-helmet="true" name="description" content="Ось ми на самому початку. Якщо ви давно не програмували на JavaScript, або не займалися математикою, цей розділ допоможе вам повернутися до обчислювал"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" property="og:url" content="https://natureofcode.com"/><meta data-react-helmet="true" property="og:image" content="https://natureofcode.com/static/7dd3422c43faa1513528cd25636d9e6b/b08a9/cover.png"/><meta data-react-helmet="true" property="og:title" content="0. Випадковість"/><meta data-react-helmet="true" property="og:description" content="Ось ми на самому початку. Якщо ви давно не програмували на JavaScript, або не займалися математикою, цей розділ допоможе вам повернутися до обчислювал"/><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"/><meta data-react-helmet="true" name="twitter:title" content="0. Випадковість"/><meta data-react-helmet="true" name="twitter:description" content="Ось ми на самому початку. Якщо ви давно не програмували на JavaScript, або не займалися математикою, цей розділ допоможе вам повернутися до обчислювал"/><meta data-react-helmet="true" name="twitter:image" content="https://natureofcode.com/static/7dd3422c43faa1513528cd25636d9e6b/b08a9/cover.png"/>

  <link rel="stylesheet" href="./assets/styles/global.css">

  <noscript><style>.gatsby-image-wrapper noscript [data-main-image]{opacity:1!important}.gatsby-image-wrapper [data-placeholder-image]{opacity:0!important}</style></noscript><script type="module">const e="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;e&&document.body.addEventListener("load",(function(e){const t=e.target;if(void 0===t.dataset.mainImage)return;if(void 0===t.dataset.gatsbyImageSsr)return;let a=null,n=t;for(;null===a&&n;)void 0!==n.parentNode.dataset.gatsbyImageWrapper&&(a=n.parentNode),n=n.parentNode;const o=a.querySelector("[data-placeholder-image]"),r=new Image;r.src=t.currentSrc,r.decode().catch((()=>{})).then((()=>{t.style.opacity=1,o&&(o.style.opacity=0,o.style.transition="opacity 500ms linear")}))}),!0);</script><link rel="icon" href="./favicon-32x32.png" type="image/png"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png"/><title data-react-helmet="true">0. Випадковість / Nature of Code</title></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><header class="fixed left-0 right-0 top-0 z-40 bg-white px-6 lg:px-8"><div class="mx-auto flex h-[5em] max-w-6xl items-center justify-between"><div class="flex flex-col gap-x-6 lg:flex-row lg:items-center"><a href="/noc2/static"><span class="text-lg font-black tracking-widest text-noc-400"><span class="font-black">ПРИРОДА</span> КОДУ</span></a><span class="hidden text-sm tracking-widest text-noc-400 xl:block">ДАНІЕЛЬ ШИФФМАН</span></div><button class="flex h-9 w-11 cursor-pointer flex-col items-center justify-between p-2 lg:hidden" aria-label="Toggle menu" title="Toggle menu"><span class="block h-0.5 w-full rounded bg-noc-200 transition-transform"></span><span class="block h-0.5 w-full rounded bg-noc-200 transition-opacity" style="opacity:1"></span><span class="block h-0.5 w-full rounded bg-noc-200 transition-transform"></span></button><div class="hidden items-center gap-6 lg:flex"><ul class="flex items-center gap-6"><li><a href="https://github.com/sponsors/CodingTrain" class="flex items-center gap-1.5 text-sm text-gray-500 hover:underline"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" class="text-noc-200" height="1.2em" width="1.2em" xmlns="http://www.w3.org/2000/svg"><path d="M458.4 64.3C400.6 15.7 311.3 23 256 79.3 200.7 23 111.4 15.6 53.6 64.3-21.6 127.6-10.6 230.8 43 285.5l175.4 178.7c10 10.2 23.4 15.9 37.6 15.9 14.3 0 27.6-5.6 37.6-15.8L469 285.6c53.5-54.7 64.7-157.9-10.6-221.3zm-23.6 187.5L259.4 430.5c-2.4 2.4-4.4 2.4-6.8 0L77.2 251.8c-36.5-37.2-43.9-107.6 7.3-150.7 38.9-32.7 98.9-27.8 136.5 10.5l35 35.7 35-35.7c37.8-38.5 97.8-43.2 136.5-10.6 51.1 43.1 43.5 113.9 7.3 150.8z"></path></svg>SUPPORT</a></li><li><a href="https://github.com/nature-of-code/noc-book-2" class="flex items-center gap-1.5 text-sm text-gray-500 hover:underline"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 496 512" class="text-noc-200" height="1.2em" width="1.2em" xmlns="http://www.w3.org/2000/svg"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg>GITHUB</a></li><li><a href="https://thecodingtrain.com/" class="flex items-center text-sm text-gray-500 hover:underline"><img src="./static/codingtrain_logo-53b0a841be45c7eac7a12f88b7bea596.png" alt="Coding Train&#x27;s logo" class="-ml-2 w-8"/>CODING TRAIN</a></li></ul><div class="not-prose flex items-center gap-4 undefined"><div class="relative"><a href="https://natureofcode.com/" target="_blank" class="flex items-center text-sm text-gray-500 hover:underline"><img src="./favicon-32x32.png" alt="The Nature Of Code logo" class="noc2-logo"/>THE NATURE OF CODE</a></div></div></div></div></header>
  <nav class="fixed bottom-0 left-0 right-0 top-[5em] z-20 overflow-y-auto bg-white px-6 lg:hidden mb-menu hidden">
    <ul class="my-7 space-y-2">
      <li><a class="text-lg text-gray-800" href="./dedication.html">Присвята</a></li>
      <li><a class="text-lg text-gray-800" href="./acknowledgements.html">Подяки</a></li>
      <li><a class="text-lg text-gray-800" href="./introduction.html">Вступ</a></li>
      <li>
        <button class="sub-menu-btn flex items-center gap-2 text-lg text-gray-800">
          <span>Розділи</span>
          <svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="h-5 w-5 transition-transform" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" style="transform: scaleY(1);"><polyline points="6 9 12 15 18 9"></polyline></svg>
        </button>
        <ul class="space-y-2 py-2 pl-4 sub-menu hidden">
          <li><a aria-current="page" class="flex items-center text-gray-600 font-bold" href="./random.html"><span class="w-8">0</span><span>Випадковість</span></a></li>
          <li><a class="flex items-center text-gray-600" href="./vectors.html"><span class="w-8">1</span><span>Вектори</span></a></li>
          <li><a class="flex items-center text-gray-600" href="./forces.html"><span class="w-8">2</span><span>Сили</span></a></li>
          <li><a class="flex items-center text-gray-600" href="./oscillation.html"><span class="w-8">3</span><span>Коливання</span></a></li>
          <li><a class="flex items-center text-gray-600" href="./particles.html"><span class="w-8">4</span><span>Система частинок</span></a></li>
          <li><a class="flex items-center text-gray-600" href="./autonomous-agents.html"><span class="w-8">5</span><span>Автономні агенти</span></a></li>
          <li><a class="flex items-center text-gray-600" href="./physics-libraries.html"><span class="w-8">6</span><span>Фізичні бібліотеки</span></a></li>
          <li><a class="flex items-center text-gray-600" href="./cellular-automata.html"><span class="w-8">7</span><span>Клітинні автомати</span></a></li>
          <li><a class="flex items-center text-gray-600" href="./fractals.html"><span class="w-8">8</span><span>Фрактали</span></a></li>
          <li><a class="flex items-center text-gray-600" href="./genetic-algorithms.html"><span class="w-8">9</span><span>Еволюційне моделювання</span></a></li>
          <li><a class="flex items-center text-gray-600" href="./neural-networks.html"><span class="w-8">10</span><span>Нейронні мережі</span></a></li>
          <li><a class="flex items-center text-gray-600" href="./neuroevolution.html"><span class="w-8">11</span><span>Нейроеволюція</span></a></li>
        </ul>
      </li>
      <li><a class="text-lg text-gray-800" href="./appendix-creature.html">Додаток: Дизайн створінь</a></li>
      <li><a class="text-lg text-gray-800" href="./resources.html">Додаткові ресурси</a></li>
      <li><a class="text-lg text-gray-800" href="./credits.html">Credits</a></li>
      <li><a class="text-lg text-gray-800" href="./translation.html">Про переклад</a></li>
      <li><a class="text-lg text-gray-800" href="./examples.html">Приклади</a></li>
    </ul>
    <ul class="my-7 space-y-2">
      <li><a target="_blank" href="https://github.com/sponsors/CodingTrain" class="flex items-center gap-1 text-lg text-gray-800">Support<svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="w-3.5 text-gray-400" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg></a></li>
      <li><a target="_blank" href="https://github.com/nature-of-code/noc-book-2" class="flex items-center gap-1 text-lg text-gray-800">GitHub<svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="w-3.5 text-gray-400" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg></a></li>
      <li><a target="_blank" href="https://thecodingtrain.com/" class="flex items-center gap-1 text-lg text-gray-800">Coding Train<svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="w-3.5 text-gray-400" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg></a></li>

      <li><a target="_blank" href="https://natureofcode.com/" class="flex items-center gap-1 text-lg text-gray-800">The Nature Of Code<svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="w-3.5 text-gray-400" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg></a></li>
    </ul>
  </nav>
  <div class="mt-[6em] px-6 lg:px-8"><div class="mx-auto max-w-6xl lg:flex lg:justify-between lg:gap-10 xl:gap-14"><aside class="sticky top-[6em] z-10 hidden max-h-[calc(100vh-6em)] min-w-[14em] overflow-y-auto pb-8 lg:block lg:flex-grow"><nav class="border-noc-200 rounded-3xl border"><ul class="divide-noc-200 divide-y"><li><a class="relative block px-3 py-2 text-sm hover:underline" href="./dedication.html">Присвята</a></li><li><a class="relative block px-3 py-2 text-sm hover:underline" href="./acknowledgements.html">Подяки</a></li><li><a class="relative block px-3 py-2 text-sm hover:underline" href="./introduction.html">Вступ</a></li><li><a aria-current="page" class="group relative flex items-center px-3 py-2 text-sm font-bold" href="./random.html"><span class="w-8">0</span><span class="group-hover:underline">Випадковість</span></a><ul class="space-y-1 pb-2"><li><a href="#random-walks" class="ml-11 block py-0.5 pr-2 text-sm text-gray-500 hover:underline false">Випадкове блукання</a></li><li><a href="#the-random-walker-class" class="ml-11 block py-0.5 pr-2 text-sm text-gray-500 hover:underline false">Клас випадкового блукача</a></li><li><a href="#probability-and-nonuniform-distributions" class="ml-11 block py-0.5 pr-2 text-sm text-gray-500 hover:underline false">Імовірність і нерівномірний розподіл</a></li><li><a href="#a-normal-distribution-of-random-numbers" class="ml-11 block py-0.5 pr-2 text-sm text-gray-500 hover:underline false">Нормальний розподіл випадкових чисел</a></li><li><a href="#a-custom-distribution-of-random-numbers" class="ml-11 block py-0.5 pr-2 text-sm text-gray-500 hover:underline false">Власний розподіл випадкових чисел</a></li><li><a href="#a-smoother-approach-with-perlin-noise" class="ml-11 block py-0.5 pr-2 text-sm text-gray-500 hover:underline false">Більш плавний підхід з шумом Перліна</a></li></ul></li><li><a class="group relative flex items-center px-3 py-2 text-sm" href="./vectors.html"><span class="w-8">1</span><span class="group-hover:underline">Вектори</span></a></li><li><a class="group relative flex items-center px-3 py-2 text-sm" href="./forces.html"><span class="w-8">2</span><span class="group-hover:underline">Сили</span></a></li><li><a class="group relative flex items-center px-3 py-2 text-sm" href="./oscillation.html"><span class="w-8">3</span><span class="group-hover:underline">Коливання</span></a></li><li><a class="group relative flex items-center px-3 py-2 text-sm" href="./particles.html"><span class="w-8">4</span><span class="group-hover:underline">Системи частинок</span></a></li><li><a class="group relative flex items-center px-3 py-2 text-sm" href="./autonomous-agents.html"><span class="w-8">5</span><span class="group-hover:underline">Автономні агенти</span></a></li><li><a class="group relative flex items-center px-3 py-2 text-sm" href="./physics-libraries.html"><span class="w-8">6</span><span class="group-hover:underline">Фізичні бібліотеки</span></a></li><li><a class="group relative flex items-center px-3 py-2 text-sm" href="./cellular-automata.html"><span class="w-8">7</span><span class="group-hover:underline">Клітинні автомати</span></a></li><li><a class="group relative flex items-center px-3 py-2 text-sm" href="./fractals.html"><span class="w-8">8</span><span class="group-hover:underline">Фрактали</span></a></li><li><a class="group relative flex items-center px-3 py-2 text-sm" href="./genetic-algorithms.html"><span class="w-8">9</span><span class="group-hover:underline">Еволюційне моделювання</span></a></li><li><a class="group relative flex items-center px-3 py-2 text-sm" href="./neural-networks.html"><span class="w-8">10</span><span class="group-hover:underline">Нейронні мережі</span></a></li><li><a class="group relative flex items-center px-3 py-2 text-sm" href="./neuroevolution.html"><span class="w-8">11</span><span class="group-hover:underline">Нейроеволюція</span></a></li><li><a class="relative block px-3 py-2 text-sm hover:underline" href="./appendix-creature.html">Додаток: Дизайн створінь </a></li><li><a class="relative block px-3 py-2 text-sm hover:underline" href="./resources.html">Додаткові ресурси</a></li><li><a class="relative block px-3 py-2 text-sm hover:underline" href="./credits.html">Credits</a></li><li><a class="relative block px-3 py-2 text-sm hover:underline" href="./translation.html">Про переклад</a></li><li><a class="relative block px-3 py-2 text-sm hover:underline" href="./examples.html">Приклади</a></li></ul></nav></aside><main class="prose mx-auto max-w-[50em] pb-8"><section data-type="chapter" id="section-random">
<h1 id="chapter-0-randomness">Розділ 0. Випадковість</h1>
<div class="chapter-opening-quote">
  <blockquote data-type="epigraph">
    <p>Генерація випадкових чисел надто важлива,</p>
    <p>щоб залишати її на волю випадку.</p>
    <div class="chapter-opening-quote-source">
      <p>— Роберт Кав’ю</p>
    </div>
  </blockquote>
</div>
<div class="chapter-opening-figure">
  <figure>
    <div data-gatsby-image-wrapper="" class="gatsby-image-wrapper gatsby-image-wrapper-constrained"><div style="max-width:1920px;display:block"><img alt="" role="presentation" aria-hidden="true" src="data:image/svg+xml;charset=utf-8,%3Csvg height=&#x27;1080&#x27; width=&#x27;1920&#x27; xmlns=&#x27;http://www.w3.org/2000/svg&#x27; version=&#x27;1.1&#x27;%3E%3C/svg%3E" style="max-width:100%;display:block;position:static"/></div><div aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear;background-color:#f8f8f8;position:absolute;top:0;left:0;bottom:0;right:0"></div><picture><source type="image/webp" data-srcset="./static/f4383a08d4ac10df627d1d465c483da7/3a3a2/00_randomness_1.webp 480w,./static/f4383a08d4ac10df627d1d465c483da7/bde8a/00_randomness_1.webp 960w,./static/f4383a08d4ac10df627d1d465c483da7/c512e/00_randomness_1.webp 1920w" sizes="(min-width: 1920px) 1920px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 1920px) 1920px, 100vw" decoding="async" loading="lazy" data-src="./static/f4383a08d4ac10df627d1d465c483da7/afa5c/00_randomness_1.png" data-srcset="./static/f4383a08d4ac10df627d1d465c483da7/2fe1e/00_randomness_1.png 480w,./static/f4383a08d4ac10df627d1d465c483da7/9bec7/00_randomness_1.png 960w,./static/f4383a08d4ac10df627d1d465c483da7/afa5c/00_randomness_1.png 1920w" alt="Таблиці випадкових чисел із книги A Million Random Digits with 100,000 Normal Deviates, корпорація RAND"/></picture><noscript><picture><source type="image/webp" srcSet="./static/f4383a08d4ac10df627d1d465c483da7/3a3a2/00_randomness_1.webp 480w,./static/f4383a08d4ac10df627d1d465c483da7/bde8a/00_randomness_1.webp 960w,./static/f4383a08d4ac10df627d1d465c483da7/c512e/00_randomness_1.webp 1920w" sizes="(min-width: 1920px) 1920px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 1920px) 1920px, 100vw" decoding="async" loading="lazy" src="./static/f4383a08d4ac10df627d1d465c483da7/afa5c/00_randomness_1.png" srcSet="./static/f4383a08d4ac10df627d1d465c483da7/2fe1e/00_randomness_1.png 480w,./static/f4383a08d4ac10df627d1d465c483da7/9bec7/00_randomness_1.png 960w,./static/f4383a08d4ac10df627d1d465c483da7/afa5c/00_randomness_1.png 1920w" alt="Таблиці випадкових чисел із книги A Million Random Digits with 100,000 Normal Deviates, корпорація RAND"/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1,e.parentNode.parentNode.querySelector("[data-placeholder-image]").style.opacity=0)}}</script></div>
    <figcaption></figcaption>
  </figure>
  <span id="random-number-tables-from-a-million-random-digits-with-100000-normal-deviates-by-the-rand-corporation"><a class="heading-link" href="#random-number-tables-from-a-million-random-digits-with-100000-normal-deviates-by-the-rand-corporation">Таблиці випадкових чисел</a></span>
  <p>У 1947 році корпорація RAND випустила особливу книгу під назвою “A Million Random Digits with 100,000 Normal Deviates”. Книга не була літературним твором чи філософським трактатом про випадковість. Радше, це була таблиця випадкових чисел, згенерованих за допомогою електронної симуляції колеса рулетки. Ця книга була однією з останніх у серії таблиць випадкових чисел, створених із середини 1920-х до 1950-х років. З розвитком високошвидкісних комп’ютерів генерувати псевдовипад кові числа стало швидше, ніж зчитувати їх із таблиць, тому ця ера друкованих таблиць з випадковими числами остаточно завершилася.</p>
<hr/></div>
<p>Ось ми на самому початку. Якщо ви давно не програмували на JavaScript, або не займалися математикою, цей розділ допоможе вам повернутися до обчислювального мислення. Щоб почати свою подорож із кодування природи, я познайомлю вас із деякими базовими інструментами для програмування симуляцій: випадковими числами, випадковими розподілами та шумом. Думайте про цей розділ як про перший (нульовий!) елемент масиву, який складає цю книгу, — нагадування основ та ворота до можливостей, які чекають попереду.</p>
<figure>
  <div data-gatsby-image-wrapper="" class="gatsby-image-wrapper gatsby-image-wrapper-constrained"><div style="max-width:2304px;display:block"><img alt="" role="presentation" aria-hidden="true" src="data:image/svg+xml;charset=utf-8,%3Csvg height=&#x27;1500&#x27; width=&#x27;2304&#x27; xmlns=&#x27;http://www.w3.org/2000/svg&#x27; version=&#x27;1.1&#x27;%3E%3C/svg%3E" style="max-width:100%;display:block;position:static"/></div><div aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear;background-color:#f8f8f8;position:absolute;top:0;left:0;bottom:0;right:0"></div><picture><source type="image/webp" data-srcset="./static/c0bdd95828bf513d5bbf8fef8ea7ba0b/a0588/00_randomness_2.webp 576w,./static/c0bdd95828bf513d5bbf8fef8ea7ba0b/363be/00_randomness_2.webp 1152w,./static/c0bdd95828bf513d5bbf8fef8ea7ba0b/b9932/00_randomness_2.webp 2304w" sizes="(min-width: 2304px) 2304px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 2304px) 2304px, 100vw" decoding="async" loading="lazy" data-src="./static/c0bdd95828bf513d5bbf8fef8ea7ba0b/1c3de/00_randomness_2.png" data-srcset="./static/c0bdd95828bf513d5bbf8fef8ea7ba0b/be548/00_randomness_2.png 576w,./static/c0bdd95828bf513d5bbf8fef8ea7ba0b/e1706/00_randomness_2.png 1152w,./static/c0bdd95828bf513d5bbf8fef8ea7ba0b/1c3de/00_randomness_2.png 2304w" alt=""/></picture><noscript><picture><source type="image/webp" srcSet="./static/c0bdd95828bf513d5bbf8fef8ea7ba0b/a0588/00_randomness_2.webp 576w,./static/c0bdd95828bf513d5bbf8fef8ea7ba0b/363be/00_randomness_2.webp 1152w,./static/c0bdd95828bf513d5bbf8fef8ea7ba0b/b9932/00_randomness_2.webp 2304w" sizes="(min-width: 2304px) 2304px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 2304px) 2304px, 100vw" decoding="async" loading="lazy" src="./static/c0bdd95828bf513d5bbf8fef8ea7ba0b/1c3de/00_randomness_2.png" srcSet="./static/c0bdd95828bf513d5bbf8fef8ea7ba0b/be548/00_randomness_2.png 576w,./static/c0bdd95828bf513d5bbf8fef8ea7ba0b/e1706/00_randomness_2.png 1152w,./static/c0bdd95828bf513d5bbf8fef8ea7ba0b/1c3de/00_randomness_2.png 2304w" alt=""/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1,e.parentNode.parentNode.querySelector("[data-placeholder-image]").style.opacity=0)}}</script></div>
  <figcaption></figcaption>
</figure>
<p>У Розділі 1 я розповім про к онцепцію вектора і про те, як він буде слугувати будівельним блоком для моделювання руху в цій книзі. Але перед цим подумаймо про те, що означає рух чого-небудь на цифровому полотні. Я розпочну з однієї із найвідоміших і найпростіших симуляцій руху: випадкового блукання.</p>
<h2 id="random-walks"><a class="heading-link" href="#random-walks">Випадкове блукання</a></h2>
<p>Уявіть собі, що ви стоїте на середині гімнастичної колоди чи рейки. Кожні 10 секунд ви підкидаєте монету. Орел — крок вперед. Решка — крок назад. Це — <strong>випадкове блукання</strong> — шлях, визначений послідовністю випадкових кроків. Обережно зійшовши на підлогу, ви можете розширити своє випадкове блукання з одного виміру (переміщення лише вперед і назад) до двох вимірів (переміщення вперед, назад, ліворуч та праворуч). Тепер, маючи чотири можливі напрямки, вам для визначення наступного кроку потрібно підкидати монету двічі:</p>
<table><thead><tr><th>Підкидання 1</th><th>Підкидання 2</th><th>Результат</th></tr></thead><tbody><tr><td>Орел</td><td>Орел</td><td>Крок вперед</td></tr><tr><td>Орел</td><td>Решка</td><td>Крок вправо</td></tr><tr><td>Решка</td><td>Орел</td><td>Крок вліво</td></tr><tr><td>Решка</td><td>Решка</td><td>Крок назад</td></tr></tbody></table>
<p>Це може здатися простим алгоритмом, але ви можете використовувати випадкове блукання для моделювання різних явищ, які відбуваються у реальному світі, від руху молекул у газі до пошуку їжі твариною й поведінки гравця у казино. Для наших цілей випадкове блукання є ідеальним початком з трьох причин:</p>
<ul>
  <li>Я хотів би розглянути концепцію об’єктно-орієнтованого програмування (ООП), яка лежить в основі цієї книги. Випадковий блукач, якого я збираюся створити, послужить шаблоном при використанні об’єктно-орієнтованого проєкту для створення об’єктів, які рухатимуться на полотні комп’ютерної графіки.</li>
  <li>Випадкове блукання спонукає два питання, які я буду ставити знову й знову впродовж усієї книги: “Як ви визначаєте правила, що керують поведінкою ваших об’єктів?” і “Як ви втілюєте ці правила у коді?”</li>
  <li>Для проєктів цієї книги вам, час від часу, буде потрібне базове розуміння випадковості, ймовірності й шуму Перліна. Випадкове блукання дозволить мені продемонструвати ключові моменти, які стануть в пригоді пізніше.</li>
</ul>
<p>Спершу я трохи розгляну ООП, закодувавши клас <code>Walker</code> для створення об’єктів типу <code>Walker</code>, які зможуть робити випадкове блукання. Тут буде лише поверхневий огляд. Якщо ви раніше ніколи не працювали з ООП, вам може знадобитися більш комплексний матеріал для ознайомлення. У такому разі я пропоную зупинитися тут і переглянути <a href="https://thecodingtrain.com/objects" target="_blank" rel="noopener">розділ “Objects” мого відеокурсу “Code! Programming with p5.js” на сайті Coding Train</a>.</p>
<h2 id="the-random-walker-class"><a class="heading-link" href="#the-random-walker-class">Клас випадкового блукача</a></h2>
<p><strong>Об’єкт</strong> у JavaScript — це сутність, що має як дані, так і певну функціональність. В нашому випадку, об’єкт типу <code>Walker</code> повинен мати дані про своє положення на полотні й функціональні можливості, такі як здатність намалювати себе чи зробити крок.</p>
<p><strong>Клас</strong> є шаблоном для створення конкретних екземплярів об’єктів. Уявіть клас, як форму для печива, а об’єкти як саме печиво. Щоб створити об’єкт <code>Walker</code>, я почну з визначення класу <code>Walker</code>, що описуватиме блукача.</p>
<p>Блукачу потрібні всього лише дві частини даних: одне число для його <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord mathnormal">x</span></span></span></span></span>-положення і друге число для його <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>y</mi></mrow><annotation encoding="application/x-tex">y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em"></span><span class="mord mathnormal" style="margin-right:0.03588em">y</span></span></span></span></span>-положення. Щоб встановити початкове положення об’єкта, я ініціалізую ці координати значеннями, що відповідатимуть центру полотна. Я можу зробити це у функції-<strong>конструкторі</strong> класу, яка має відповідну назву <code>constructor()</code>. Ви можете розглядати конструктор як функцію <code>setup()</code> у програмі p5.js. Він відповідає за визначення початкових властивостей об’єкта, подібно до того, як <code>setup()</code> робить це для всієї програми p5.js:</p>
<div class="snip-below">
  <div class="codesplit callout not-prose" data-code-language="javascript"><div class="pair"><pre><code class="hljs code language-javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Walker</span> {
</code></pre><div class="comment"><p></p></div></div><div class="pair split"><pre><code class="hljs code language-javascript">  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"></span>) {
</code></pre><div class="comment"><p>Об’єкти мають конструктори де відбувається їх ініціалізація.</p></div></div><div class="pair split"><pre><code class="hljs code language-javascript">    <span class="hljs-variable language_">this</span>.<span class="hljs-property">x</span> = width / <span class="hljs-number">2</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">y</span> = height / <span class="hljs-number">2</span>;
</code></pre><div class="comment"><p>Об’єкти мають дані.</p></div></div><div class="pair"><pre><code class="hljs code language-javascript">  }
</code></pre><div class="comment"><p></p></div></div></div>
</div>
<p>Зверніть увагу на використання ключового слова <code>this</code> для додавання властивостей об’єкту всередині самого об’єкта: <code>this.x</code> і <code>this.y</code>.</p>
<p>Крім даних, класи можуть містити функціональність. У цьому прикладі об’єкт <code>Walker</code> має дві функції, які в ООП контексті називаються <strong>методами</strong>. Хоча методи фактично є функціями, відмінність полягає в тому, що методи визначаються всередині класу й пов’язані з об’єктом або класом, тоді як функції ні. Ключове слово <code>function</code> є хорошою підказкою: ви побачите його, при визначенні незалежних функцій, але воно не з’явиться всередині класу. Я намагатимусь використовувати ці терміни відповідним чином, але зазвичай програмісти використовують терміни <em>функція</em> та <em>метод</em> рівнозначно.</p>
<p>Перший метод <code>show()</code> включає код для малювання об’єкта у вигляді чорної точки. При посиланні на внутрішні властивості (змінні) об’єкта завжди використовуйте синтаксис <code>this.</code>:</p>
<div class="snip-below snip-above">
  <div class="codesplit callout not-prose" data-code-language="javascript"><div class="pair split"><pre><code class="hljs code language-javascript">  <span class="hljs-title function_">show</span>(<span class="hljs-params"></span>) {
    <span class="hljs-title function_">stroke</span>(<span class="hljs-number">0</span>);
    <span class="hljs-title function_">point</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">x</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">y</span>);
  }
</code></pre><div class="comment"><p>Об’єкти можуть мати методи.</p></div></div></div>
</div>
<p>Наступний метод <code>step()</code>, направлятиме кроки об’єкта <code>Walker</code>. Це той момент, коли речі стають трохи цікавішими. Пам’ятаєте, як ви робили кроки у випадкових напрямках на підлозі? Тепер, для зображення цієї підлоги, я використовуватиму полотно p5.js. Існують чотири можливих кроки. Крок вправо можна симулювати, збільшивши координату <code>x</code> за рахунок операції інкременту <code>x++</code>; крок вліво — зменшивши <code>x</code> за допомогою декременту <code>x--</code>; вперед — піднявшись на піксель вгору (<code>y--</code>); і назад — спуст ившись на один піксель вниз (<code>y++</code>). Але як код може вибрати один із цих чотирьох варіантів?</p>
<p>Раніше я казав, що можна підкидати дві монети. Проте у p5.js, коли вам потрібно зробити випадковий вибір зі списку варіантів, ви можете просто згенерувати випадкове число за допомогою функції <code>random()</code>. Вона повертає випадкове число з рухомою крапкою в межах потрібного вам діапазону. Тут я використовую число 4, щоб позначити діапазон значень від 0 до 4:</p>
<div class="codesplit callout not-prose" data-code-language="javascript"><div class="pair"><pre><code class="hljs code language-javascript"><span class="hljs-keyword">let</span> choice = <span class="hljs-title function_">floor</span>(<span class="hljs-title function_">random</span>(<span class="hljs-number">4</span>));
</code></pre><div class="comment"><p></p></div></div></div>
<p>Я оголосив змінну <code>choice</code> і присвоїв їй випадкове число, округливши його до цілочисельного значення за допомогою функції <code>floor()</code>. Технічно кажучи, число згенероване після виклику <code>random(4)</code> знаходиться у діапазоні від 0 (включно) до 4 (не включно), тобто воно ніколи не може бути 4.0. Найбільше можливе число цього діапазону буде трохи нижче від 4 — 3.999999999 (з такою кількістю дев’яток після крапки, скільки дозволяє JavaScript), яке потім округляється за допомогою функції <code>floor()</code> до 3, видаляючи десяткову частину. Тож я фактично присвоюю змінній <code>choice</code> значення 0, 1, 2 або 3.</p>
<div data-type="note" class="callout">
  <h3 id="coding-conventions"><a class="heading-link" href="#coding-conventions">Домовленості про стиль коду</a></h3>
  <p>У JavaScript змінні можна оголошувати за допомогою ключових слів <code>let</code> або <code>const</code>. Зазвичай рекомендується оголошувати всі змінні за допомогою <code>const</code> і змінювати їх на <code>let</code>, коли це потрібно. У цьому першому прикладі <code>const</code> буде більш відповідним для оголошення змінної <code>choice</code>, оскільки вона ніколи не отримує нового значення протягом свого використання всередині функції <code>step()</code>. Попри важливість цієї відмінності, для прикладів p5.js я обрав домовленість, що оголошуватиму всі змінні за допомогою <code>let</code>.</p>
  <p>Я розумію, що існують вагомі причини для використання і <code>const</code> і <code>let</code>. Однак ця відмінність може відвертати увагу й заплутувати початківців. Я закликаю вас, читачів, дослідити цю тему глибше й самостійно вирішити, як найкраще оголошувати змінні у власних скриптах. Для докладнішої інформації ви можете прочитати <a href="https://github.com/processing/p5.js/issues/3877" target="_blank" rel="noopener">обговорення, пов&#x27;язане з питанням #3877 у репозиторії p5.js на GitHub</a>.</p>
  <p>Я також зазначу, що вирішив використовувати ”суворий” оператор порівняння <code>===</code> (і його відповідник для визначення нерівності <code>!==</code>). Цей логічний оператор перевіряє рівність як значення, так і типу. Наприклад, вираз <code>3 === &#x27;3&#x27;</code> буде оцінено як <code>false</code> через різність типів (число проти рядка), навіть якщо вони виглядають схожими. З іншого боку, використання простого оператора порівняння <code>==</code> для виразу <code>3 == &#x27;3&#x27;</code> призведе до результату <code>true</code> через приведення різних типів до порівняльного стану. Хоча просте порівняння часто працює нормально, іноді воно може призвести до неочікуваних результатів, тому <code>===</code> безпечніший вибір.</p>
</div>
<p>Далі, блукач виконує відповідний крок (вліво, вправо, вгору або вниз), в залежності від того, яке випадкове число було вибрано. Ось повний код методу <code>step()</code>, що завершує клас <code>Walker</code>:</p>
<div class="snip-above">
  <div class="codesplit callout not-prose" data-code-language="javascript"><div class="pair"><pre><code class="hljs code language-javascript">  <span class="hljs-title function_">step</span>(<span class="hljs-params"></span>) {
</code></pre><div class="comment"><p></p></div></div><div class="pair split"><pre><code class="hljs code language-javascript">    <span class="hljs-keyword">let</span> choice = <span class="hljs-title function_">floor</span>(<span class="hljs-title function_">random</span>(<span class="hljs-number">4</span>));
</code></pre><div class="comment"><p>0, 1, 2 або 3. Випадкове значення визначає напрям кроку.</p></div></div><div class="pair"><pre><code class="hljs code language-javascript">    <span class="hljs-keyword">if</span> (choice === <span class="hljs-number">0</span>) {
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">      <span class="hljs-variable language_">this</span>.<span class="hljs-property">x</span>++;
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (choice === <span class="hljs-number">1</span>) {
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">      <span class="hljs-variable language_">this</span>.<span class="hljs-property">x</span>--;
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (choice === <span class="hljs-number">2</span>) {
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">      <span class="hljs-variable language_">this</span>.<span class="hljs-property">y</span>++;
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">    } <span class="hljs-keyword">else</span> {
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">      <span class="hljs-variable language_">this</span>.<span class="hljs-property">y</span>--;
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">    }
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">  }
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">}
</code></pre><div class="comment"><p></p></div></div></div>
</div>
<p>Тепер, коли я написав клас, настав час створити фактичний об’єкт <code>Walker</code> у самому коді. Припустимо, що ви хочете змоделювати одне випадкове блукання, тож почнемо з оголошення однієї глобальної змінної:</p>
<div class="codesplit callout not-prose" data-code-language="javascript"><div class="pair split"><pre><code class="hljs code language-javascript"><span class="hljs-keyword">let</span> walker;
</code></pre><div class="comment"><p>Змінна для зберігання екземпляру класу Walker.</p></div></div></div>
<p>Потім, у функції <code>setup()</code>, створіть екземпляр об’єкта посилаючись на ім&#x27;я класу з оператором <code>new</code>:</p>
<div class="codesplit callout not-prose" data-code-language="javascript"><div class="pair split"><pre><code class="hljs code language-javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">setup</span>(<span class="hljs-params"></span>) {
</code></pre><div class="comment"><p>Пам’ятаєте, як працює p5.js? Функція setup() виконується лише один раз при запуску програми.</p></div></div><div class="pair"><pre><code class="hljs code language-javascript">  <span class="hljs-title function_">createCanvas</span>(<span class="hljs-number">640</span>, <span class="hljs-number">240</span>);
</code></pre><div class="comment"><p></p></div></div><div class="pair split"><pre><code class="hljs code language-javascript">  walker = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Walker</span>();
  <span class="hljs-title function_">background</span>(<span class="hljs-number">255</span>);
</code></pre><div class="comment"><p>Створення об&#x27;єкта Walker.</p></div></div><div class="pair"><pre><code class="hljs code language-javascript">}
</code></pre><div class="comment"><p></p></div></div></div>
<p>Нарешті, під час кожного циклу функції <code>draw()</code>, блукач робить крок і малює точку:</p>
<div data-type="example">
  <h3 id="example-01-a-traditional-random-walk"><a class="heading-link" href="#example-01-a-traditional-random-walk">Приклад 0.1: Класичне випадкове блукання</a></h3>
  <figure>
    <div class="not-prose clear-both my-4 overflow-hidden rounded border bg-gray-100" style="max-width:1152px">
      <div class="relative overflow-hidden rounded-t bg-white">
        <!-- <div class="absolute left-[50%] top-[50%] -translate-x-[50%] -translate-y-[50%] ">Loading sketch ...</div> -->
        <iframe class="w-full border-none transition-opacity opacity-1000" style="aspect-ratio:2.67" src="./examples/00_randomness/example_i_1_random_walk_traditional"></iframe>

        </div><div class="flex items-center justify-between border-t"><div class="flex"><button class="flex items-center border-r px-2.5 py-1.5 text-sm hover:bg-gray-200"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" aria-hidden="true" class="h-[15px] w-[15px]" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path></svg><span class="ml-1.5">Reset</span></button><button class="flex items-center border-r px-2.5 py-1.5 text-sm hover:bg-gray-200"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" aria-hidden="true" class="h-4 w-4" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" d="M10 9v6m4-6v6m7-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><span class="ml-1">Pause</span></button></div><a href="https://editor.p5js.org/natureofcode/sketches/5C69XyrlsR" target="_blank" rel="noreferrer" class="flex items-center px-2.5 text-[0.8rem] hover:underline">Open in Web Editor<svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="ml-1 text-gray-500" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg></a>
      </div>

    </div>
    <figcaption>Кожного разу, коли ви бачите один з таких блоків із прикладом, це означає, що його відповідний код доступний у вебредакторі p5.js і на вебсайті книги. Якщо ви читаєте цю книгу офлайн, то побачите лише знімок екрана з результатом програми.</figcaption>
  </figure>
</div>
<div class="avoid-break">
  <div class="codesplit callout not-prose" data-code-language="javascript"><div class="pair split"><pre><code class="hljs code language-javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">draw</span>(<span class="hljs-params"></span>) {
</code></pre><div class="comment"><p>Функція draw() виконується нескінченну кількість разів (поки ви її не зупините чи не вийдете з програми).</p></div></div><div class="pair split"><pre><code class="hljs code language-javascript">  walker.<span class="hljs-title function_">step</span>();
  walker.<span class="hljs-title function_">show</span>();
</code></pre><div class="comment"><p>Виклик методів об’єкту Walker.</p></div></div><div class="pair"><pre><code class="hljs code language-javascript">}
</code></pre><div class="comment"><p></p></div></div></div>
</div>
<p>Оскільки фон малюється лише один раз у функції <code>setup()</code>, а не очищається щоразу під час постійного виконання функції <code>draw()</code>, сліди випадкового блукання залишаються видимими на полотні.</p>
<p>Я міг би внести до випадкового блукача кілька коригувань. По-перше, кроки цього <code>Walker</code>-об&#x27;єкта обмежені чотирма варіантами: вгору, вниз, ліворуч і праворуч. Але будь-який піксель на полотні може мати вісім можливих сусідів, включаючи діагональних (див. малюнок 0.1). Можливість залишитися на місці може бути дев&#x27;ятим варіантом.</p>
<figure>
  <div data-gatsby-image-wrapper="" class="gatsby-image-wrapper gatsby-image-wrapper-constrained"><div style="max-width:2304px;display:block"><img alt="" role="presentation" aria-hidden="true" src="data:image/svg+xml;charset=utf-8,%3Csvg height=&#x27;1072&#x27; width=&#x27;2304&#x27; xmlns=&#x27;http://www.w3.org/2000/svg&#x27; version=&#x27;1.1&#x27;%3E%3C/svg%3E" style="max-width:100%;display:block;position:static"/></div><div aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear;background-color:#f8f8f8;position:absolute;top:0;left:0;bottom:0;right:0"></div><picture><source type="image/webp" data-srcset="./static/aadc9596c3cc74ec0e40659f9d7456c6/9b8e9/00_randomness_3.webp 576w,./static/aadc9596c3cc74ec0e40659f9d7456c6/d1ca8/00_randomness_3.webp 1152w,./static/aadc9596c3cc74ec0e40659f9d7456c6/a968e/00_randomness_3.webp 2304w" sizes="(min-width: 2304px) 2304px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 2304px) 2304px, 100vw" decoding="async" loading="lazy" data-src="./static/aadc9596c3cc74ec0e40659f9d7456c6/645a4/00_randomness_3.png" data-srcset="./static/aadc9596c3cc74ec0e40659f9d7456c6/2b454/00_randomness_3.png 576w,./static/aadc9596c3cc74ec0e40659f9d7456c6/a7b8c/00_randomness_3.png 1152w,./static/aadc9596c3cc74ec0e40659f9d7456c6/645a4/00_randomness_3.png 2304w" alt="Малюнок 0.1: Кроки випадкового блукача, з діагоналями й без них"/></picture><noscript><picture><source type="image/webp" srcSet="./static/aadc9596c3cc74ec0e40659f9d7456c6/9b8e9/00_randomness_3.webp 576w,./static/aadc9596c3cc74ec0e40659f9d7456c6/d1ca8/00_randomness_3.webp 1152w,./static/aadc9596c3cc74ec0e40659f9d7456c6/a968e/00_randomness_3.webp 2304w" sizes="(min-width: 2304px) 2304px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 2304px) 2304px, 100vw" decoding="async" loading="lazy" src="./static/aadc9596c3cc74ec0e40659f9d7456c6/645a4/00_randomness_3.png" srcSet="./static/aadc9596c3cc74ec0e40659f9d7456c6/2b454/00_randomness_3.png 576w,./static/aadc9596c3cc74ec0e40659f9d7456c6/a7b8c/00_randomness_3.png 1152w,./static/aadc9596c3cc74ec0e40659f9d7456c6/645a4/00_randomness_3.png 2304w" alt="Малюнок 0.1: Кроки випадкового блукача, з діагоналями й без них"/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1,e.parentNode.parentNode.querySelector("[data-placeholder-image]").style.opacity=0)}}</script></div>
  <figcaption>Малюнок 0.1: Кроки випадкового блукача, з діагоналями й без них</figcaption>
</figure>
<p>Для імплементації об&#x27;єкта <code>Walker</code>, який може зробити крок на будь-який сусідній піксель або залишитися на місці, я міг би вибрати число від 0 до 8 (дев&#x27;ять можливих варіантів). Однак іншим способом реалізації нашого наміру буде вибір з трьох можливих кроків вздовж вісі <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord mathnormal">x</span></span></span></span></span> (-1, 0 або 1) і трьох можливих кроків вздовж вісі <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>y</mi></mrow><annotation encoding="application/x-tex">y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em"></span><span class="mord mathnormal" style="margin-right:0.03588em">y</span></span></span></span></span>:</p>
<div class="codesplit callout not-prose" data-code-language="javascript"><div class="pair"><pre><code class="hljs code language-javascript">  <span class="hljs-title function_">step</span>(<span class="hljs-params"></span>) {
</code></pre><div class="comment"><p></p></div></div><div class="pair split"><pre><code class="hljs code language-javascript">    <span class="hljs-keyword">let</span> xstep = <span class="hljs-title function_">floor</span>(<span class="hljs-title function_">random</span>(<span class="hljs-number">3</span>)) - <span class="hljs-number">1</span>;
    <span class="hljs-keyword">let</span> ystep = <span class="hljs-title function_">floor</span>(<span class="hljs-title function_">random</span>(<span class="hljs-number">3</span>)) - <span class="hljs-number">1</span>;
</code></pre><div class="comment"><p>Отримання значення -1, 0 або 1.</p></div></div><div class="pair"><pre><code class="hljs code language-javascript">    <span class="hljs-variable language_">this</span>.<span class="hljs-property">x</span> += xstep;
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">    <span class="hljs-variable language_">this</span>.<span class="hljs-property">y</span> += ystep;
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">  }
</code></pre><div class="comment"><p></p></div></div></div>
<p>Я також можу позбутися функції <code>floor()</code> і напряму використовувати вихідні числа з рухомою крапкою від функції <code>random()</code>, щоб створити безперервний діапазон можливих довжин кроків від -1 до 1, як показано далі:</p>
<div class="codesplit callout not-prose" data-code-language="javascript"><div class="pair"><pre><code class="hljs code language-javascript">  <span class="hljs-title function_">step</span>(<span class="hljs-params"></span>) {
</code></pre><div class="comment"><p></p></div></div><div class="pair split"><pre><code class="hljs code language-javascript">    <span class="hljs-keyword">let</span> xstep = <span class="hljs-title function_">random</span>(–<span class="hljs-number">1</span>, <span class="hljs-number">1</span>);
    <span class="hljs-keyword">let</span> ystep = <span class="hljs-title function_">random</span>(–<span class="hljs-number">1</span>, <span class="hljs-number">1</span>);
</code></pre><div class="comment"><p>Будь-яке число з рухомою крапкою від -1 до 1.</p></div></div><div class="pair"><pre><code class="hljs code language-javascript">    <span class="hljs-variable language_">this</span>.<span class="hljs-property">x</span> += xstep;
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">    <span class="hljs-variable language_">this</span>.<span class="hljs-property">y</span> += ystep;
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">  }
</code></pre><div class="comment"><p></p></div></div></div>
<p>Всі ці варіації традиційного випадкового блукання мають спільну рису: в будь-який момент часу ймовірність того, що блукач зробить крок у певному напрямку, дорівнює ймовірності, що він зробить цей крок й у будь-якому іншому напрямку. Іншими словами, якщо є чотири можливих кроки, то шанс того, що блукач зробить будь-який з них дорівнює 1 з 4 (або 25%). З дев&#x27;ятьма можливими кроками цей шанс 1 з 9 (близько 11.1%).</p>
<p>Дуже зручно, що саме так і працює функція <code>random()</code>. Генератор випадкових чисел у p5.js створює <strong>рівномірний розподіл</strong> чисел. Ви можете перевірити цей розподіл за допомогою прикладу, який підраховує кількість разів, коли вибирається певне випадкове число, і зображує цю кількість через висоту прямокутника.</p>
<div data-type="example">
  <h3 id="example-02-a-random-number-distribution"><a class="heading-link" href="#example-02-a-random-number-distribution">Приклад 0.2: Розподіл випадкових чисел</a></h3>
  <figure>
    <div class="not-prose clear-both my-4 overflow-hidden rounded border bg-gray-100" style="max-width:1152px"><div class="relative overflow-hidden rounded-t bg-white"><!-- <div class="absolute left-[50%] top-[50%] -translate-x-[50%] -translate-y-[50%] ">Loading sketch ...</div> --><iframe class="w-full border-none transition-opacity opacity-1000" style="aspect-ratio:2.667" loading="lazy" src="./examples/00_randomness/example_i_2_random_distribution"></iframe></div><div class="flex items-center justify-between border-t"><div class="flex"><button class="flex items-center border-r px-2.5 py-1.5 text-sm hover:bg-gray-200"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" aria-hidden="true" class="h-[15px] w-[15px]" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path></svg><span class="ml-1.5">Reset</span></button><button class="flex items-center border-r px-2.5 py-1.5 text-sm hover:bg-gray-200"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" aria-hidden="true" class="h-4 w-4" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" d="M10 9v6m4-6v6m7-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><span class="ml-1">Pause</span></button></div><a href="https://editor.p5js.org/natureofcode/sketches/u4vTwZuhT" target="_blank" rel="noreferrer" class="flex items-center px-2.5 text-[0.8rem] hover:underline">Open in Web Editor<svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="ml-1 text-gray-500" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg></a></div></div>
    <figcaption></figcaption>
  </figure>
</div>
<div class="codesplit callout not-prose" data-code-language="javascript"><div class="pair split"><pre><code class="hljs code language-javascript"><span class="hljs-keyword">let</span> randomCounts = [];
</code></pre><div class="comment"><p>Масив для відстеження частоти вибору випадкових чисел.</p></div></div><div class="pair split"><pre><code class="hljs code language-javascript"><span class="hljs-keyword">let</span> total = <span class="hljs-number">20</span>;
</code></pre><div class="comment"><p>Загальна кількість чисел.</p></div></div><div class="pair"><pre><code class="hljs code language-javascript">
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">setup</span>(<span class="hljs-params"></span>) {
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">  <span class="hljs-title function_">createCanvas</span>(<span class="hljs-number">640</span>, <span class="hljs-number">240</span>);
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; total; i++) {
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">    randomCounts[i] = <span class="hljs-number">0</span>;
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">  }
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">}
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">draw</span>(<span class="hljs-params"></span>) {
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">  <span class="hljs-title function_">background</span>(<span class="hljs-number">255</span>);
</code></pre><div class="comment"><p></p></div></div><div class="pair split"><pre><code class="hljs code language-javascript">  <span class="hljs-keyword">let</span> index = <span class="hljs-title function_">floor</span>(<span class="hljs-title function_">random</span>(randomCounts.<span class="hljs-property">length</span>));
  randomCounts[index]++;
</code></pre><div class="comment"><p>Вибір випадкового числа й збільшення лічильника у відповідному слоті.</p></div></div><div class="pair"><pre><code class="hljs code language-javascript">  <span class="hljs-title function_">stroke</span>(<span class="hljs-number">0</span>);
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">  <span class="hljs-title function_">fill</span>(<span class="hljs-number">127</span>);
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">  <span class="hljs-keyword">let</span> w = width / randomCounts.<span class="hljs-property">length</span>;
</code></pre><div class="comment"><p></p></div></div><div class="pair split"><pre><code class="hljs code language-javascript">  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> x = <span class="hljs-number">0</span>; x &lt; randomCounts.<span class="hljs-property">length</span>; x++) {
    <span class="hljs-title function_">rect</span>(x * w, height - randomCounts[x], w - <span class="hljs-number">1</span>, randomCounts[x]);
  }
</code></pre><div class="comment"><p>Побудова результатів на графіку.</p></div></div><div class="pair"><pre><code class="hljs code language-javascript">}
</code></pre><div class="comment"><p></p></div></div></div>
<p>Зверніть увагу, що кожен стовпчик на графіку трохи відрізняється за своєю висотою. Розмір вибірки (кількість вибраних випадкових чисел) є невеликим, тому час від часу виникають незначні розходження, коли деякі числа вибираються частіше. З певним часом, маючи хороший генератор випадкових чисел, результат вирівнюється.</p>
<div data-type="note" class="callout">
  <h3 id="pseudorandom-numbers"><a class="heading-link" href="#pseudorandom-numbers">Псевдовипадкові числа</a></h3>
  <p>Випадкові числа з функції <code>random()</code> насправді не є дійсно випадковими. Натомість вони <strong>псевдовипадкові</strong>, оскільки є результатом математичної функції, яка лише імітує випадковість. Ця функція через деякий проміжок часу проявляє певну закономірність і, таким чином, перестає здаватися випадковою. Проте цей період настільки великий, що функція <code>random()</code> є достатньо випадковою для прикладів цієї книги.</p>
</div>
<div data-type="exercise" class="callout">
  <h3 id="exercise-01"><a class="heading-link" href="#exercise-01">Вправа 0.1</a></h3>
  <p>Створіть випадкового блукача, який матиме тенденцію до частішого руху вниз і вправо (рішення для цієї вправи наведено у наступній частині розділу).</p>
</div>
<h2 id="probability-and-nonuniform-distributions"><a class="heading-link" href="#probability-and-nonuniform-distributions">Імовірність і нерівномірний розподіл</a></h2>
<p>Часто рівномірна випадковість не найкраще рішення для певних задач, особливо для задач пов&#x27;язаних зі створенням органічної або природоподібної симуляції. Проте, за допомоги кількох хитрощів, функція <code>random()</code> може створювати <strong>нерівномірні розподіли</strong> випадкових чисел, де деякі результати ймовірніші за інші. Цей тип розподілу може призвести до цікавіших, на перший погляд, природних результатів.</p>
<p>Подумайте про те, коли ви вперше почали програмувати з p5.js. Можливо, ви хотіли намалювати багато кругів на екрані й сказали собі: “О, я знаю! Я намалюю всі ці круги у випадкових положеннях, із випадковими розмірами та випадковими кольорами”. Подібне засівання полотна за допомогою випадковості є цілком розумною відправною точкою коли ви вивчаєте основи комп’ютерної графіки, але в цій книзі я прагну будувати системи за зразком тих, що ми бачимо в природі, і рівномірна випадковість не завжди підходить для цього. Іноді терези випадковості потрібно схилити на певну користь.</p>
<p>Створення нерівномірного розподілу випадкових чисел буде корисним впродовж усієї книги. Наприклад, у Розділі 9 про генетичні алгоритми мені знадобиться методологія відбору — які представники популяції повинні бути вибрані, щоб передати свою ДНК наступному поколінню? Це схоже на дарвінівську концепцію виживання найпристосованіших. Скажімо, у вас є популяція мавп, що розвивається. Не кожна мавпа має рівні шанси на розмноження. Щоб симулювати дарвінівський природний відбір, ви не можете просто вибрати двох випадкових мавп для батьківства. Більш “пристосовані” повинні мати більше шансів для відбору. Це можна вважати <em>ймовірністю найпристосованіших</em>.</p>
<p>Дозвольте мені зупинитися тут і розглянути основні принципи ймовірності, щоб я міг застосовувати точніші слова до наступних прикладів коду. Я почну з <strong>імовірності однієї події</strong> — ймовірності того, що певна подія відбудеться. У ймовірності <strong>результатами</strong> рахуються усі можливі варіанти випадкового процесу, а <strong>подія</strong> — це конкретний результат або комбінація результатів, що розглядаються.</p>
<p>Якщо у вас є сценарій, де кожен результат так само вірогідний, як і інші, ймовірність виникнення даної події дорівнює кількості результатів, які відповідають цій події, поділеній на загальну кількість всіх можливих результатів. Простим прикладом є підкидання монети — воно має лише два можливі результати: орел або решка. Є лише один спосіб отримати орла, тому ймовірність того, що монета випаде орлом дорівнює одиниці поділеній на два: 1/2 або 50 відсотків.</p>
<p>Візьмемо колоду з 52 карт. Порахуємо ймовірність витягнути туза з цієї колоди:</p>
<div data-type="equation" class="math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mtext>кількість тузів </mtext><mi mathvariant="normal">/</mi><mtext> кількість карт</mtext><mo>=</mo><mn>4</mn><mi mathvariant="normal">/</mi><mn>52</mn><mo>=</mo><mn>0.077</mn><mo>≈</mo><mn>8</mn><mi mathvariant="normal">%</mi></mrow><annotation encoding="application/x-tex">\textrm{кількість тузів } / \textrm{ кількість карт} = 4 / 52 = 0.077 \approx 8\%</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord text"><span class="mord textrm cyrillic_fallback">кількість</span><span class="mord textrm"> </span><span class="mord textrm cyrillic_fallback">тузів</span><span class="mord textrm"> </span></span><span class="mord">/</span><span class="mord text"><span class="mord textrm"> </span><span class="mord textrm cyrillic_fallback">кількість</span><span class="mord textrm"> </span><span class="mord textrm cyrillic_fallback">карт</span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord">4/52</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.6444em"></span><span class="mord">0.077</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">≈</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.8056em;vertical-align:-0.0556em"></span><span class="mord">8%</span></span></span></span></span></div>
<p>Імовірність витягнути бубнову масть вираховується наступним чином:</p>
<div data-type="equation" class="math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mtext>кількість бубнових </mtext><mi mathvariant="normal">/</mi><mtext> кількість карт</mtext><mo>=</mo><mn>13</mn><mi mathvariant="normal">/</mi><mn>52</mn><mo>=</mo><mn>0.25</mn><mo>=</mo><mn>25</mn><mi mathvariant="normal">%</mi></mrow><annotation encoding="application/x-tex">\textrm{кількість бубнових }/ \textrm{ кількість карт} = 13 / 52 = 0.25 = 25\%</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord text"><span class="mord textrm cyrillic_fallback">кількість</span><span class="mord textrm"> </span><span class="mord textrm cyrillic_fallback">бубнових</span><span class="mord textrm"> </span></span><span class="mord">/</span><span class="mord text"><span class="mord textrm"> </span><span class="mord textrm cyrillic_fallback">кількість</span><span class="mord textrm"> </span><span class="mord textrm cyrillic_fallback">карт</span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord">13/52</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.6444em"></span><span class="mord">0.25</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.8056em;vertical-align:-0.0556em"></span><span class="mord">25%</span></span></span></span></span></div>
<p>Ви також можете обчислити ймовірність кількох  послідовних подій, перемноживши окремі ймовірності кожної події. Наприклад, ймовірність того, що монета тричі поспіль випаде орлом, становить:</p>
<div data-type="equation" class="math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mo stretchy="false">(</mo><mn>1</mn><mi mathvariant="normal">/</mi><mn>2</mn><mo stretchy="false">)</mo><mo>×</mo><mo stretchy="false">(</mo><mn>1</mn><mi mathvariant="normal">/</mi><mn>2</mn><mo stretchy="false">)</mo><mo>×</mo><mo stretchy="false">(</mo><mn>1</mn><mi mathvariant="normal">/</mi><mn>2</mn><mo stretchy="false">)</mo><mo>=</mo><mn>1</mn><mi mathvariant="normal">/</mi><mn>8</mn><mo>=</mo><mn>0.125</mn><mo>=</mo><mn>12.5</mn><mi mathvariant="normal">%</mi></mrow><annotation encoding="application/x-tex">(1/2) \times (1/2) \times (1/2) = 1/8 = 0.125 = 12.5\%</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mopen">(</span><span class="mord">1/2</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mopen">(</span><span class="mord">1/2</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mopen">(</span><span class="mord">1/2</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord">1/8</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.6444em"></span><span class="mord">0.125</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.8056em;vertical-align:-0.0556em"></span><span class="mord">12.5%</span></span></span></span></span></div>
<p>Це означає, що монета випадатиме орлом догори тричі поспіль в середньому один раз із восьми. Якби ви підкидували монету тричі поспіль 500 разів, то могли очікувати побачити результат із трьох послідовних орлів у середньому в одному із восьми випадків, або приблизно 63 рази.</p>
<div data-type="exercise" class="callout">
  <h3 id="exercise-02"><a class="heading-link" href="#exercise-02">Вправа 0.2</a></h3>
  <p>Яка ймовірність витягнути поспіль два тузи із перетасованої колоди з 52 карт, якщо після першого вибору карти ви повернете її у колоду і перед другим вибором знову перетасуєте колоду? Якою була б ця ймовірність, якби ви не перетасували колоду після першого вибору?</p>
</div>
<div class="avoid-break">
  <p>Для застосування концепції ймовірності у вашому коді, для нерівномірного розподілу, ви можете використовувати функцію <code>random()</code> кількома способами. Один зі способів полягає у заповненні масиву числами, деякі з яких повторюються, а потім вибрати з нього випадкові елементи та згенерувати події на основі цих виборів:</p>
</div>
<div class="codesplit callout not-prose" data-code-language="javascript"><div class="pair split"><pre><code class="hljs code language-javascript"><span class="hljs-keyword">let</span> stuff = [<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">3</span>];
</code></pre><div class="comment"><p>Числа 1 і 3 розташовані у масиві двічі, що підвищує ймовірність їх вибору по відношенню до 2-ки.</p></div></div><div class="pair split"><pre><code class="hljs code language-javascript"><span class="hljs-keyword">let</span> value = <span class="hljs-title function_">random</span>(stuff);
</code></pre><div class="comment"><p>Вибір випадкового елемента із масиву.</p></div></div><div class="pair"><pre><code class="hljs code language-javascript"><span class="hljs-title function_">print</span>(value);
</code></pre><div class="comment"><p></p></div></div></div>
<p>П’ятиелементний масив має дві одиниці, тому для вибору одиниці цей код дає ймовірність 2 із 5 (2/5 або 40%). Подібним чином маємо ймовірність у 20 відсотків для виведення двійки й 40 відсотків для трійки.</p>
<p>Ви також можете згенерувати випадкове число й дозволити якійсь події відбутис я лише якщо це число знаходиться у певному діапазоні. Для спрощення розглянемо лише випадкові значення від 0 до 1, наприклад:</p>
<div class="codesplit callout not-prose" data-code-language="javascript"><div class="pair split"><pre><code class="hljs code language-javascript"><span class="hljs-keyword">let</span> probability = <span class="hljs-number">0.1</span>;
</code></pre><div class="comment"><p>Імовірність у 10%.</p></div></div><div class="pair split"><pre><code class="hljs code language-javascript"><span class="hljs-keyword">let</span> r = <span class="hljs-title function_">random</span>(<span class="hljs-number">1</span>);
</code></pre><div class="comment"><p>Випадкове число від 0 до 1.</p></div></div><div class="pair split"><pre><code class="hljs code language-javascript"><span class="hljs-keyword">if</span> (r &lt; probability) {
  <span class="hljs-title function_">print</span>(<span class="hljs-string">&quot;Співай!&quot;</span>);
}
</code></pre><div class="comment"><p>Якщо випадкове число менше ніж 0.1, тоді співаємо!</p></div></div></div>
<p>Одна десята усіх значень від 0 до 1 буде меншою за 0.1, тому цей код призведе до співу лише у 10 відсотках випадків.</p>
<p>Ви можете використовувати той самий підхід, щоб застосувати нерівні ваги до кількох результатів. Скажімо, ви хочете, щоб спів відбувався з ймовірністю у 60 відсотків, танці — з ймовірністю у 10 відсотків, а сон — з ймовірністю у 30 відсотків. Знову ж таки, ви можете вибрати випадкове число від 0 до 1 і подивитися в який діапазон воно потрапляє:</p>
<ul>
  <li>Від 0.0 до 0.6 (60 відсотків) → Спів</li>
  <li>Від 0.6 до 0.7 (10 відсотків) → Танці</li>
  <li>Від 0.7 до 1.0 (30 відсотків) → Сон</li>
</ul>
<div class="codesplit callout not-prose" data-code-language="javascript"><div class="pair"><pre><code class="hljs code language-javascript"><span class="hljs-keyword">let</span> num = <span class="hljs-title function_">random</span>(<span class="hljs-number">1</span>);
</code></pre><div class="comment"><p></p></div></div><div class="pair split"><pre><code class="hljs code language-javascript"><span class="hljs-keyword">if</span> (num &lt; <span class="hljs-number">0.6</span>) {
  <span class="hljs-title function_">print</span>(<span class="hljs-string">&quot;Співай!&quot;</span>);
</code></pre><div class="comment"><p>Якщо випадкове число менше від 0.6.</p></div></div><div class="pair split"><pre><code class="hljs code language-javascript">} <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (num &lt; <span class="hljs-number">0.7</span>) {
  <span class="hljs-title function_">print</span>(<span class="hljs-string">&quot;Танцюй!&quot;</span>);
</code></pre><div class="comment"><p>Від 0.6 до 0.7.</p></div></div><div class="pair split"><pre><code class="hljs code language-javascript">} <span class="hljs-keyword">else</span> {
  <span class="hljs-title function_">print</span>(<span class="hljs-string">&quot;Спи!&quot;</span>);
}
</code></pre><div class="comment"><p>Усі інші випадки (значення більше за 0.7 або рівне йому).</p></div></div></div>
<p>Тепер застосуємо цей метод до випадкового блукача, щоб він мав тенденцію до руху в певному напрямку. Ось приклад для блукача з наступними ймовірностями:</p>
<ul>
  <li>Імовірність руху вгору: 20 відсотків</li>
  <li>Імовірність руху вниз: 20 відсотків</li>
  <li>Імовірність руху вліво: 20 відсотків</li>
  <li>Імовірність руху вправо: 40 відсотків</li>
</ul>
<div data-type="example">
  <h3 id="example-03-a-walker-that-tends-to-move-to-the-right"><a class="heading-link" href="#example-03-a-walker-that-tends-to-move-to-the-right">Приклад 0.3: Блукач з тенденцію до руху праворуч</a></h3>
  <figure>
    <div class="not-prose clear-both my-4 overflow-hidden rounded border bg-gray-100" style="max-width:1152px"><div class="relative overflow-hidden rounded-t bg-white"><!-- <div class="absolute left-[50%] top-[50%] -translate-x-[50%] -translate-y-[50%] ">Loading sketch ...</div> --><iframe class="w-full border-none transition-opacity opacity-1000" style="aspect-ratio:2.667" loading="lazy" src="./examples/00_randomness/example_i_3_random_walk_tends_to_right"></iframe></div><div class="flex items-center justify-between border-t"><div class="flex"><button class="flex items-center border-r px-2.5 py-1.5 text-sm hover:bg-gray-200"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" aria-hidden="true" class="h-[15px] w-[15px]" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path></svg><span class="ml-1.5">Reset</span></button><button class="flex items-center border-r px-2.5 py-1.5 text-sm hover:bg-gray-200"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" aria-hidden="true" class="h-4 w-4" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" d="M10 9v6m4-6v6m7-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><span class="ml-1">Pause</span></button></div><a href="https://editor.p5js.org/natureofcode/sketches/iAjs_70DF" target="_blank" rel="noreferrer" class="flex items-center px-2.5 text-[0.8rem] hover:underline">Open in Web Editor<svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="ml-1 text-gray-500" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg></a></div></div>
    <figcaption></figcaption>
  </figure>
</div>
<div class="codesplit callout not-prose" data-code-language="javascript"><div class="pair"><pre><code class="hljs code language-javascript">  <span class="hljs-title function_">step</span>(<span class="hljs-params"></span>) {
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">    <span class="hljs-keyword">let</span> r = <span class="hljs-title function_">random</span>(<span class="hljs-number">1</span>);
</code></pre><div class="comment"><p></p></div></div><div class="pair split"><pre><code class="hljs code language-javascript">    <span class="hljs-keyword">if</span> (r &lt; <span class="hljs-number">0.4</span>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">x</span>++;
</code></pre><div class="comment"><p>Вірогідність у 40% до руху вправо</p></div></div><div class="pair"><pre><code class="hljs code language-javascript">    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (r &lt; <span class="hljs-number">0.6</span>) {
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">      <span class="hljs-variable language_">this</span>.<span class="hljs-property">x</span>--;
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (r &lt; <span class="hljs-number">0.8</span>) {
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">      <span class="hljs-variable language_">this</span>.<span class="hljs-property">y</span>++;
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">    } <span class="hljs-keyword">else</span> {
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">      <span class="hljs-variable language_">this</span>.<span class="hljs-property">y</span>--;
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">    }
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">  }
</code></pre><div class="comment"><p></p></div></div></div>
<div class="avoid-break">
  <p>Іншим поширеним використанням цієї техніки є контроль ймовірності події, яку ви хочете у своєму коді виконувати спорадично. Наприклад, ви створюєте програму, яка запускає нового випадкового блукача через регулярні проміжки часу, скажімо, кожні 100 кадрів. Замість цього, за допомогою функції <code>random()</code>, ви можете надати 1-відсоткову ймовірність появи нового блукача. Кінцевий результат майже такий самий (новий блукач у середньому на кожні 100 кадрів), але останній варіант містить в собі елемент випадковості й виглядає більш динамічним та неперед бачуваним.</p>
</div>
<div data-type="exercise" class="callout">
  <h3 id="exercise-03"><a class="heading-link" href="#exercise-03">Вправа 0.3</a></h3>
  <p>Створіть випадкового блукача з динамічними ймовірностями. Наприклад, чи зможете ви надати йому 50-відсотковий шанс до руху в напрямку курсора? Пам&#x27;ятайте, що для отримання поточної позиції курсора у p5.js, ви можете використовувати змінні <code>mouseX</code> і <code>mouseY</code>!</p>
</div>
<h2 id="a-normal-distribution-of-random-numbers"><a class="heading-link" href="#a-normal-distribution-of-random-numbers">Нормальний розподіл випадкових чисел</a></h2>
<p>Ще одним способом створення нерівномірного розподілу випадкових чисел є використання <strong>нормального розподілу</strong>, де більшість чисел групується навколо середнього значення. Щоб зрозуміти, чому це корисно, повернімось до імітації популяції мавп і припустімо, що ваша програма генерує тисячу об’єктів <code>Monkey</code>, кожен із випадковим значенням висоти від 200 до 300 (оскільки це світ мавп зі зростом від 200 до 300 пікселів):</p>
<div class="codesplit callout not-prose" data-code-language="javascript"><div class="pair"><pre><code class="hljs code language-javascript"><span class="hljs-keyword">let</span> h = <span class="hljs-title function_">random</span>(<span class="hljs-number">200</span>, <span class="hljs-number">300</span>);
</code></pre><div class="comment"><p></p></div></div></div>
<p>Чи це підхожий алг оритм для створення зростів популяції? Подумайте про багатолюдну вулицю на Хрещатику. Вибравши звідти будь-яку людину може здатися, що її зріст випадковий. Проте, це не той тип випадковості, який функція <code>random()</code> створює за замовчуванням. Висота людей розподілена нерівномірно. Людей з приблизно середнім зростом набагато більше, ніж дуже високих або дуже низьких. Для точнішого відтворення цієї закономірності випадкові значення зросту ближчі до <strong>середнього</strong> мають бути більш ймовірними для вибору. Тоді як віддалені значення, дуже низькі або дуже високі, мають випадати рідше.</p>
<p>Саме так працює нормальний розподіл. Іноді його називають розподілом Гаусса на честь математика Карла Фрідріха Гаусса. Графік цього розподілу, неофіційно відомий як <strong>дзвоноподібна крива</strong>. Ця крива генерується математичною функцією, яка визначає ймовірність появи будь-якого даного значення як функцію середнього (часто записується грецькою літерою мю — <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>μ</mi></mrow><annotation encoding="application/x-tex">μ</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em"></span><span class="mord mathnormal">μ</span></span></span></span></span>) і стандартного відхилення (позначається грецькою літерою сигма — <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>σ</mi></mrow><annotation encoding="application/x-tex">σ</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord mathnormal" style="margin-right:0.03588em">σ</span></span></span></span></span>).</p>
<p>У випадку значень для зросту між 200 і 300 ви, ймовірно, маєте інтуїтивне відчуття, що середнє значення становить 250. Однак що, якщо я скажу, що стандартне відхилення дорівнює 3? Або 15? Що це означає для чисел? Графік, зображений на малюнку 0.2, повинен дати вам підказку.</p>
<figure>
  <div class="col-list">
    <div>
      <div class="not-prose clear-both my-4 overflow-hidden rounded border bg-gray-100" style="max-width:1152px"><div class="relative overflow-hidden rounded-t bg-white"><!-- <div class="absolute left-[50%] top-[50%] -translate-x-[50%] -translate-y-[50%] ">Loading sketch ...</div> --><iframe class="w-full border-none transition-opacity opacity-1000" style="aspect-ratio:2.667" loading="lazy" src="./examples/00_randomness/figure_0_2_bell_curve_low"></iframe></div><div class="flex items-center justify-between border-t"><div class="flex"><button class="flex items-center border-r px-2.5 py-1.5 text-sm hover:bg-gray-200"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" aria-hidden="true" class="h-[15px] w-[15px]" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path></svg><span class="ml-1.5">Reset</span></button><button class="flex items-center border-r px-2.5 py-1.5 text-sm hover:bg-gray-200"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" aria-hidden="true" class="h-4 w-4" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" d="M10 9v6m4-6v6m7-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><span class="ml-1">Pause</span></button></div><a href="https://editor.p5js.org/natureofcode/sketches/lwgyvHXFy" target="_blank" rel="noreferrer" class="flex items-center px-2.5 text-[0.8rem] hover:underline">Open in Web Editor<svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="ml-1 text-gray-500" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg></a></div></div>
    </div>
    <div>
      <div class="not-prose clear-both my-4 overflow-hidden rounded border bg-gray-100" style="max-width:1152px"><div class="relative overflow-hidden rounded-t bg-white"><!-- <div class="absolute left-[50%] top-[50%] -translate-x-[50%] -translate-y-[50%] ">Loading sketch ...</div> --><iframe class="w-full border-none transition-opacity opacity-1000" style="aspect-ratio:2.667" loading="lazy" src="./examples/00_randomness/figure_0_2_bell_curve_high"></iframe></div><div class="flex items-center justify-between border-t"><div class="flex"><button class="flex items-center border-r px-2.5 py-1.5 text-sm hover:bg-gray-200"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" aria-hidden="true" class="h-[15px] w-[15px]" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path></svg><span class="ml-1.5">Reset</span></button><button class="flex items-center border-r px-2.5 py-1.5 text-sm hover:bg-gray-200"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" aria-hidden="true" class="h-4 w-4" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" d="M10 9v6m4-6v6m7-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><span class="ml-1">Pause</span></button></div><a href="https://editor.p5js.org/natureofcode/sketches/4jvvCSdZP" target="_blank" rel="noreferrer" class="flex items-center px-2.5 text-[0.8rem] hover:underline">Open in Web Editor<svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="ml-1 text-gray-500" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg></a></div></div>
    </div>
  </div>
  <figcaption>Малюнок 0.2: Два приклади дзвоноподібних кривих: нормального розподілу з низьким (ліворуч) і високим (праворуч) стандартним відхиленням</figcaption>
</figure>
<p>Ліворуч розподіл із дуже низьким стандартним відхиленням, де більшість значень скупчуються навколо середнього (вони не сильно відхиляються від стандарту). Версія праворуч має вище стандартне відхилення, тому значення більш рівномірно розподілені від середн ього (більше відхиляються від стандарту).</p>
<p>Результати обчислюються наступним чином: у певній популяції 68 відсотків її членів матимуть значення в діапазоні одного стандартного відхилення від середнього, 95 відсотків — у межах двох стандартних відхилень, і 99.7 відсотків — у межах трьох стандартних відхилень. При стандартному відхиленні у 5 пікселів, лише 0.3 відсотка мавп будуть нижче 235 пікселів (три стандартних відхилення нижче середнього 250) або вище за 265 пікселів (три стандартних відхилення вище від середнього 250). Тим часом зріст 68 відсотків мавп буде між 245 і 255 пікселями.</p>
<p>На щастя, для використання нормального розподілу випадкових чисел у програмах p5.js, вам не потрібно робити жодні з цих обчислень вручну. Функція <code>randomGaussian()</code> виконує всю необхідну математику і повертає випадкові числа з нормальним розподілом:</p>
<div class="codesplit callout not-prose" data-code-language="javascript"><div class="pair"><pre><code class="hljs code language-javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">draw</span>(<span class="hljs-params"></span>) {
</code></pre><div class="comment"><p></p></div></div><div class="pair split"><pre><code class="hljs code language-javascript">  <span class="hljs-keyword">let</span> num = <span class="hljs-title function_">randomGaussian</span>();
</code></pre><div class="comment"><p>Генерація випадкового числа з нормальним розподілом.</p></div></div><div class="pair"><pre><code class="hljs code language-javascript">}
</code></pre><div class="comment"><p></p></div></div></div>
<div class="allow-break">
  <div data-type="note" class="callout">
    <h3 id="calculating-mean-and-standard-deviation"><a class="heading-link" href="#calculating-mean-and-standard-deviation">Обчислення середнього значення та стандартного відхилення</a></h3>
    <p>Розглянемо клас з десяти студентів, які отримали за тест наступні бали зі 100 можливих: 85, 82, 88, 86, 85, 93, 98, 40, 73 і 83.</p>
    <p>Середнє значення становить: 81.3.</p>
    <p>Стандартне відхилення розраховується як квадратний корінь середнього значення квадратів відхилень від загального середнього значення. Іншими словами, візьміть різницю між середнім значенням і оцінкою кожного студента та піднесіть її до квадрата, отримавши “квадрат відхилення” цієї оцінки. Далі розрахуйте середнє значення усіх цих результатів, щоб отримати середнє відхилення (середню дисперсію). Потім візьміть квадратний корінь від середнього відхилення і ви отримаєте стандартне відхилення.</p>
    <table><thead><tr><th>Бали</th><th>Відхилення від середнього</th><th>Дисперсія</th></tr></thead><tbody><tr><td><span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>85</mn></mrow><annotation encoding="application/x-tex">85</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em"></span><span class="mord">85</span></span></span></span></span></td><td><span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>85</mn><mo>−</mo><mn>81.3</mn><mo>=</mo><mn>3.7</mn></mrow><annotation encoding="application/x-tex">85 - 81.3 = 3.7</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em"></span><span class="mord">85</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.6444em"></span><span class="mord">81.3</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.6444em"></span><span class="mord">3.7</span></span></span></span></span></td><td><span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mn>3.7</mn><msup><mo stretchy="false">)</mo><mn>2</mn></msup><mo>=</mo><mn>13.69</mn></mrow><annotation encoding="application/x-tex">(3.7)^2 = 13.69</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em"></span><span class="mopen">(</span><span class="mord">3.7</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em"><span style="top:-3.063em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.6444em"></span><span class="mord">13.69</span></span></span></span></span></td></tr><tr><td><span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>40</mn></mrow><annotation encoding="application/x-tex">40</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em"></span><span class="mord">40</span></span></span></span></span></td><td><span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>40</mn><mo>−</mo><mn>81.3</mn><mo>=</mo><mo>−</mo><mn>41.3</mn></mrow><annotation encoding="application/x-tex">40 - 81.3 = -41.3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em"></span><span class="mord">40</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.6444em"></span><span class="mord">81.3</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em"></span><span class="mord">−</span><span class="mord">41.3</span></span></span></span></span></td><td><span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mo>−</mo><mn>41.3</mn><msup><mo stretchy="false">)</mo><mn>2</mn></msup><mo>=</mo><mn>1705.69</mn></mrow><annotation encoding="application/x-tex">(-41.3)^2 = 1705.69</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em"></span><span class="mopen">(</span><span class="mord">−</span><span class="mord">41.3</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em"><span style="top:-3.063em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.6444em"></span><span class="mord">1705.69</span></span></span></span></span></td></tr><tr><td>. . .</td><td></td><td></td></tr><tr><td></td><td><strong>Середня дисперсія:</strong></td><td><span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>228.21</mn></mrow><annotation encoding="application/x-tex">228.21</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em"></span><span class="mord">228.21</span></span></span></span></span></td></tr></tbody></table>
    <p>Стандартне відхилення — це квадратний корінь від середньої диспер сії. Тут це 15.13.</p>
  </div>
</div>
<p>Що далі? Що якщо, наприклад, нашою метою є призначення <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord mathnormal">x</span></span></span></span></span>-позиції для малювання фігури?</p>
<p>За замовчуванням функція <code>randomGaussian()</code> повертає нормальний розподіл випадкових додатних і від&#x27;ємних чисел із середнім значенням 0 і стандартним відхиленням 1. Що відомо як <strong>стандартний нормальний розподіл</strong>. Однак часто ці параметри за замовчуванням не підходять. Наприклад, ви хочете призначити випадковим чином <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord mathnormal">x</span></span></span></span></span>-позицію для фігури за допомогою нормального розподілу із середнім значенням 320 (центральний горизонтальний піксель у вікні шириною 640 пікселів) і стандартним відхиленням у 60 пікселів. У цьому випадку ви можете налаштувати параметри, передавши функції <code>randomGaussian()</code> два аргументи: середнє значення та стандартне відхилення.</p>
<div data-type="example">
  <h3 id="example-04-a-gaussian-distribution"><a class="heading-link" href="#example-04-a-gaussian-distribution">Приклад 0.4: Розподіл Гаусса</a></h3>
  <figure>
    <div class="not-prose clear-both my-4 overflow-hidden rounded border bg-gray-100" style="max-width:1152px"><div class="relative overflow-hidden rounded-t bg-white"><!-- <div class="absolute left-[50%] top-[50%] -translate-x-[50%] -translate-y-[50%] ">Loading sketch ...</div> --><iframe class="w-full border-none transition-opacity opacity-1000" style="aspect-ratio:2.667" loading="lazy" src="./examples/00_randomness/example_i_4_gaussian_distribution"></iframe></div><div class="flex items-center justify-between border-t"><div class="flex"><button class="flex items-center border-r px-2.5 py-1.5 text-sm hover:bg-gray-200"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" aria-hidden="true" class="h-[15px] w-[15px]" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path></svg><span class="ml-1.5">Reset</span></button><button class="flex items-center border-r px-2.5 py-1.5 text-sm hover:bg-gray-200"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" aria-hidden="true" class="h-4 w-4" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" d="M10 9v6m4-6v6m7-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><span class="ml-1">Pause</span></button></div><a href="https://editor.p5js.org/natureofcode/sketches/Yk_eSiNOR" target="_blank" rel="noreferrer" class="flex items-center px-2.5 text-[0.8rem] hover:underline">Open in Web Editor<svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="ml-1 text-gray-500" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg></a></div></div>
    <figcaption></figcaption>
  </figure>
</div>
<div class="codesplit callout not-prose" data-code-language="javascript"><div class="pair"><pre><code class="hljs code language-javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">draw</span>(<span class="hljs-params"></span>) {
</code></pre><div class="comment"><p></p></div></div><div class="pair split"><pre><code class="hljs code language-javascript">  <span class="hljs-keyword">let</span> x = <span class="hljs-title function_">randomGaussian</span>(<span class="hljs-number">320</span>, <span class="hljs-number">60</span>);
</code></pre><div class="comment"><p>Нормальний розподіл із середнім значенням 320 і стандартним відхиленням 60</p></div></div><div class="pair"><pre><code class="hljs code language-javascript">  <span class="hljs-title function_">noStroke</span>();
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">  <span class="hljs-title function_">fill</span>(<span class="hljs-number">0</span>, <span class="hljs-number">10</span>);
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">  <span class="hljs-title function_">circle</span>(x, <span class="hljs-number">120</span>, <span class="hljs-number">16</span>);
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">}
</code></pre><div class="comment"><p></p></div></div></div>
<p>Тут я вик ористовував аргументи для налаштування виклику функції <code>randomGaussian()</code>, але зауважте, що математика для реалізації цього налаштування досить проста: все, що вам потрібно зробити, це помножити значення стандартного нормального розподілу на стандартне відхилення, а потім додати середнє значення. Іншими словами, результат виконання функції <code>randomGaussian(320, 60)</code> з буде такий самий, що й у наступному коді:</p>
<div class="codesplit callout not-prose" data-code-language="javascript"><div class="pair"><pre><code class="hljs code language-javascript"><span class="hljs-keyword">let</span> x = <span class="hljs-number">60</span> * <span class="hljs-title function_">randomGaussian</span>() + <span class="hljs-number">320</span>;
</code></pre><div class="comment"><p></p></div></div></div>
<p>Ви можете спостерігати за процесом, малюючи один над одним напівпрозорі круги. Найтемніше місце знаходиться біля центру, де зосереджується більшість значень, але час від часу деякі круги малюються правіше або лівіше від центру.</p>
<div data-type="exercise" class="callout">
  <h3 id="exercise-04"><a class="heading-link" href="#exercise-04">Вправа 0.4</a></h3>
  <p>Розглянемо імітацію бризок фарби із балончика, намальованих у вигляді купи кольорових точок. Більшість фарби сконцентровано навколо центральної позиції, але деякі точки розпилені по краях. Чи  можете ви використати нормальний розподіл випадкових чисел для генерації позицій для всіх цих точок? Чи можете ви також використати нормальний розподіл випадкових чисел для генерації палітри кольорів? Спробуйте створити повзунок для налаштування стандартного відхилення.</p>
</div>
<div data-type="exercise" class="callout">
  <h3 id="exercise-05"><a class="heading-link" href="#exercise-05">Вправа 0.5</a></h3>
  <p>Гауссове випадкове блукання визначається як таке, у якому розмір кроку (те наскільки далеко об&#x27;єкт рухається у заданому напрямку) генерується нормальним розподілом. Імплементуйте подібний варіант класу <code>Walker</code>.</p>
</div>
<h2 id="a-custom-distribution-of-random-numbers"><a class="heading-link" href="#a-custom-distribution-of-random-numbers">Власний розподіл випадкових чисел</a></h2>
<p>У вашому житті настане час, коли вам не підійде рівномірний розподіл випадкових значень і навіть гауссівський. Уявіть на мить, що ви випадковий блукач у пошуках їжі. Випадкове переміщення по простору здається розумною стратегією для пошуку їжі. Зрештою, ви не знаєте, де знаходиться їжа, тож можете шукати навмання, поки не знайдете її. Однак є проблема. Як ви могли помітити, спостерігаючи за роботою свого об’єкта <code>Walker</code> в дії, випадкові блукачі повертаються до вже відвіданих позицій багато разів — це явище відоме під назвою <strong>перевибірка</strong>. Це може зробити ваш пошук їжі марним, або принаймні неефективним.</p>
<p>Однією зі стратегій, для уникнення такої проблеми, є здійснення час від часу доволі великих кроків. Це дозволяє блукачу рухатися випадковим чином навколо певної позиції, періодично стрибаючи достатньо далеко, щоб зменшити кількість перевибірки. Цей варіант випадкового блукання, відомий як <strong>політ Ле́ві</strong>, вимагає власного набору ймовірностей. Хоча це не буде точною реалізацією польоту Ле́ві, ви можете сформувати розподіл ймовірностей наступним чином: чим довший крок, тим менша ймовірність для його вибору; чим коротший крок, тим імовірніший його вибір.</p>
<p>Раніше я писав, що ви можете генерувати власні кастомізовані розподіли ймовірностей, заповнюючи масив певними значеннями (деякі з них можуть дублюватися для їх частішого вибору) або орієнтуючись на певні результати функції <code>random()</code>. Одним зі способів реалізації польоту Ле́ві може бути визначення 1-відсоткової ймовірності для того, щоб блукач роби в великий крок:</p>
<div class="codesplit callout not-prose" data-code-language="javascript"><div class="pair"><pre><code class="hljs code language-javascript"><span class="hljs-keyword">let</span> r = <span class="hljs-title function_">random</span>(<span class="hljs-number">1</span>);
</code></pre><div class="comment"><p></p></div></div><div class="pair split"><pre><code class="hljs code language-javascript"><span class="hljs-keyword">if</span> (r &lt; <span class="hljs-number">0.01</span>) {
  xstep = <span class="hljs-title function_">random</span>(-<span class="hljs-number">100</span>, <span class="hljs-number">100</span>);
  ystep = <span class="hljs-title function_">random</span>(-<span class="hljs-number">100</span>, <span class="hljs-number">100</span>);
</code></pre><div class="comment"><p>1%-а вірогідність зробити великий крок.</p></div></div><div class="pair"><pre><code class="hljs code language-javascript">} <span class="hljs-keyword">else</span> {
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">  xstep = <span class="hljs-title function_">random</span>(-<span class="hljs-number">1</span>, <span class="hljs-number">1</span>);
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">  ystep = <span class="hljs-title function_">random</span>(-<span class="hljs-number">1</span>, <span class="hljs-number">1</span>);
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">}
</code></pre><div class="comment"><p></p></div></div></div>
<p>Однак це зводить ймовірність до фіксованої кількості варіантів: 99 відсотків часу — невеликі кроки, 1 відсоток часу — великі кроки. Що, якби ви натомість хотіли створити більш загальне  правило: чим вище число, тим більша ймовірність його вибору. Наприклад, 0.8791 матиме більше шансів на вибір, ніж 0.8532, навіть якщо ця ймовірність лише трошки вища. Іншими словами, якщо <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord mathnormal">x</span></span></span></span></span> є випадковим числом, то ймовірність його вибору можна зобразити на осі <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>y</mi></mrow><annotation encoding="application/x-tex">y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em"></span><span class="mord mathnormal" style="margin-right:0.03588em">y</span></span></span></span></span> за допомогою функції <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>y</mi><mo>=</mo><mi>x</mi></mrow><annotation encoding="application/x-tex">y = x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em"></span><span class="mord mathnormal" style="margin-right:0.03588em">y</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord mathnormal">x</span></span></span></span></span> (малюнок 0.3).</p>
<div class="half-width-right">
  <figure>
    <div data-gatsby-image-wrapper="" class="gatsby-image-wrapper gatsby-image-wrapper-constrained"><div style="max-width:1152px;display:block"><img alt="" role="presentation" aria-hidden="true" src="data:image/svg+xml;charset=utf-8,%3Csvg height=&#x27;763&#x27; width=&#x27;1152&#x27; xmlns=&#x27;http://www.w3.org/2000/svg&#x27; version=&#x27;1.1&#x27;%3E%3C/svg%3E" style="max-width:100%;display:block;position:static"/></div><div aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear;background-color:#f8f8f8;position:absolute;top:0;left:0;bottom:0;right:0"></div><picture><source type="image/webp" data-srcset="./static/4c4bb483173672e4ab41bb3f670f259a/54cdb/00_randomness_4.webp 288w,./static/4c4bb483173672e4ab41bb3f670f259a/23a41/00_randomness_4.webp 576w,./static/4c4bb483173672e4ab41bb3f670f259a/20fb6/00_randomness_4.webp 1152w" sizes="(min-width: 1152px) 1152px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 1152px) 1152px, 100vw" decoding="async" loading="lazy" data-src="./static/4c4bb483173672e4ab41bb3f670f259a/a93c5/00_randomness_4.png" data-srcset="./static/4c4bb483173672e4ab41bb3f670f259a/d232d/00_randomness_4.png 288w,./static/4c4bb483173672e4ab41bb3f670f259a/eefd3/00_randomness_4.png 576w,./static/4c4bb483173672e4ab41bb3f670f259a/a93c5/00_randomness_4.png 1152w" alt="Малюнок 0.3: Графік функції y = x де y — ймовірність вибору значення x"/></picture><noscript><picture><source type="image/webp" srcSet="./static/4c4bb483173672e4ab41bb3f670f259a/54cdb/00_randomness_4.webp 288w,./static/4c4bb483173672e4ab41bb3f670f259a/23a41/00_randomness_4.webp 576w,./static/4c4bb483173672e4ab41bb3f670f259a/20fb6/00_randomness_4.webp 1152w" sizes="(min-width: 1152px) 1152px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 1152px) 1152px, 100vw" decoding="async" loading="lazy" src="./static/4c4bb483173672e4ab41bb3f670f259a/a93c5/00_randomness_4.png" srcSet="./static/4c4bb483173672e4ab41bb3f670f259a/d232d/00_randomness_4.png 288w,./static/4c4bb483173672e4ab41bb3f670f259a/eefd3/00_randomness_4.png 576w,./static/4c4bb483173672e4ab41bb3f670f259a/a93c5/00_randomness_4.png 1152w" alt="Малюнок 0.3: Графік функції y = x де y — ймовірність вибору значення x"/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1,e.parentNode.parentNode.querySelector("[data-placeholder-image]").style.opacity=0)}}</script></div>
    <figcaption>Малюнок 0.3: Графік функції <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>y</mi><mo>=</mo><mi>x</mi></mrow><annotation encoding="application/x-tex">y = x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em"></span><span class="mord mathnormal" style="margin-right:0.03588em">y</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord mathnormal">x</span></span></span></span></span> де <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>y</mi></mrow><annotation encoding="application/x-tex">y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em"></span><span class="mord mathnormal" style="margin-right:0.03588em">y</span></span></span></span></span> — ймовірність вибору значення <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord mathnormal">x</span></span></span></span></span></figcaption>
  </figure>
</div>
<p>Якщо розподіл випадкових чисел можна згенерувати відповідно до графіка на малюнку 0.3, ви також повинні мати можливість згенерувати випадковий розподіл, який відповідає будь-якій іншій кривій, яку ви можете визначити за допомогою формули.</p>
<p>Одним із рішень для власного розподілу є вибір двох випадкових чисел замість одного. Перше випадкове число — це саме випадкове число. Однак друге я називатиму <strong>кваліфікаційним випадковим значенням</strong>. Воно вирішить чи використовувати це перше число, чи відкинути його та вибрати інше. Числа, які проходять легший відбір, вибиратимуться частіше, а числа з рідшою кваліфікацією — нечасто. Ось відповідні кроки де наразі я розглядаю лише випадкові значення від 0 до 1:</p>
<ol>
  <li>Виберіть випадкове число: <code>r1</code>.</li>
  <li>Обчисліть ймовірність <code>p</code>, що визначатиме кваліфікацію для <code>r1</code>. Спробуємо <code>p = r1</code>.</li>
  <li>Виберіть інше випадкове число: <code>r2</code>.</li>
  <li>Якщо <code>r2</code> менше за <code>p</code>, тоді ви знайшли своє число для використання і це <code>r1</code>!</li>
  <li>Якщо <code>r2</code> не менше за <code>p</code>, поверніться до кроку 1 і почніть спочатку.</li>
</ol>
<p>Тут ймовірність того, що випадкове значення буде кваліфіковано, дорівнює самому випадковому числу, як зображено на малюнку 0.3. Наприклад, якщо <code>r1</code> дорівнює 0.1, тоді <code>r1</code> матиме 10-відсотковий шанс пройти кваліфікацію. Якщо <code>r1</code> дорівнює 0.83, його ймовірність на кваліфікацію становитиме 83 відсотки. У цьому прикладі, чим вище число, тим більша ймовірність, що воно буде використано.</p>
<p>Цей процес називається алгоритмом <strong>прийняття-відхилення</strong> і є різновидом методу Монте-Карло (названого на честь казино Монте-Карло). У наступному прикладі представле но функцію, яка реалізує алгоритм прийняття-відхилення, повертаючи випадкове значення від 0 до 1.</p>
<div data-type="example">
  <h3 id="example-05-an-accept-reject-distribution"><a class="heading-link" href="#example-05-an-accept-reject-distribution">Приклад 0.5: Розподіл прийняття-відхилення</a></h3>
  <figure>
    <div class="not-prose clear-both my-4 overflow-hidden rounded border bg-gray-100" style="max-width:1152px"><div class="relative overflow-hidden rounded-t bg-white"><!-- <div class="absolute left-[50%] top-[50%] -translate-x-[50%] -translate-y-[50%] ">Loading sketch ...</div> --><iframe class="w-full border-none transition-opacity opacity-1000" style="aspect-ratio:2.667" loading="lazy" src="./examples/00_randomness/example_i_5_accept_reject_distribution"></iframe></div><div class="flex items-center justify-between border-t"><div class="flex"><button class="flex items-center border-r px-2.5 py-1.5 text-sm hover:bg-gray-200"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" aria-hidden="true" class="h-[15px] w-[15px]" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path></svg><span class="ml-1.5">Reset</span></button><button class="flex items-center border-r px-2.5 py-1.5 text-sm hover:bg-gray-200"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" aria-hidden="true" class="h-4 w-4" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" d="M10 9v6m4-6v6m7-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><span class="ml-1">Pause</span></button></div><a href="https://editor.p5js.org/natureofcode/sketches/3t5iHwA7Q" target="_blank" rel="noreferrer" class="flex items-center px-2.5 text-[0.8rem] hover:underline">Open in Web Editor<svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="ml-1 text-gray-500" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg></a></div></div>
    <figcaption></figcaption>
  </figure>
</div>
<div class="codesplit callout not-prose" data-code-language="javascript"><div class="pair"><pre><code class="hljs code language-javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">acceptreject</span>(<span class="hljs-params"></span>) {
</code></pre><div class="comment"><p></p></div></div><div class="pair split"><pre><code class="hljs code language-javascript">  <span class="hljs-keyword">while</span> (<span class="hljs-literal">true</span>) {
</code></pre><div class="comment"><p>Повторюйте цей процес доки не знайдете випадкове значення, яке пройде кваліфікацію.</p></div></div><div class="pair split"><pre><code class="hljs code language-javascript">    <span class="hljs-keyword">let</span> r1 = <span class="hljs-title function_">random</span>(<span class="hljs-number">1</span>);
</code></pre><div class="comment"><p>Виберіть випадкове значення.</p></div></div><div class="pair split"><pre><code class="hljs code language-javascript">    <span class="hljs-keyword">let</span> probability = r1;
</code></pre><div class="comment"><p>Визначте ймовірність.</p></div></div><div class="pair split"><pre><code class="hljs code language-javascript">    <span class="hljs-keyword">let</span> r2 = <span class="hljs-title function_">random</span>(<span class="hljs-number">1</span>);
</code></pre><div class="comment"><p>Виберіть друге випадкове значення.</p></div></div><div class="pair split"><pre><code class="hljs code language-javascript">    <span class="hljs-keyword">if</span> (r2 &lt; probability) {
      <span class="hljs-keyword">return</span> r1;
    }
</code></pre><div class="comment"><p>Якщо друге значення задовільняє вимогам, тоді ми закінчили!</p></div></div><div class="pair"><pre><code class="hljs code language-javascript">  }
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">}
</code></pre><div class="comment"><p></p></div></div></div>
<p>Хоча алгоритм прийняття-відхилення працює для генерування власних розподілів випадкових чисел, це не дуже ефективний спосіб. Він може призвести до значної кількості марних обчислень, коли велика кількість випадкових значень відхиляється, особливо коли ймовірність кваліфікації дуже низька. Коли ми дійдемо до генетичних алгоритмів у Розділі 9, я розгляну інший, більш оптимальний підхід.</p>
<div data-type="exercise" class="callout">
  <h3 id="exercise-06"><a class="heading-link" href="#exercise-06">Вправа 0.6</a></h3>
  <p>Використайте власний розподіл ймовірностей для зміни розміру випадкових кроків блукача. Розмір кроку можна визначити шляхом впливу на діапазон значень, вибраних за допомогою відібраного випадкового значення. Чи зможете ви зіставити ймовірність із квадратичною функцією, зробивши ймовірність вибору значення рівною квадрату цього значення?</p>
  <div class="codesplit callout not-prose" data-code-language="javascript"><div class="pair split"><pre><code class="hljs code language-javascript"><span class="hljs-keyword">let</span> step = <span class="hljs-number">10</span>;
<span class="hljs-keyword">let</span> stepx = <span class="hljs-title function_">random</span>(-step, step);
<span class="hljs-keyword">let</span> stepy = <span class="hljs-title function_">random</span>(-step, step);
<span class="hljs-variable language_">this</span>.<span class="hljs-property">x</span> += stepx;
<span class="hljs-variable language_">this</span>.<span class="hljs-property">y</span> += stepy;
</code></pre><div class="comment"><p>Рівномірний розподіл випадкових величин кроку. Змініть його!</p></div></div></div>
  <p>(У Розділі 1 я покажу, як змінювати розміри кроків більш ефективно за допомогою векторів.)</p>
</div>
<h2 id="a-smoother-approach-with-perlin-noise"><a class="heading-link" href="#a-smoother-approach-with-perlin-noise">Більш плавний підхід з шумом Перліна</a></h2>
<p>Хороший генератор випадкових чисел видає значення, які не мають між собою зв’язку та не проявляють помітного патерну. Як я вже натякав, додавання певної випадковості може бути корисним при програмуванні органічної, реалістичної поведінки, проте рівномірна випадковість, у якості єдиного керівного принципу, не обов’зково підходить для отримання природних результатів. Алгоритм, відомий як <strong>шум Перліна</strong>, названий на честь свого винахідника Ке на Перліна, враховує цю концепцію, генеруючи природно впорядковану послідовність псевдовипадкових чисел, де кожне число в послідовності є досить близьким за значенням до попереднього. Це створює плавний перехід між випадковими числами та більш органічний вигляд, ніж чистий шум, завдяки чому шум Перліна добре підходить для генерації різноманітних ефектів із природними якостями, такими як хмари, ландшафти та візерунчасті текстури, подібно до мармуру.</p>
<p>Щоб проілюструвати різницю між шумом Перліна та рівномірною випадковістю, розглянемо малюнок 0.4. На графіку ліворуч зображено шум Перліна з плином часу, де вісь абсцис представляє час. Зверніть увагу на плавність кривої. На графіку праворуч показано шум у формі чисто випадкових чисел з плином часу, де результат доволі хаотичний. (Код для побудови цих графіків доступний на вебсайті книги.)</p>
<figure>
  <div class="col-list">
    <div>
      <div class="not-prose clear-both my-4 overflow-hidden rounded border bg-gray-100" style="max-width:1152px"><div class="relative overflow-hidden rounded-t bg-white"><!-- <div class="absolute left-[50%] top-[50%] -translate-x-[50%] -translate-y-[50%] ">Loading sketch ...</div> --><iframe class="w-full border-none transition-opacity opacity-1000" style="aspect-ratio:2.667" loading="lazy" src="./examples/00_randomness/figure_i_4_noise"></iframe></div><div class="flex items-center justify-between border-t"><div class="flex"><button class="flex items-center border-r px-2.5 py-1.5 text-sm hover:bg-gray-200"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" aria-hidden="true" class="h-[15px] w-[15px]" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path></svg><span class="ml-1.5">Reset</span></button><button class="flex items-center border-r px-2.5 py-1.5 text-sm hover:bg-gray-200"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" aria-hidden="true" class="h-4 w-4" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" d="M10 9v6m4-6v6m7-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><span class="ml-1">Pause</span></button></div><a href="https://editor.p5js.org/natureofcode/sketches/UGJqLCZb_" target="_blank" rel="noreferrer" class="flex items-center px-2.5 text-[0.8rem] hover:underline">Open in Web Editor<svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="ml-1 text-gray-500" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg></a></div></div>
    </div>
    <div>
      <div class="not-prose clear-both my-4 overflow-hidden rounded border bg-gray-100" style="max-width:1152px"><div class="relative overflow-hidden rounded-t bg-white"><!-- <div class="absolute left-[50%] top-[50%] -translate-x-[50%] -translate-y-[50%] ">Loading sketch ...</div> --><iframe class="w-full border-none transition-opacity opacity-1000" style="aspect-ratio:2.667" loading="lazy" src="./examples/00_randomness/figure_i_5_random"></iframe></div><div class="flex items-center justify-between border-t"><div class="flex"><button class="flex items-center border-r px-2.5 py-1.5 text-sm hover:bg-gray-200"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" aria-hidden="true" class="h-[15px] w-[15px]" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path></svg><span class="ml-1.5">Reset</span></button><button class="flex items-center border-r px-2.5 py-1.5 text-sm hover:bg-gray-200"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" aria-hidden="true" class="h-4 w-4" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" d="M10 9v6m4-6v6m7-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><span class="ml-1">Pause</span></button></div><a href="https://editor.p5js.org/natureofcode/sketches/O7PsvcpQ3" target="_blank" rel="noreferrer" class="flex items-center px-2.5 text-[0.8rem] hover:underline">Open in Web Editor<svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="ml-1 text-gray-500" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg></a></div></div>
    </div>
  </div>
  <figcaption>Малюнок 0.4: Графіки значень шуму у часі. Зліва шум Перліна, а справа шум випадкових значень</figcaption>
</figure>
<p>Кен Перлін розробив оригінальний алгоритм шуму Перліна під час роботи над фільмом “<em>Трон</em>” на початку 1980-х років. Пізніше за цю роботу він отримав Оскар за досягнення у технічній сфері. Алгоритм був розроблений для створення процедурних текстур для комп’ютерних ефектів. <em>Процедурний</em> означає генерування візуальних елементів алгоритмічно, на відміну від художника, що розробляє їх вручну. Протягом багатьох років різні автори розробили низку інших шумів на різні смаки. Серед відомих: Value noise (шум Значення), Worley noise (шум Ворлі) та Simplex noise (Симплекс-шум, розроблений самим Перліном у 2001). Ви можете дізнатися більше про історію шуму на <a href="https://mrl.nyu.edu/~perlin/doc/oscar.html" target="_blank" rel="noopener">вебсайті Кена Перліна</a>, а також про його варіації впродовж років у моєму відео <a href="https://thecodingtrain.com/opensimplexnoise" target="_blank" rel="noopener">“Що таке OpenSimplex шум?”</a> на вебсайті Coding Train.</p>
<p>Бібліотека p5.js містить реалізацію класичного алгоритму шуму Перліна з 1983 року у функції під назвою <code>noise()</code>. Вона може приймати один, два або три аргументи, оскільки шум обчислюється в одному, двох або трьох вимірах. Я почну з демонстрації одновимірного (1D) шуму.</p>
<p>Скажімо, ви хочете намалювати на полотні круг у випадковому горизонтальному положенні. За звичкою ви можете використати для цього функцію <code>random()</code>:</p>
<div class="codesplit callout not-prose" data-code-language="javascript"><div class="pair split"><pre><code class="hljs code language-javascript"><span class="hljs-keyword">let</span> x = <span class="hljs-title function_">random</span>(<span class="hljs-number">0</span>, width);
</code></pre><div class="comment"><p>Випадкова x-позиція.</p></div></div><div class="pair"><pre><code class="hljs code language-javascript"><span class="hljs-title function_">circle</span>(x, <span class="hljs-number">180</span>, <span class="hljs-number">16</span>);
</code></pre><div class="comment"><p></p></div></div></div>
<p>Тепер, замість випадкової <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord mathnormal">x</span></span></span></span></span>-позиції, вам потрібна плавніша <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord mathnormal">x</span></span></span></span></span>-позиція шуму Перліна. Ви можете подумати, що вам потрібно лише замінити функцію <code>random()</code> аналогічним викликом функції <code>noise()</code>, наприклад так:</p>
<div class="codesplit callout not-prose" data-code-language="javascript"><div class="pair split"><pre><code class="hljs code language-javascript"><span class="hljs-keyword">let</span> x = <span class="hljs-title function_">random</span>(<span class="hljs-number">0</span>, width);
</code></pre><div class="comment"><p>Замінити random() на noise()?</p></div></div><div class="pair split"><pre><code class="hljs code language-javascript"><span class="hljs-keyword">let</span> x = <span class="hljs-title function_">noise</span>(<span class="hljs-number">0</span>, width);
<span class="hljs-title function_">circle</span>(x, <span class="hljs-number">180</span>, <span class="hljs-number">16</span>);
</code></pre><div class="comment"><p>Заманливо, але це не правильно!</p></div></div></div>
<p>Концептуально це саме те, що ви хочете зробити — вираховувати значення <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord mathnormal">x</span></span></span></span></span>, яке знаходиться у межах від 0 до ширини полотна за допомогою функції шуму Перліна, але це не правильна реалізація. Аргументи функції <code>random()</code> вказують на діапазон можливих значень між мінімумом і максимумом, проте функція <code>noise()</code> працює іншим чином. Натомість вона має фіксований вихідний діапазон і завжди повертає значення від 0 до 1. За мить ви побачите, що можете легко обійти це обмеження за допомогою функції <code>map()</code>, але спочатку розглянемо, які саме аргументи очікує від вас функція <code>noise()</code>.</p>
<p>Одновимірний шум Перліна можна розглядати як лінійну послідовність значень у часі. Наприклад:</p>
<table><thead><tr><th>Час</th><th>Значення шуму</th></tr></thead><tbody><tr><td>0</td><td>0.365</td></tr><tr><td>1</td><td>0.363</td></tr><tr><td>2</td><td>0.363</td></tr><tr><td>3</td><td>0.364</td></tr><tr><td>4</td><td>0.366</td></tr></tbody></table>
<p>Щоб отримати доступ до певного значення шуму, вам потрібно обрати “момент часу” і передати його функції <code>noise()</code>. Наприклад:</p>
<div class="codesplit callout not-prose" data-code-language="javascript"><div class="pair"><pre><code class="hljs code language-javascript"><span class="hljs-keyword">let</span> n = <span class="hljs-title function_">noise</span>(<span class="hljs-number">3</span>);
</code></pre><div class="comment"><p></p></div></div></div>
<p>Згідно з наведеною вище таблицею, <code>noise(3)</code> повертає 0.364. Наступним кроком є використання змінної для часу і постійне отримання значення шуму у функції <code>draw()</code>:</p>
<div class="codesplit callout not-prose" data-code-language="javascript"><div class="pair"><pre><code class="hljs code language-javascript"><span class="hljs-keyword">let</span> t = <span class="hljs-number">3</span>;
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">draw</span>(<span class="hljs-params"></span>) {
</code></pre><div class="comment"><p></p></div></div><div class="pair split"><pre><code class="hljs code language-javascript">  <span class="hljs-keyword">let</span> n = <span class="hljs-title function_">noise</span>(t);
</code></pre><div class="comment"><p>Вам потрібне значення шуму для конкретного моменту часу.</p></div></div><div class="pair"><pre><code class="hljs code language-javascript">  <span class="hljs-title function_">print</span>(n);
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">}
</code></pre><div class="comment"><p></p></div></div></div>
<p>Близько, але не зовсім. Цей код просто друкуватиме одне й те саме значення знову і знову, тому що він продовжує запитувати результат функції <code>noise()</code> для того самого незмінного часу зі значенням 3. Однак, якщо збільшувати змінну часу <code>t</code>, то під час виклику функції ви отримаєте різні значення шуму для кожного нового значення часу:</p>
<div class="codesplit callout not-prose" data-code-language="javascript"><div class="pair split"><pre><code class="hljs code language-javascript"><span class="hljs-keyword">let</span> t = <span class="hljs-number">0</span>;
</code></pre><div class="comment"><p>Зазвичай початкове значення для часу дорівнює 0, але воно може бути довільним.</p></div></div><div class="pair"><pre><code class="hljs code language-javascript">
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">draw</span>(<span class="hljs-params"></span>) {
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">  <span class="hljs-keyword">let</span> n = <span class="hljs-title function_">noise</span>(t);
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">  <span class="hljs-title function_">print</span>(n);
</code></pre><div class="comment"><p></p></div></div><div class="pair split"><pre><code class="hljs code language-javascript">  t += <span class="hljs-number">0.01</span>;
</code></pre><div class="comment"><p>Тепер ви рухаєтеся вперед у часі!</p></div></div><div class="pair"><pre><code class="hljs code language-javascript">}
</code></pre><div class="comment"><p></p></div></div></div>
<p>Я вирішив збільшувати змінну <code>t</code> на 0.01, але використання інших значень вплине на плавність шуму. Більші стрибки в часі, які перескакують вперед через простір шуму і повертають значення, виглядають менш плавно та більш випадково (малюнок 0.5).</p>
<figure>
  <div data-gatsby-image-wrapper="" class="gatsby-image-wrapper gatsby-image-wrapper-constrained"><div style="max-width:2304px;display:block"><img alt="" role="presentation" aria-hidden="true" src="data:image/svg+xml;charset=utf-8,%3Csvg height=&#x27;986&#x27; width=&#x27;2304&#x27; xmlns=&#x27;http://www.w3.org/2000/svg&#x27; version=&#x27;1.1&#x27;%3E%3C/svg%3E" style="max-width:100%;display:block;position:static"/></div><div aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear;background-color:#f8f8f8;position:absolute;top:0;left:0;bottom:0;right:0"></div><picture><source type="image/webp" data-srcset="./static/66603c7d2e445a1f379c7d950cbb7daa/e7f9a/00_randomness_5.webp 576w,./static/66603c7d2e445a1f379c7d950cbb7daa/1c3f2/00_randomness_5.webp 1152w,./static/66603c7d2e445a1f379c7d950cbb7daa/55f67/00_randomness_5.webp 2304w" sizes="(min-width: 2304px) 2304px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 2304px) 2304px, 100vw" decoding="async" loading="lazy" data-src="./static/66603c7d2e445a1f379c7d950cbb7daa/23eb9/00_randomness_5.png" data-srcset="./static/66603c7d2e445a1f379c7d950cbb7daa/b204f/00_randomness_5.png 576w,./static/66603c7d2e445a1f379c7d950cbb7daa/b5948/00_randomness_5.png 1152w,./static/66603c7d2e445a1f379c7d950cbb7daa/23eb9/00_randomness_5.png 2304w" alt="Малюнок 0.5: Демонстрація результатів шуму Перліна для коротких і довгих стрибків у часі"/></picture><noscript><picture><source type="image/webp" srcSet="./static/66603c7d2e445a1f379c7d950cbb7daa/e7f9a/00_randomness_5.webp 576w,./static/66603c7d2e445a1f379c7d950cbb7daa/1c3f2/00_randomness_5.webp 1152w,./static/66603c7d2e445a1f379c7d950cbb7daa/55f67/00_randomness_5.webp 2304w" sizes="(min-width: 2304px) 2304px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 2304px) 2304px, 100vw" decoding="async" loading="lazy" src="./static/66603c7d2e445a1f379c7d950cbb7daa/23eb9/00_randomness_5.png" srcSet="./static/66603c7d2e445a1f379c7d950cbb7daa/b204f/00_randomness_5.png 576w,./static/66603c7d2e445a1f379c7d950cbb7daa/b5948/00_randomness_5.png 1152w,./static/66603c7d2e445a1f379c7d950cbb7daa/23eb9/00_randomness_5.png 2304w" alt="Малюнок 0.5: Демонстрація результатів шуму Перліна для коротких і довгих стрибків у часі"/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1,e.parentNode.parentNode.querySelector("[data-placeholder-image]").style.opacity=0)}}</script></div>
  <figcaption>Малюнок 0.5: Демонстрація результатів шуму Перліна для коротких і довгих стрибків у часі</figcaption>
</figure>
<p>У наступних прикладах коду, які використовують шум Перліна, зверніть увагу на те, як змінюється анімація при різних значеннях змінної <code>t</code>.</p>
<h3 id="noise-ranges"><a class="heading-link" href="#noise-ranges">Діапазони шуму</a></h3>
<p>Коли у вас є значення шуму в діапазоні від 0 до 1, то ви можете зробити мапінг (зіставлення, масштабування, проєкціювання) цього діапазону на будь-який інший, який відповідає вашим цілям (малюнок 0.6). Зробити це найпростіше з функцією p5.js під назвою <code>map()</code>. Вона приймає п’ять аргументів. Перше — це значення, яке потрібно зіставити, у цьому випадку <code>n</code>. Далі вказується поточний діапазон значення (мінімум і максимум), а потім бажаний діапазон.</p>
<figure>
  <div data-gatsby-image-wrapper="" class="gatsby-image-wrapper gatsby-image-wrapper-constrained"><div style="max-width:2304px;display:block"><img alt="" role="presentation" aria-hidden="true" src="data:image/svg+xml;charset=utf-8,%3Csvg height=&#x27;1108&#x27; width=&#x27;2304&#x27; xmlns=&#x27;http://www.w3.org/2000/svg&#x27; version=&#x27;1.1&#x27;%3E%3C/svg%3E" style="max-width:100%;display:block;position:static"/></div><div aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear;background-color:#f8f8f8;position:absolute;top:0;left:0;bottom:0;right:0"></div><picture><source type="image/webp" data-srcset="./static/f1eebdb7f954042e7e8d2ec263e3e261/d5dc1/00_randomness_6.webp 576w,./static/f1eebdb7f954042e7e8d2ec263e3e261/a02ee/00_randomness_6.webp 1152w,./static/f1eebdb7f954042e7e8d2ec263e3e261/62b8e/00_randomness_6.webp 2304w" sizes="(min-width: 2304px) 2304px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 2304px) 2304px, 100vw" decoding="async" loading="lazy" data-src="./static/f1eebdb7f954042e7e8d2ec263e3e261/37fef/00_randomness_6.png" data-srcset="./static/f1eebdb7f954042e7e8d2ec263e3e261/d062e/00_randomness_6.png 576w,./static/f1eebdb7f954042e7e8d2ec263e3e261/97a83/00_randomness_6.png 1152w,./static/f1eebdb7f954042e7e8d2ec263e3e261/37fef/00_randomness_6.png 2304w" alt="Малюнок 0.6: Відображення значення з одного діапазону в інший"/></picture><noscript><picture><source type="image/webp" srcSet="./static/f1eebdb7f954042e7e8d2ec263e3e261/d5dc1/00_randomness_6.webp 576w,./static/f1eebdb7f954042e7e8d2ec263e3e261/a02ee/00_randomness_6.webp 1152w,./static/f1eebdb7f954042e7e8d2ec263e3e261/62b8e/00_randomness_6.webp 2304w" sizes="(min-width: 2304px) 2304px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 2304px) 2304px, 100vw" decoding="async" loading="lazy" src="./static/f1eebdb7f954042e7e8d2ec263e3e261/37fef/00_randomness_6.png" srcSet="./static/f1eebdb7f954042e7e8d2ec263e3e261/d062e/00_randomness_6.png 576w,./static/f1eebdb7f954042e7e8d2ec263e3e261/97a83/00_randomness_6.png 1152w,./static/f1eebdb7f954042e7e8d2ec263e3e261/37fef/00_randomness_6.png 2304w" alt="Малюнок 0.6: Відображення значення з одного діапазону в ін ший"/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1,e.parentNode.parentNode.querySelector("[data-placeholder-image]").style.opacity=0)}}</script></div>
  <figcaption>Малюнок 0.6: Перетворення значення з одного діапазону в інший</figcaption>
</figure>
<p>У цьому випадку, хоча шум має діапазон від 0 до 1, я хотів би намалювати круг з <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord mathnormal">x</span></span></span></span></span>-позицією в діапазоні від 0 до ширини полотна:</p>
<div class="codesplit callout not-prose" data-code-language="javascript"><div class="pair"><pre><code class="hljs code language-javascript"><span class="hljs-keyword">let</span> t = <span class="hljs-number">0</span>;
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">draw</span>(<span class="hljs-params"></span>) {
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">  <span class="hljs-keyword">let</span> n = <span class="hljs-title function_">noise</span>(t);
</code></pre><div class="comment"><p></p></div></div><div class="pair split"><pre><code class="hljs code language-javascript">  <span class="hljs-keyword">let</span> x = <span class="hljs-title function_">map</span>(n, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, width);
</code></pre><div class="comment"><p>Використання функції map() для налаштування діапазону шуму Перліна.</p></div></div><div class="pair"><pre><code class="hljs code language-javascript">  <span class="hljs-title function_">ellipse</span>(x, <span class="hljs-number">180</span>, <span class="hljs-number">16</span>, <span class="hljs-number">16</span>);
</code></pre><div class="comment"><p></p></div></div><div class="pair split"><pre><code class="hljs code language-javascript">  t += <span class="hljs-number">0.01</span>;
</code></pre><div class="comment"><p>Рух вперед у часі.</p></div></div><div class="pair"><pre><code class="hljs code language-javascript">}
</code></pre><div class="comment"><p></p></div></div></div>
<p>Таку ж логіку можна застосувати до випадкового блукання, використовуючи шум Перліна та відповідний мапінг для його <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord mathnormal">x</span></span></span></span></span>- і <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>y</mi></mrow><annotation encoding="application/x-tex">y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em"></span><span class="mord mathnormal" style="margin-right:0.03588em">y</span></span></span></span></span>-властивостей. Це створює плавніше, більш органічне випадкове блукання.</p>
<div data-type="example">
  <h3 id="example-06-a-perlin-noise-walker"><a class="heading-link" href="#example-06-a-perlin-noise-walker">Приклад 0.6: Випадковий блукач з використанням шуму Перліна</a></h3>
  <figure>
    <div class="not-prose clear-both my-4 overflow-hidden rounded border bg-gray-100" style="max-width:1152px"><div class="relative overflow-hidden rounded-t bg-white"><!-- <div class="absolute left-[50%] top-[50%] -translate-x-[50%] -translate-y-[50%] ">Loading sketch ...</div> --><iframe class="w-full border-none transition-opacity opacity-1000" style="aspect-ratio:2.667" loading="lazy" src="./examples/00_randomness/example_i_6_perlin_noise_walker"></iframe></div><div class="flex items-center justify-between border-t"><div class="flex"><button class="flex items-center border-r px-2.5 py-1.5 text-sm hover:bg-gray-200"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" aria-hidden="true" class="h-[15px] w-[15px]" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path></svg><span class="ml-1.5">Reset</span></button><button class="flex items-center border-r px-2.5 py-1.5 text-sm hover:bg-gray-200"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" aria-hidden="true" class="h-4 w-4" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" d="M10 9v6m4-6v6m7-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><span class="ml-1">Pause</span></button></div><a href="https://editor.p5js.org/natureofcode/sketches/qyNwGUy59" target="_blank" rel="noreferrer" class="flex items-center px-2.5 text-[0.8rem] hover:underline">Open in Web Editor<svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="ml-1 text-gray-500" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg></a></div></div>
    <figcaption>Як згадувалося у вступі, сліди на цьому й інших знімках екрана призначені для вираження відчуття руху.</figcaption>
  </figure>
</div>
<div class="codesplit callout not-prose" data-code-language="javascript"><div class="pair"><pre><code class="hljs code language-javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Walker</span> {
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"></span>) {
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">    <span class="hljs-variable language_">this</span>.<span class="hljs-property">tx</span> = <span class="hljs-number">0</span>;
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">    <span class="hljs-variable language_">this</span>.<span class="hljs-property">ty</span> = <span class="hljs-number">10000</span>;
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">  }
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">  <span class="hljs-title function_">step</span>(<span class="hljs-params"></span>) {
</code></pre><div class="comment"><p></p></div></div><div class="pair split"><pre><code class="hljs code language-javascript">    <span class="hljs-variable language_">this</span>.<span class="hljs-property">x</span> = <span class="hljs-title function_">map</span>(<span class="hljs-title function_">noise</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">tx</span>), <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, width);
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">y</span> = <span class="hljs-title function_">map</span>(<span class="hljs-title function_">noise</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">ty</span>), <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, height);
</code></pre><div class="comment"><p>Масштабування x- та y-позицій на основі шуму.</p></div></div><div class="pair split"><pre><code class="hljs code language-javascript">    <span class="hljs-variable language_">this</span>.<span class="hljs-property">tx</span> += <span class="hljs-number">0.01</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">ty</span> += <span class="hljs-number">0.01</span>;
</code></pre><div class="comment"><p>Зміни у часі.</p></div></div><div class="pair"><pre><code class="hljs code language-javascript">  }
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">}
</code></pre><div class="comment"><p></p></div></div></div>
<p>Зверніть увагу, що для цього прикладу потрібна нова пара змінних: <code>tx</code> і <code>ty</code>. Це тому, що мені потрібно відстежувати дві змінні часу: одну для <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord mathnormal">x</span></span></span></span></span>-положення об’єкта <code>Walker</code>, а іншу для <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>y</mi></mrow><annotation encoding="application/x-tex">y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em"></span><span class="mord mathnormal" style="margin-right:0.03588em">y</span></span></span></span></span>-положення. Але в цих змінних є щось трохи дивне. Чому <code>tx</code> починається з 0, а <code>ty</code> з 10 000?</p>
<p>Хоча ці числа є довільними, я навмисно ініціалізував дві часові змінні різними значеннями, оскільки функція шуму є детермінованою: для певного часу <code>t</code> вона кожного разу повертає той самий результат. Якби я запитав значення шуму <code>t</code> одночасно для <code>x</code> і <code>y</code>, тоді <code>x</code> та <code>y</code> завжди були б однаковими, тобто об’єкт <code>Walker</code> рухався б лише по діагоналі. Замість цього я використовую дві різні частини простору шуму, починаючи з 0 для <code>x</code> і 10 000 для <code>y</code>, так що поведінка <code>x</code> та <code>y</code> положень виглядають незалежними одна від одної (малюнок 0.7).</p>
<figure>
  <div data-gatsby-image-wrapper="" class="gatsby-image-wrapper gatsby-image-wrapper-constrained"><div style="max-width:2304px;display:block"><img alt="" role="presentation" aria-hidden="true" src="data:image/svg+xml;charset=utf-8,%3Csvg height=&#x27;1080&#x27; width=&#x27;2304&#x27; xmlns=&#x27;http://www.w3.org/2000/svg&#x27; version=&#x27;1.1&#x27;%3E%3C/svg%3E" style="max-width:100%;display:block;position:static"/></div><div aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear;background-color:#f8f8f8;position:absolute;top:0;left:0;bottom:0;right:0"></div><picture><source type="image/webp" data-srcset="./static/3f5d8def4c0db5cd32bee4921c53861a/a7f76/00_randomness_7.webp 576w,./static/3f5d8def4c0db5cd32bee4921c53861a/fa50a/00_randomness_7.webp 1152w,./static/3f5d8def4c0db5cd32bee4921c53861a/843e7/00_randomness_7.webp 2304w" sizes="(min-width: 2304px) 2304px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 2304px) 2304px, 100vw" decoding="async" loading="lazy" data-src="./static/3f5d8def4c0db5cd32bee4921c53861a/6cf08/00_randomness_7.png" data-srcset="./static/3f5d8def4c0db5cd32bee4921c53861a/25ec1/00_randomness_7.png 576w,./static/3f5d8def4c0db5cd32bee4921c53861a/ff8ec/00_randomness_7.png 1152w,./static/3f5d8def4c0db5cd32bee4921c53861a/6cf08/00_randomness_7.png 2304w" alt="Малюнок 0.7: Використання різних зміщень уздовж осі x для варіювання значень шуму Перліна"/></picture><noscript><picture><source type="image/webp" srcSet="./static/3f5d8def4c0db5cd32bee4921c53861a/a7f76/00_randomness_7.webp 576w,./static/3f5d8def4c0db5cd32bee4921c53861a/fa50a/00_randomness_7.webp 1152w,./static/3f5d8def4c0db5cd32bee4921c53861a/843e7/00_randomness_7.webp 2304w" sizes="(min-width: 2304px) 2304px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 2304px) 2304px, 100vw" decoding="async" loading="lazy" src="./static/3f5d8def4c0db5cd32bee4921c53861a/6cf08/00_randomness_7.png" srcSet="./static/3f5d8def4c0db5cd32bee4921c53861a/25ec1/00_randomness_7.png 576w,./static/3f5d8def4c0db5cd32bee4921c53861a/ff8ec/00_randomness_7.png 1152w,./static/3f5d8def4c0db5cd32bee4921c53861a/6cf08/00_randomness_7.png 2304w" alt="Малюнок 0.7: Використання різних зміщень уздовж осі x для варіювання значень шуму Перліна"/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1,e.parentNode.parentNode.querySelector("[data-placeholder-image]").style.opacity=0)}}</script></div>
  <figcaption>Малюнок 0.7: Використання різних зміщень уздовж осі <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord mathnormal">x</span></span></span></span></span> для варіювання значень шуму Перліна</figcaption>
</figure>
<p>По правді кажучи, тут немає фактичної концепції часу. Це корисна метафора, яка допомагає описати, як працює функція шуму, але насправді ви маєте справу з простором, а не часом. Графік на малюнку 0.7 зображує лінійну послідовність значень шуму в 1D просторі, розташованих вздовж лінії. Значення беруться у певній <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord mathnormal">x</span></span></span></span></span>-позиції, тому в прикладах ви часто побачите змінну з назвою <code>xoff</code>, яка вказує на зміщення по осі <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord mathnormal">x</span></span></span></span></span> уздовж графіка шуму, а не змінну <code>t</code> для часу.</p>
<div data-type="exercise" class="callout">
  <h3 id="exercise-07"><a class="heading-link" href="#exercise-07">Вправа 0.7</a></h3>
  <p>У випадковому блукачі на основі шуму Перліна результат функції <code>noise()</code> масштабується напряму у <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mi>y</mi></mrow><annotation encoding="application/x-tex">xy</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em"></span><span class="mord mathnormal">x</span><span class="mord mathnormal" style="margin-right:0.03588em">y</span></span></span></span></span>-властивості об’єкта. Створіть випадкового блукача, але натомість зіставте результат функції <code>noise()</code> з розміром кроку блукача.</p>
</div>
<h3 id="two-dimensional-noise"><a class="heading-link" href="#two-dimensional-noise">Двовимірний шум</a></h3>
<p>Дослідивши концепцію значень шуму в одновимірному просторі, розгляньмо, як вони можуть існувати також і у двовимірному просторі (2D). У 1D шумі існує послідовність значень в якій будь-яке дане значення подібне до свого сусіда. Уявіть аркуш міліметрового паперу або папір в клітинку, де значення одновимірного шуму записані в одному рядку, одне значення на комірку. Оскільки ці значення знаходяться в одному вимірі, кожне має лише двох сусідів: значення, яке йде перед ним (ліворуч), і значення, яке йде після нього (праворуч), як показано зліва на малюнку 0.8.</p>
<figure>
  <div data-gatsby-image-wrapper="" class="gatsby-image-wrapper gatsby-image-wrapper-constrained"><div style="max-width:2304px;display:block"><img alt="" role="presentation" aria-hidden="true" src="data:image/svg+xml;charset=utf-8,%3Csvg height=&#x27;674&#x27; width=&#x27;2304&#x27; xmlns=&#x27;http://www.w3.org/2000/svg&#x27; version=&#x27;1.1&#x27;%3E%3C/svg%3E" style="max-width:100%;display:block;position:static"/></div><div aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear;background-color:#f8f8f8;position:absolute;top:0;left:0;bottom:0;right:0"></div><picture><source type="image/webp" data-srcset="./static/86eca0b21a9fd539438e2523f463037b/71938/00_randomness_8.webp 576w,./static/86eca0b21a9fd539438e2523f463037b/0e77a/00_randomness_8.webp 1152w,./static/86eca0b21a9fd539438e2523f463037b/b937b/00_randomness_8.webp 2304w" sizes="(min-width: 2304px) 2304px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 2304px) 2304px, 100vw" decoding="async" loading="lazy" data-src="./static/86eca0b21a9fd539438e2523f463037b/62392/00_randomness_8.png" data-srcset="./static/86eca0b21a9fd539438e2523f463037b/17c2d/00_randomness_8.png 576w,./static/86eca0b21a9fd539438e2523f463037b/e8801/00_randomness_8.png 1152w,./static/86eca0b21a9fd539438e2523f463037b/62392/00_randomness_8.png 2304w" alt="Малюнок 0.8: Порівняння сусідніх значень шуму Перліна в одному (ліворуч) і двох (праворуч) вимірах. Комірки затінені відповідно до їх значення шуму Перліна."/></picture><noscript><picture><source type="image/webp" srcSet="./static/86eca0b21a9fd539438e2523f463037b/71938/00_randomness_8.webp 576w,./static/86eca0b21a9fd539438e2523f463037b/0e77a/00_randomness_8.webp 1152w,./static/86eca0b21a9fd539438e2523f463037b/b937b/00_randomness_8.webp 2304w" sizes="(min-width: 2304px) 2304px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 2304px) 2304px, 100vw" decoding="async" loading="lazy" src="./static/86eca0b21a9fd539438e2523f463037b/62392/00_randomness_8.png" srcSet="./static/86eca0b21a9fd539438e2523f463037b/17c2d/00_randomness_8.png 576w,./static/86eca0b21a9fd539438e2523f463037b/e8801/00_randomness_8.png 1152w,./static/86eca0b21a9fd539438e2523f463037b/62392/00_randomness_8.png 2304w" alt="Малюнок 0.8: Порівняння сусідніх значень шуму Перліна в одному (ліворуч) і двох (праворуч) вимірах. Комірки затінені відповідно до їх значення шуму Перліна."/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1,e.parentNode.parentNode.querySelector("[data-placeholder-image]").style.opacity=0)}}</script></div>
  <figcaption>Малюнок 0.8: Порівняння сусідніх значень шуму Перліна в одному (ліворуч) і двох (праворуч) вимірах. Комірки затінені відповідно до їх значення шуму Перліна</figcaption>
</figure>
<p>Концептуально двовимірний шум працює точно так само. Різниця, звісно ж, полягає в тому, що значення записуються не лінійним шляхом уздовж одного рядка міліметрового паперу, а радше заповнюють всю сітку. Отримане значення буде подібним до всіх своїх сусідів: вище, нижче, праворуч, ліворуч і вздовж будь-якої діагоналі, як показано у правій половині малюнка 0.8.</p>
<p>Якщо ви візуалізуєте цю сітку із кожним значенням, зіставленим із яскравістю кольору, то отримаєте щось схоже на хмари. Білий колір сидить поруч зі світло-сірим, який сидить поруч із сірим, який сидить поруч із темно-сірим, який сидить поруч із чорним, який сидить поруч із темно-сірим і так далі (малюнок 0.9).</p>
<figure>
  <div class="not-prose clear-both my-4 overflow-hidden rounded border bg-gray-100" style="max-width:1152px"><div class="relative overflow-hidden rounded-t bg-white"><!-- <div class="absolute left-[50%] top-[50%] -translate-x-[50%] -translate-y-[50%] ">Loading sketch ...</div> --><iframe class="w-full border-none transition-opacity opacity-1000" style="aspect-ratio:2.667" loading="lazy" src="./examples/00_randomness/figure_i_noise_2_d"></iframe></div><div class="flex items-center justify-between border-t"><div class="flex"><button class="flex items-center border-r px-2.5 py-1.5 text-sm hover:bg-gray-200"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" aria-hidden="true" class="h-[15px] w-[15px]" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path></svg><span class="ml-1.5">Reset</span></button><button class="flex items-center border-r px-2.5 py-1.5 text-sm hover:bg-gray-200"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" aria-hidden="true" class="h-4 w-4" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" d="M10 9v6m4-6v6m7-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><span class="ml-1">Pause</span></button></div><a href="https://editor.p5js.org/natureofcode/sketches/O5a4MkgKC" target="_blank" rel="noreferrer" class="flex items-center px-2.5 text-[0.8rem] hover:underline">Open in Web Editor<svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="ml-1 text-gray-500" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg></a></div></div>
  <figcaption>Малюнок 0.9: У цьому результаті програми p5.js, що візуалізує 2D-шум, кожен піксель представляє значення шуму, який зображено кольором у градаціях сірого</figcaption>
</figure>
<p>Саме цей ефект початково і був ціллю для винаходу шуму. Якщо ви налаштуєте параметри та пограєте з кольорами, то отримані зображення будуть схожими на мармур, дерево чи будь-яку іншу органічну текстуру.</p>
<div data-type="note" class="callout">
  <h3 id="noise-detail"><a class="heading-link" href="#noise-detail">Деталізація шуму</a></h3>
  <p>У <a href="https://p5js.org/reference/#/p5/noise" target="_blank" rel="noopener">довідці про шум</a> пояснюється, що він обчислюється за кількома октавами. Виклик функції <a href="https://p5js.org/reference/#/p5/noiseDetail" target="_blank" rel="noopener"><code>noiseDetail()</code></a> змінює як кількість октав, так і їх вплив по відношенню одна до одної. Це, своєю чергою, змінює якість отриманих значень шуму.</p>
</div>
<p>Якщо ви хочете розфарбувати кожен піксель полотна випадковим чином за допомогою функції <code>random()</code>, вам знадобиться вкладений цикл для перебору пікселів у рядках і стовпцях та вибір для них випадкової яскравості. Зауважте, що у p5.js пікселі послідовно розміщені в масиві з чотирма слотами на кожен піксель: червоним, зеленим, синім і альфа-каналом. Щоб отримати більше інформації, перегляньте <a href="https://thecodingtrain.com/pixels" target="_blank" rel="noopener">відеоурок про масив пікселів у розділі “Pixels” на вебсайті Coding Train</a>.</p>
<div class="codesplit callout not-prose" data-code-language="javascript"><div class="pair"><pre><code class="hljs code language-javascript"><span class="hljs-title function_">loadPixels</span>();
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript"><span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> x = <span class="hljs-number">0</span>; x &lt; width; x++) {
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> y = <span class="hljs-number">0</span>; y &lt; height; y++) {
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">    <span class="hljs-keyword">let</span> index = (x + y * width) * <span class="hljs-number">4</span>;
</code></pre><div class="comment"><p></p></div></div><div class="pair split"><pre><code class="hljs code language-javascript">    <span class="hljs-keyword">let</span> bright = <span class="hljs-title function_">random</span>(<span class="hljs-number">255</span>);
</code></pre><div class="comment"><p>Випадкове значення для яскравості!</p></div></div><div class="pair split"><pre><code class="hljs code language-javascript">    pixels[index] = bright;
    pixels[index + <span class="hljs-number">1</span>] = bright;
    pixels[index + <span class="hljs-number">2</span>] = bright;
</code></pre><div class="comment"><p>Встановлення значень червоного, зеленого та синього кольорів.</p></div></div><div class="pair split"><pre><code class="hljs code language-javascript">    pixels[index + <span class="hljs-number">3</span>] = <span class="hljs-number">255</span>;
</code></pre><div class="comment"><p>Встановлення для альфа-каналу значення 255 (без прозорості).</p></div></div><div class="pair"><pre><code class="hljs code language-javascript">  }
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">}
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript"><span class="hljs-title function_">updatePixels</span>();
</code></pre><div class="comment"><p></p></div></div></div>
<p>Щоб забарвити кожен піксель з більш плавним переходом, ви можете зробити те саме, тільки замість виклику функції <code>random()</code> викликати функцію <code>noise()</code>:</p>
<div class="codesplit callout not-prose" data-code-language="javascript"><div class="pair split"><pre><code class="hljs code language-javascript"><span class="hljs-keyword">let</span> bright = <span class="hljs-title function_">map</span>(<span class="hljs-title function_">noise</span>(x, y), <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">255</span>);
</code></pre><div class="comment"><p>Яскравість з шумом Перліна!</p></div></div></div>
<p>Концептуально це хороший початок — код обчислює значення шуму для кожної позиції <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(x, y)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord mathnormal" style="margin-right:0.03588em">y</span><span class="mclose">)</span></span></span></span></span> у 2D просторі. Проблема в тому, що результат не матиме плавної хмарності, яку ви хочете. Одиниця буде завеликим стрибком для переходу через простір шуму від одного пікселя до наступного. Пам’ятайте, що з 1D шумом на кожний кадр анімації я збільшував змінну часу на 0.01, а не на 1!</p>
<p>Досить хорошим розв’язання цієї проблеми є використання  інших змінних для аргументів шуму, ніж ті, які ви використовуєте для доступу до пікселів на полотні. Наприклад, у вкладених циклах ви можете збільшувати змінну під назвою <code>xoff</code> на 0.01 кожного разу, коли <code>x</code> збільшується на 1 для горизонтального напрямку, і змінну <code>yoff</code> на 0.01 кожного разу, коли <code>y</code> збільшується на 1 для вертикального напрямку, як показано далі:</p>
<div class="codesplit callout not-prose" data-code-language="javascript"><div class="pair split"><pre><code class="hljs code language-javascript"><span class="hljs-keyword">let</span> xoff = <span class="hljs-number">0.0</span>;
</code></pre><div class="comment"><p>Для xoff почнемо зі значення 0.</p></div></div><div class="pair"><pre><code class="hljs code language-javascript">
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript"><span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> x = <span class="hljs-number">0</span>; x &lt; width; x++) {
</code></pre><div class="comment"><p></p></div></div><div class="pair split"><pre><code class="hljs code language-javascript">  <span class="hljs-keyword">let</span> yoff = <span class="hljs-number">0.0</span>;
</code></pre><div class="comment"><p>Для кожного значення xoff почнемо значення yoff з 0.</p></div></div><div class="pair"><pre><code class="hljs code language-javascript">
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> y = <span class="hljs-number">0</span>; y &lt; height; y++) {
</code></pre><div class="comment"><p></p></div></div><div class="pair split"><pre><code class="hljs code language-javascript">    <span class="hljs-keyword">let</span> bright = <span class="hljs-title function_">map</span>(<span class="hljs-title function_">noise</span>(xoff, yoff), <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">255</span>);
</code></pre><div class="comment"><p>Використаємо xoff і yoff для noise().</p></div></div><div class="pair split"><pre><code class="hljs code language-javascript">    <span class="hljs-keyword">let</span> index = (x + y * width) * <span class="hljs-number">4</span>;
</code></pre><div class="comment"><p>Використаємо x і y для позиції пікселя.</p></div></div><div class="pair split"><pre><code class="hljs code language-javascript">    pixels[index] = bright;
    pixels[index + <span class="hljs-number">1</span>] = bright;
    pixels[index + <span class="hljs-number">2</span>] = bright;
    pixels[index + <span class="hljs-number">3</span>] = <span class="hljs-number">255</span>;
</code></pre><div class="comment"><p>Встановимо значення червоного, зеленого, синього та альфа-каналу.</p></div></div><div class="pair split"><pre><code class="hljs code language-javascript">    yoff += <span class="hljs-number">0.01</span>;
</code></pre><div class="comment"><p>Збільшимо yoff.</p></div></div><div class="pair"><pre><code class="hljs code language-javascript">  }
</code></pre><div class="comment"><p></p></div></div><div class="pair split"><pre><code class="hljs code language-javascript">  xoff += <span class="hljs-number">0.01</span>;
</code></pre><div class="comment"><p>Збільшимо xoff.</p></div></div><div class="pair"><pre><code class="hljs code language-javascript">}
</code></pre><div class="comment"><p></p></div></div></div>
<p>Мушу зізнатися, що зробив щось досить заплутане. Я використовував <em>1D</em> шум, щоб встановити значення <em>двом</em> змінним (<code>this.x</code> і <code>this.y</code>), що контролюють 2D рух блукача. Потім я швидко перейшов до використання <em>2D</em> шуму, щоб встановити значення <em>одній</em> змінній (<code>bright</code>) для контролю яскравості кожного пікселя на полотні.</p>
<p>Ключова відмінність тут полягає в тому, що моя мета для блукача полягала в тому, щоб він мав два незалежних <em>1D</em> значення шуму. Це просто збіг, що я використовую їх для переміщення об’єкта у <em>2D</em> просторі. Спосіб досягнення цього полягає у використанні двох різних зміщень (<code>this.tx</code> і <code>this.ty</code>), щоб отримувати значення з різних частин того самого 1D простору шуму. Тим часом у прикладі з 2D-шумом обидві змінні <code>xoff</code> і <code>yoff</code> починаються з 0, оскільки я шукаю лише одне значення (яскравість пікселя) для певної точки у 2D просторі шуму. Блукач фактично рухається двома окремими 1D <em>шляхами</em> шуму, тоді як пікселі є окремими значеннями у 2D просторі.</p>
<div data-type="exercise" class="callout">
  <h3 id="exercise-08"><a class="heading-link" href="#exercise-08">Вправа 0.8</a></h3>
  <p>Пограйте з кольорами, функцією <code>noiseDetail()</code> і швидкістю інкрементації <code>xoff</code> та <code>yoff</code> для досягнення різних візуальних ефектів.</p>
</div>
<div data-type="exercise" class="callout">
  <h3 id="exercise-09"><a class="heading-link" href="#exercise-09">Вправа 0.9</a></h3>
  <p>Додайте до шуму третій аргумент, який збільшуватиметься один раз під час кожного виклику функції <code>draw()</code>, щоб анімувати 2D шум.</p>
</div>
<div data-type="exercise" class="callout">
  <h3 id="exercise-010"><a class="heading-link" href="#exercise-010">Вправа 0.10</a></h3>
  <p>Використовуйте значення шуму як висоту для побудови ландшафту.</p>
  <figure>
    <div class="not-prose clear-both my-4 overflow-hidden rounded border bg-gray-100" style="max-width:1152px"><div class="relative overflow-hidden rounded-t bg-white"><!-- <div class="absolute left-[50%] top-[50%] -translate-x-[50%] -translate-y-[50%] ">Loading sketch ...</div> --><iframe class="w-full border-none transition-opacity opacity-1000" style="aspect-ratio:2.667" loading="lazy" src="./examples/00_randomness/exercise_i_10_noise_terrain"></iframe></div><div class="flex items-center justify-between border-t"><div class="flex"><button class="flex items-center border-r px-2.5 py-1.5 text-sm hover:bg-gray-200"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" aria-hidden="true" class="h-[15px] w-[15px]" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path></svg><span class="ml-1.5">Reset</span></button><button class="flex items-center border-r px-2.5 py-1.5 text-sm hover:bg-gray-200"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" aria-hidden="true" class="h-4 w-4" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" d="M10 9v6m4-6v6m7-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><span class="ml-1">Pause</span></button></div><a href="https://editor.p5js.org/natureofcode/sketches/Rw2uKJLU2" target="_blank" rel="noreferrer" class="flex items-center px-2.5 text-[0.8rem] hover:underline">Open in Web Editor<svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="ml-1 text-gray-500" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg></a></div></div>
    <figcaption></figcaption>
  </figure>
</div>
<p>У цьому розділі я навів кілька традиційних способів використання шуму Перліна. Я присвоїв положенню об’єкта плавні значення 1D шуму, щоб налаштувати видимість блукання. За допомогою 2D шуму, використовуючи плавні значення, я створив хмароподібну текстуру на площині пікселів. Однак важливо пам’ятати, що значення шуму Перліна це просто значення. Вони за своєю суттю не прив’язані до розташування пікселів або якихось кольорів.</p>
<p>Будь-який приклад у цій книзі, в якому є змінні, може керуватися за допомогою шуму Перліна. Наприклад, коли я моделюю силу вітру, його міць може контролюватися шумом Перліна. Те саме стосується і кутів між гілками у фрактальному дереві або швидкості та напрямку об’єктів, що рухаються вздовж сітки у симуляції поля потоків (див. малюнок 0.10).</p>
<figure>
  <div class="col-list">
    <div>
      <div class="not-prose clear-both my-4 overflow-hidden rounded border bg-gray-100" style="max-width:1152px"><div class="relative overflow-hidden rounded-t bg-white"><!-- <div class="absolute left-[50%] top-[50%] -translate-x-[50%] -translate-y-[50%] ">Loading sketch ...</div> --><iframe class="w-full border-none transition-opacity opacity-1000" style="aspect-ratio:2.667" loading="lazy" src="./examples/00_randomness/figure_i_11_tree_stochastic_noise"></iframe></div><div class="flex items-center justify-between border-t"><div class="flex"><button class="flex items-center border-r px-2.5 py-1.5 text-sm hover:bg-gray-200"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" aria-hidden="true" class="h-[15px] w-[15px]" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path></svg><span class="ml-1.5">Reset</span></button><button class="flex items-center border-r px-2.5 py-1.5 text-sm hover:bg-gray-200"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" aria-hidden="true" class="h-4 w-4" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" d="M10 9v6m4-6v6m7-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><span class="ml-1">Pause</span></button></div><a href="https://editor.p5js.org/natureofcode/sketches/cMvdyBc4h" target="_blank" rel="noreferrer" class="flex items-center px-2.5 text-[0.8rem] hover:underline">Open in Web Editor<svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="ml-1 text-gray-500" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg></a></div></div>
    </div>
    <div>
      <div class="not-prose clear-both my-4 overflow-hidden rounded border bg-gray-100" style="max-width:1152px"><div class="relative overflow-hidden rounded-t bg-white"><!-- <div class="absolute left-[50%] top-[50%] -translate-x-[50%] -translate-y-[50%] ">Loading sketch ...</div> --><iframe class="w-full border-none transition-opacity opacity-1000" style="aspect-ratio:2.667" loading="lazy" src="./examples/00_randomness/figure_i_12_flow_field_with_perlin_noise"></iframe></div><div class="flex items-center justify-between border-t"><div class="flex"><button class="flex items-center border-r px-2.5 py-1.5 text-sm hover:bg-gray-200"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" aria-hidden="true" class="h-[15px] w-[15px]" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path></svg><span class="ml-1.5">Reset</span></button><button class="flex items-center border-r px-2.5 py-1.5 text-sm hover:bg-gray-200"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" aria-hidden="true" class="h-4 w-4" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" d="M10 9v6m4-6v6m7-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><span class="ml-1">Pause</span></button></div><a href="https://editor.p5js.org/natureofcode/sketches/mKmLM-JPi" target="_blank" rel="noreferrer" class="flex items-center px-2.5 text-[0.8rem] hover:underline">Open in Web Editor<svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="ml-1 text-gray-500" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg></a></div></div>
    </div>
  </div>
  <figcaption>Малюнок 0.10: Дерево з шумом Перліна ліворуч і поле потоків з шумом Перліна праворуч</figcaption>
</figure>
<p>Так само як ви можете зловживати випадковістю, легко потрапити й у пастку надмірного використання шуму Перліна. Як об’єкт повинен рухатися? Шум Перліна! Як його розфарбувати? Шум Перліна! Як швидко він повинен зростати? Шум Перліна! Якщо це стає вашою відповіддю на кожне запитання, тоді продовжуйте читати! Моя мета — познайомити вас із всесвітом нових можливостей для визначення правил ваших систем. Зрештою, ви самі визначаєте ці правила, і що більше можливостей у вашому розпорядженні, то більш обґрунтований та усвідомлений вибір ви зможете зробити. Випадковість і шум Перліна — лише перші зірки у величезному космосі творчості, який ми досліджуватимемо у цій книзі.</p>
<p>Як згадувалося у передмові, одним з можливих способів використання цієї книги є створення наскрізного проєкту, з поступовим включенням нових елементів з кожного розділу по ходу читання. Однією з ідей для цього може бути симуляція екосистеми. Уявіть популяцію обчислювальних створінь, що живуть довкола цифрового ставка і взаємодіють одне з одним відповідно до різних правил. У кінці кожного розділу ви знайдете схожі пропозиції. Вони запропонують ідеї щодо того, як поступово розширити вашу власну змодельовану екосистему за допомогою концепцій, розглянутих у відповідних розділах. Але сміливо вигадуйте власні ідеї!</p>
<div data-type="project" class="callout">
  <h3 id="the-ecosystem-project-1"><a class="heading-link" href="#the-ecosystem-project-1">Проєкт “Екосистема”</a></h3>
  <p>Для вашого першого кроку розробіть набір для імітації поведінки якогось створіння з реального світу, виходячи з принципів випадкового блукання, або інших рухів, зумовлених шумом. Чи можете ви зімітувати набридливого жука, який літає непередбачуваними шляхами, або, можливо, листка на поверхні води, яким бавиться непослідовний вітерець? Почніть із дослідження того, наскільки ви можете виразити індивідуальність створіння лише через його поведінку. Потім можете обміркувати його візуальні характеристики.</p>
  <p>Ось ілюстрація, яка допоможе вам згенерувати ідеї щодо створення екосистеми на основі тем, розглянутих у цій книзі. Спостерігайте за її розвитком із появою нових концепцій і технік у кожному наступному розділі.</p>
  <figure>
    <div data-gatsby-image-wrapper="" class="gatsby-image-wrapper gatsby-image-wrapper-constrained"><div style="max-width:2304px;display:block"><img alt="" role="presentation" aria-hidden="true" src="data:image/svg+xml;charset=utf-8,%3Csvg height=&#x27;1420&#x27; width=&#x27;2304&#x27; xmlns=&#x27;http://www.w3.org/2000/svg&#x27; version=&#x27;1.1&#x27;%3E%3C/svg%3E" style="max-width:100%;display:block;position:static"/></div><div aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear;background-color:#d8d8d8;position:absolute;top:0;left:0;bottom:0;right:0"></div><picture><source type="image/webp" data-srcset="./static/1b55dca771ef14f4126d18e16943a60b/be6fc/00_randomness_9.webp 576w,./static/1b55dca771ef14f4126d18e16943a60b/7c4ba/00_randomness_9.webp 1152w,./static/1b55dca771ef14f4126d18e16943a60b/2e9c6/00_randomness_9.webp 2304w" sizes="(min-width: 2304px) 2304px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 2304px) 2304px, 100vw" decoding="async" loading="lazy" data-src="./static/1b55dca771ef14f4126d18e16943a60b/43bff/00_randomness_9.png" data-srcset="./static/1b55dca771ef14f4126d18e16943a60b/09264/00_randomness_9.png 576w,./static/1b55dca771ef14f4126d18e16943a60b/8a8ae/00_randomness_9.png 1152w,./static/1b55dca771ef14f4126d18e16943a60b/43bff/00_randomness_9.png 2304w" alt=""/></picture><noscript><picture><source type="image/webp" srcSet="./static/1b55dca771ef14f4126d18e16943a60b/be6fc/00_randomness_9.webp 576w,./static/1b55dca771ef14f4126d18e16943a60b/7c4ba/00_randomness_9.webp 1152w,./static/1b55dca771ef14f4126d18e16943a60b/2e9c6/00_randomness_9.webp 2304w" sizes="(min-width: 2304px) 2304px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 2304px) 2304px, 100vw" decoding="async" loading="lazy" src="./static/1b55dca771ef14f4126d18e16943a60b/43bff/00_randomness_9.png" srcSet="./static/1b55dca771ef14f4126d18e16943a60b/09264/00_randomness_9.png 576w,./static/1b55dca771ef14f4126d18e16943a60b/8a8ae/00_randomness_9.png 1152w,./static/1b55dca771ef14f4126d18e16943a60b/43bff/00_randomness_9.png 2304w" alt=""/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1,e.parentNode.parentNode.querySelector("[data-placeholder-image]").style.opacity=0)}}</script></div>
    <figcaption></figcaption>
  </figure>
  <p>Мета цієї книги — продемонструвати алгоритми й поведінку об’єктів, тому мої приклади майже завжди включатимуть лише одну просту форму, таку як круг. Однак я сподіваюся, що у вас є певні творчі ідеї й закликаю вас випробувати себе у розробці дизайну тих елементів, які ви малюєте на полотні. Якщо малювання за допомогою коду для вас ще нова справа, ілюстратор книги Занна Марш, написала корисний посібник, який ви можете знайти у додатку до книги.</p>
</div>
</section>
<hr/><section class="not-prose flex w-full justify-between"><div><a class="group block" href="./introduction.html"><p class="text-gray-500">Попередній розділ</p><span class="text-lg font-semibold group-hover:underline">← <!-- -->Вступ</span></a></div><div><a class="group block text-right" href="./vectors.html"><p class="text-gray-500">Наступний розділм</p><span class="text-lg font-semibold group-hover:underline">1. Вектори<!-- --> →</span></a></div></section>
</main>
</div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div>

<script src="./assets/js/main.js"></script>
</body></html>