<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="generator" content="Gatsby 4.25.7"/><meta data-react-helmet="true" name="description" content="У Розділі 1 і Розділі 2 я ретельно відпрацював об’єктно-орієнтовану структуру для анімації фігури на полотні p5.js, використовуючи концепцію вектора д"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" property="og:url" content="https://natureofcode.com"/><meta data-react-helmet="true" property="og:image" content="https://natureofcode.com/static/7dd3422c43faa1513528cd25636d9e6b/b08a9/cover.png"/><meta data-react-helmet="true" property="og:title" content="3. Коливання"/><meta data-react-helmet="true" property="og:description" content="У Розділі 1 і Розділі 2 я ретельно відпрацював об’єктно-орієнтовану структуру для анімації фігури на полотні p5.js, використовуючи концепцію вектора д"/><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"/><meta data-react-helmet="true" name="twitter:title" content="3. Коливання"/><meta data-react-helmet="true" name="twitter:description" content="У Розділі 1 і Розділі 2 я ретельно відпрацював об’єктно-орієнтовану структуру для анімації фігури на полотні p5.js, використовуючи концепцію вектора д"/><meta data-react-helmet="true" name="twitter:image" content="https://natureofcode.com/static/7dd3422c43faa1513528cd25636d9e6b/b08a9/cover.png"/>

  <link rel="stylesheet" href="./assets/styles/global.css">

  <noscript><style>.gatsby-image-wrapper noscript [data-main-image]{opacity:1!important}.gatsby-image-wrapper [data-placeholder-image]{opacity:0!important}</style></noscript><script type="module">const e="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;e&&document.body.addEventListener("load",(function(e){const t=e.target;if(void 0===t.dataset.mainImage)return;if(void 0===t.dataset.gatsbyImageSsr)return;let a=null,n=t;for(;null===a&&n;)void 0!==n.parentNode.dataset.gatsbyImageWrapper&&(a=n.parentNode),n=n.parentNode;const o=a.querySelector("[data-placeholder-image]"),r=new Image;r.src=t.currentSrc,r.decode().catch((()=>{})).then((()=>{t.style.opacity=1,o&&(o.style.opacity=0,o.style.transition="opacity 500ms linear")}))}),!0);</script><link rel="icon" href="./favicon-32x32.png" type="image/png"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png"/><title data-react-helmet="true">3. Коливання / Nature of Code</title></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><header class="fixed left-0 right-0 top-0 z-40 bg-white px-6 lg:px-8"><div class="mx-auto flex h-[5em] max-w-6xl items-center justify-between"><div class="flex flex-col gap-x-6 lg:flex-row lg:items-center"><a href="./"><span class="text-lg font-black tracking-widest text-noc-400"><span class="font-black">ПРИРОДА</span> КОДУ</span></a><span class="hidden text-sm tracking-widest text-noc-400 xl:block">ДАНІЕЛЬ ШИФФМАН</span></div><button class="flex h-9 w-11 cursor-pointer flex-col items-center justify-between p-2 lg:hidden" aria-label="Toggle menu" title="Toggle menu"><span class="block h-0.5 w-full rounded bg-noc-200 transition-transform"></span><span class="block h-0.5 w-full rounded bg-noc-200 transition-opacity" style="opacity:1"></span><span class="block h-0.5 w-full rounded bg-noc-200 transition-transform"></span></button><div class="hidden items-center gap-6 lg:flex"><ul class="flex items-center gap-6"><li><a href="https://github.com/sponsors/CodingTrain" class="flex items-center gap-1.5 text-sm text-gray-500 hover:underline"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" class="text-noc-200" height="1.2em" width="1.2em" xmlns="http://www.w3.org/2000/svg"><path d="M458.4 64.3C400.6 15.7 311.3 23 256 79.3 200.7 23 111.4 15.6 53.6 64.3-21.6 127.6-10.6 230.8 43 285.5l175.4 178.7c10 10.2 23.4 15.9 37.6 15.9 14.3 0 27.6-5.6 37.6-15.8L469 285.6c53.5-54.7 64.7-157.9-10.6-221.3zm-23.6 187.5L259.4 430.5c-2.4 2.4-4.4 2.4-6.8 0L77.2 251.8c-36.5-37.2-43.9-107.6 7.3-150.7 38.9-32.7 98.9-27.8 136.5 10.5l35 35.7 35-35.7c37.8-38.5 97.8-43.2 136.5-10.6 51.1 43.1 43.5 113.9 7.3 150.8z"></path></svg>SUPPORT</a></li><li><a href="https://github.com/nature-of-code/noc-book-2" class="flex items-center gap-1.5 text-sm text-gray-500 hover:underline"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 496 512" class="text-noc-200" height="1.2em" width="1.2em" xmlns="http://www.w3.org/2000/svg"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg>GITHUB</a></li><li><a href="https://thecodingtrain.com/" class="flex items-center text-sm text-gray-500 hover:underline"><img src="./static/codingtrain_logo-53b0a841be45c7eac7a12f88b7bea596.png" alt="Coding Train&#x27;s logo" class="-ml-2 w-8"/>CODING TRAIN</a></li></ul><div class="not-prose flex items-center gap-4 undefined"><div class="relative"><a href="https://natureofcode.com/" target="_blank" class="flex items-center text-sm text-gray-500 hover:underline"><img src="./favicon-32x32.png" alt="The Nature Of Code logo" class="noc2-logo"/>THE NATURE OF CODE</a></div></div></div></div></header>
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-YD31R75NSS"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-YD31R75NSS');
  </script>
  <nav class="fixed bottom-0 left-0 right-0 top-[5em] z-20 overflow-y-auto bg-white px-6 lg:hidden mb-menu hidden">
    <ul class="my-7 space-y-2">
      <li><a class="text-lg text-gray-800" href="./dedication.html">Присвята</a></li>
      <li><a class="text-lg text-gray-800" href="./acknowledgements.html">Подяки</a></li>
      <li><a class="text-lg text-gray-800" href="./introduction.html">Вступ</a></li>
      <li>
        <button class="sub-menu-btn flex items-center gap-2 text-lg text-gray-800">
          <span>Розділи</span>
          <svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="h-5 w-5 transition-transform" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" style="transform: scaleY(1);"><polyline points="6 9 12 15 18 9"></polyline></svg>
        </button>
        <ul class="space-y-2 py-2 pl-4 sub-menu hidden">
          <li><a class="flex items-center text-gray-600" href="./random.html"><span class="w-8">0</span><span>Випадковість</span></a></li>
          <li><a class="flex items-center text-gray-600" href="./vectors.html"><span class="w-8">1</span><span>Вектори</span></a></li>
          <li><a class="flex items-center text-gray-600" href="./forces.html"><span class="w-8">2</span><span>Сили</span></a></li>
          <li><a aria-current="page" class="flex items-center text-gray-600 font-bold" href="./oscillation.html"><span class="w-8">3</span><span>Коливання</span></a></li>
          <li><a class="flex items-center text-gray-600" href="./particles.html"><span class="w-8">4</span><span>Система частинок</span></a></li>
          <li><a class="flex items-center text-gray-600" href="./autonomous-agents.html"><span class="w-8">5</span><span>Автономні агенти</span></a></li>
          <li><a class="flex items-center text-gray-600" href="./physics-libraries.html"><span class="w-8">6</span><span>Фізичні бібліотеки</span></a></li>
          <li><a class="flex items-center text-gray-600" href="./cellular-automata.html"><span class="w-8">7</span><span>Клітинні автомати</span></a></li>
          <li><a class="flex items-center text-gray-600" href="./fractals.html"><span class="w-8">8</span><span>Фрактали</span></a></li>
          <li><a class="flex items-center text-gray-600" href="./genetic-algorithms.html"><span class="w-8">9</span><span>Еволюційне моделювання</span></a></li>
          <li><a class="flex items-center text-gray-600" href="./neural-networks.html"><span class="w-8">10</span><span>Нейронні мережі</span></a></li>
          <li><a class="flex items-center text-gray-600" href="./neuroevolution.html"><span class="w-8">11</span><span>Нейроеволюція</span></a></li>
        </ul>
      </li>
      <li><a class="text-lg text-gray-800" href="./appendix-creature.html">Додаток: Дизайн створінь</a></li>
      <li><a class="text-lg text-gray-800" href="./resources.html">Додаткові ресурси</a></li>
      <li><a class="text-lg text-gray-800" href="./credits.html">Credits</a></li>
      <li><a class="text-lg text-gray-800" href="./translation.html">Про переклад</a></li>
      <li><a class="text-lg text-gray-800" href="./examples.html">Приклади</a></li>
    </ul>
    <ul class="my-7 space-y-2">
      <li><a target="_blank" href="https://github.com/sponsors/CodingTrain" class="flex items-center gap-1 text-lg text-gray-800">Support<svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="w-3.5 text-gray-400" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg></a></li>
      <li><a target="_blank" href="https://github.com/nature-of-code/noc-book-2" class="flex items-center gap-1 text-lg text-gray-800">GitHub<svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="w-3.5 text-gray-400" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg></a></li>
      <li><a target="_blank" href="https://thecodingtrain.com/" class="flex items-center gap-1 text-lg text-gray-800">Coding Train<svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="w-3.5 text-gray-400" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg></a></li>

      <li><a target="_blank" href="https://natureofcode.com/" class="flex items-center gap-1 text-lg text-gray-800">The Nature Of Code<svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="w-3.5 text-gray-400" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg></a></li>
    </ul>
  </nav>
  <div class="mt-[6em] px-6 lg:px-8"><div class="mx-auto max-w-6xl lg:flex lg:justify-between lg:gap-10 xl:gap-14"><aside class="sticky top-[6em] z-10 hidden max-h-[calc(100vh-6em)] min-w-[14em] overflow-y-auto pb-8 lg:block lg:flex-grow"><nav class="border-noc-200 rounded-3xl border"><ul class="divide-noc-200 divide-y"><li><a class="relative block px-3 py-2 text-sm hover:underline" href="./dedication.html">Присвята</a></li><li><a class="relative block px-3 py-2 text-sm hover:underline" href="./acknowledgements.html">Подяки</a></li><li><a class="relative block px-3 py-2 text-sm hover:underline" href="./introduction.html">Вступ</a></li><li><a class="group relative flex items-center px-3 py-2 text-sm" href="./random.html"><span class="w-8">0</span><span class="group-hover:underline">Випадковість</span></a></li><li><a class="group relative flex items-center px-3 py-2 text-sm" href="./vectors.html"><span class="w-8">1</span><span class="group-hover:underline">Вектори</span></a></li><li><a class="group relative flex items-center px-3 py-2 text-sm" href="./forces.html"><span class="w-8">2</span><span class="group-hover:underline">Сили</span></a></li><li><a aria-current="page" class="group relative flex items-center px-3 py-2 text-sm font-bold" href="./oscillation.html"><span class="w-8">3</span><span class="group-hover:underline">Коливання</span></a><ul class="space-y-1 pb-2"><li><a href="#angles" class="ml-11 block py-0.5 pr-2 text-sm text-gray-500 hover:underline false">Кути</a></li><li><a href="#angular-motion" class="ml-11 block py-0.5 pr-2 text-sm text-gray-500 hover:underline false">Кутовий рух</a></li><li><a href="#trigonometry-functions" class="ml-11 block py-0.5 pr-2 text-sm text-gray-500 hover:underline false">Тригонометричні функції</a></li><li><a href="#pointing-in-the-direction-of-movement" class="ml-11 block py-0.5 pr-2 text-sm text-gray-500 hover:underline false">Спрямованість у напрямку руху</a></li><li><a href="#polar-vs-cartesian-coordinates" class="ml-11 block py-0.5 pr-2 text-sm text-gray-500 hover:underline false">Полярні та прямокутні координати</a></li><li><a href="#properties-of-oscillation" class="ml-11 block py-0.5 pr-2 text-sm text-gray-500 hover:underline false">Властивості коливань</a></li><li><a href="#oscillation-with-angular-velocity" class="ml-11 block py-0.5 pr-2 text-sm text-gray-500 hover:underline false">Коливання з кутовою швидкістю</a></li><li><a href="#waves" class="ml-11 block py-0.5 pr-2 text-sm text-gray-500 hover:underline false">Хвилі</a></li><li><a href="#spring-forces" class="ml-11 block py-0.5 pr-2 text-sm text-gray-500 hover:underline false">Сила пружності</a></li><li><a href="#the-pendulum" class="ml-11 block py-0.5 pr-2 text-sm text-gray-500 hover:underline false">Маятник</a></li></ul></li><li><a class="group relative flex items-center px-3 py-2 text-sm" href="./particles.html"><span class="w-8">4</span><span class="group-hover:underline">Системи частинок</span></a></li><li><a class="group relative flex items-center px-3 py-2 text-sm" href="./autonomous-agents.html"><span class="w-8">5</span><span class="group-hover:underline">Автономні агенти</span></a></li><li><a class="group relative flex items-center px-3 py-2 text-sm" href="./physics-libraries.html"><span class="w-8">6</span><span class="group-hover:underline">Фізичні бібліотеки</span></a></li><li><a class="group relative flex items-center px-3 py-2 text-sm" href="./cellular-automata.html"><span class="w-8">7</span><span class="group-hover:underline">Клітинні автомати</span></a></li><li><a class="group relative flex items-center px-3 py-2 text-sm" href="./fractals.html"><span class="w-8">8</span><span class="group-hover:underline">Фрактали</span></a></li><li><a class="group relative flex items-center px-3 py-2 text-sm" href="./genetic-algorithms.html"><span class="w-8">9</span><span class="group-hover:underline">Еволюційне моделювання</span></a></li><li><a class="group relative flex items-center px-3 py-2 text-sm" href="./neural-networks.html"><span class="w-8">10</span><span class="group-hover:underline">Нейронні мережі</span></a></li><li><a class="group relative flex items-center px-3 py-2 text-sm" href="./neuroevolution.html"><span class="w-8">11</span><span class="group-hover:underline">Нейроеволюція</span></a></li><li><a class="relative block px-3 py-2 text-sm hover:underline" href="./appendix-creature.html">Додаток: Дизайн створінь </a></li><li><a class="relative block px-3 py-2 text-sm hover:underline" href="./resources.html">Додаткові ресурси</a></li><li><a class="relative block px-3 py-2 text-sm hover:underline" href="./credits.html">Credits</a></li><li><a class="relative block px-3 py-2 text-sm hover:underline" href="./translation.html">Про переклад</a></li><li><a class="relative block px-3 py-2 text-sm hover:underline" href="./examples.html">Приклади</a></li></ul></nav></aside><main class="prose mx-auto max-w-[50em] pb-8"><section data-type="chapter" id="section-oscillation">
<h1 id="chapter-3-oscillation">Розділ 3. Коливання</h1>
<div class="chapter-opening-quote">
  <blockquote data-type="epigraph">
    <p>Тригонометрія — це синус часу.</p>
    <div class="chapter-opening-quote-source">
      <p>— Анонім</p>
    </div>
  </blockquote>
</div>
<div class="chapter-opening-figure">
  <figure>
    <div data-gatsby-image-wrapper="" class="gatsby-image-wrapper gatsby-image-wrapper-constrained"><div style="max-width:2779px;display:block"><img alt="" role="presentation" aria-hidden="true" src="data:image/svg+xml;charset=utf-8,%3Csvg height=&#x27;1564&#x27; width=&#x27;2779&#x27; xmlns=&#x27;http://www.w3.org/2000/svg&#x27; version=&#x27;1.1&#x27;%3E%3C/svg%3E" style="max-width:100%;display:block;position:static"/></div><div aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear;background-color:#e8e8e8;position:absolute;top:0;left:0;bottom:0;right:0"></div><picture><source type="image/webp" data-srcset="./static/7ef599276b4f58841b9d2ccc8a9e04db/23466/03_oscillation_1.webp 695w,./static/7ef599276b4f58841b9d2ccc8a9e04db/e566c/03_oscillation_1.webp 1390w,./static/7ef599276b4f58841b9d2ccc8a9e04db/146f7/03_oscillation_1.webp 2779w" sizes="(min-width: 2779px) 2779px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 2779px) 2779px, 100vw" decoding="async" loading="lazy" data-src="./static/7ef599276b4f58841b9d2ccc8a9e04db/eefa2/03_oscillation_1.png" data-srcset="./static/7ef599276b4f58841b9d2ccc8a9e04db/86dbd/03_oscillation_1.png 695w,./static/7ef599276b4f58841b9d2ccc8a9e04db/85319/03_oscillation_1.png 1390w,./static/7ef599276b4f58841b9d2ccc8a9e04db/eefa2/03_oscillation_1.png 2779w" alt="Гала, автор Бріджит Райлі, 1974. Акрил на полотні, 159.7 на 159.7 см"/></picture><noscript><picture><source type="image/webp" srcSet="./static/7ef599276b4f58841b9d2ccc8a9e04db/23466/03_oscillation_1.webp 695w,./static/7ef599276b4f58841b9d2ccc8a9e04db/e566c/03_oscillation_1.webp 1390w,./static/7ef599276b4f58841b9d2ccc8a9e04db/146f7/03_oscillation_1.webp 2779w" sizes="(min-width: 2779px) 2779px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 2779px) 2779px, 100vw" decoding="async" loading="lazy" src="./static/7ef599276b4f58841b9d2ccc8a9e04db/eefa2/03_oscillation_1.png" srcSet="./static/7ef599276b4f58841b9d2ccc8a9e04db/86dbd/03_oscillation_1.png 695w,./static/7ef599276b4f58841b9d2ccc8a9e04db/85319/03_oscillation_1.png 1390w,./static/7ef599276b4f58841b9d2ccc8a9e04db/eefa2/03_oscillation_1.png 2779w" alt="Гала, автор Бріджит Райлі, 1974. Акрил на полотні, 159.7 на 159.7 см"/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1,e.parentNode.parentNode.querySelector("[data-placeholder-image]").style.opacity=0)}}</script></div>
    <figcaption></figcaption>
  </figure>
  <span id="gala-by-bridget-riley-1974-acrylic-on-canvas-1597--1597-cm"><a class="heading-link" href="#gala-by-bridget-riley-1974-acrylic-on-canvas-1597--1597-cm">Гала, автор Бріджит Райлі, 1974. Акрил на полотні, 159.7 на 159.7 см</a></span>
  <p>Бріджит Райлі, відома британська художниця, була рушійною силою руху оп-арту 1960-х років. Її робота містить геометричні візерунки, які кидають виклик сприйняттю глядача та викликають відчуття руху чи вібрації. Її твір “<em>Гала</em>” 1974 року демонструє серію криволінійних форм, які хвилюються по полотну, викликаючи природний ритм син усоїди.</p>
<hr/></div>
<p>У <a href="/vectors#section-vectors">Розділі 1</a> і <a href="/forces#section-forces">Розділі 2</a> я ретельно відпрацював об’єктно-орієнтовану структуру для анімації фігури на полотні p5.js, використовуючи концепцію вектора для представлення положення, швидкості та прискорення, викликаних силами середовища. Я міг би відразу перейти до таких тем, як системи частинок, керувальні сили, групова поведінка тощо. Однак це означало б пропустити фундаментальний аспект руху в природному світі: <strong>коливання</strong> (осциляція) або рух об’єкта вперед і назад навколо центральної точки або положення.</p>
<p>Для моделювання коливань, вам потрібно невелике розуміння <strong>тригонометрії</strong>, математики трикутників. Вивчення деяких тригонометричних можливостей надасть вам нові інструменти для генерації моделей і створення нових поведінок руху в програмах p5.js. Ви навчитесь використовувати кутову швидкість і прискорення для обертання об’єктів під час їхнього руху. Ви зможете використовувати функції синуса та косинуса для моделювання приємних плавних рухів із прискоренням чи гальмуванням. Ви також навчитеся розраховувати складніші си ли у ситуаціях де потрібно враховувати кути, наприклад, коливання маятника або рух коробки по схилу.</p>
<p>Я розпочну розділ з основ роботи із кутами в p5.js, а потім розгляну кілька аспектів тригонометрії. Наприкінець я зв’яжу тригонометрію з тим, що ви дізналися про сили у <a href="/forces#section-forces">Розділі 2</a>. Зміст цього розділу прокладе шлях для складніших прикладів цієї книги, які потребують тригонометрії.</p>
<h2 id="angles"><a class="heading-link" href="#angles">Кути</a></h2>
<p>Перш ніж продовжувати, мені потрібно переконатися, що ви розумієте, як концепція <strong>кута</strong> підходить до творчого кодування у p5.js. Якщо у вас є досвід роботи з p5.js, ви безсумнівно стикалися з цим питанням під час використання функції <code>rotate()</code> для обертання та розкручування об’єктів. Швидше за все, ви знайомі з поняттям кута, що вимірюється у <strong>градусах</strong> (див. малюнок 3.1).</p>
<figure>
  <div data-gatsby-image-wrapper="" class="gatsby-image-wrapper gatsby-image-wrapper-constrained"><div style="max-width:2304px;display:block"><img alt="" role="presentation" aria-hidden="true" src="data:image/svg+xml;charset=utf-8,%3Csvg height=&#x27;872&#x27; width=&#x27;2304&#x27; xmlns=&#x27;http://www.w3.org/2000/svg&#x27; version=&#x27;1.1&#x27;%3E%3C/svg%3E" style="max-width:100%;display:block;position:static"/></div><div aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear;background-color:#f8f8f8;position:absolute;top:0;left:0;bottom:0;right:0"></div><picture><source type="image/webp" data-srcset="./static/f2ca9e8a043e084009b5a7a04143142f/c78cf/03_oscillation_2.webp 576w,./static/f2ca9e8a043e084009b5a7a04143142f/23a50/03_oscillation_2.webp 1152w,./static/f2ca9e8a043e084009b5a7a04143142f/5edf0/03_oscillation_2.webp 2304w" sizes="(min-width: 2304px) 2304px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 2304px) 2304px, 100vw" decoding="async" loading="lazy" data-src="./static/f2ca9e8a043e084009b5a7a04143142f/5c082/03_oscillation_2.png" data-srcset="./static/f2ca9e8a043e084009b5a7a04143142f/7c9af/03_oscillation_2.png 576w,./static/f2ca9e8a043e084009b5a7a04143142f/c7e09/03_oscillation_2.png 1152w,./static/f2ca9e8a043e084009b5a7a04143142f/5c082/03_oscillation_2.png 2304w" alt="Малюнок 3.1: Кути, виміряні у градусах"/></picture><noscript><picture><source type="image/webp" srcSet="./static/f2ca9e8a043e084009b5a7a04143142f/c78cf/03_oscillation_2.webp 576w,./static/f2ca9e8a043e084009b5a7a04143142f/23a50/03_oscillation_2.webp 1152w,./static/f2ca9e8a043e084009b5a7a04143142f/5edf0/03_oscillation_2.webp 2304w" sizes="(min-width: 2304px) 2304px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 2304px) 2304px, 100vw" decoding="async" loading="lazy" src="./static/f2ca9e8a043e084009b5a7a04143142f/5c082/03_oscillation_2.png" srcSet="./static/f2ca9e8a043e084009b5a7a04143142f/7c9af/03_oscillation_2.png 576w,./static/f2ca9e8a043e084009b5a7a04143142f/c7e09/03_oscillation_2.png 1152w,./static/f2ca9e8a043e084009b5a7a04143142f/5c082/03_oscillation_2.png 2304w" alt="Малюнок 3.1: Кути, виміряні у градусах"/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1,e.parentNode.parentNode.querySelector("[data-placeholder-image]").style.opacity=0)}}</script></div>
  <figcaption>Малюнок 3.1: Кути, виміряні у градусах</figcaption>
</figure>
<div class="half-width-right">
  <figure>
    <div data-gatsby-image-wrapper="" class="gatsby-image-wrapper gatsby-image-wrapper-constrained"><div style="max-width:1152px;display:block"><img alt="" role="presentation" aria-hidden="true" src="data:image/svg+xml;charset=utf-8,%3Csvg height=&#x27;640&#x27; width=&#x27;1152&#x27; xmlns=&#x27;http://www.w3.org/2000/svg&#x27; version=&#x27;1.1&#x27;%3E%3C/svg%3E" style="max-width:100%;display:block;position:static"/></div><div aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear;background-color:#f8f8f8;position:absolute;top:0;left:0;bottom:0;right:0"></div><picture><source type="image/webp" data-srcset="./static/07b61d98b981d57a3ee8bace993172ae/b9388/03_oscillation_3.webp 288w,./static/07b61d98b981d57a3ee8bace993172ae/e17a0/03_oscillation_3.webp 576w,./static/07b61d98b981d57a3ee8bace993172ae/fda69/03_oscillation_3.webp 1152w" sizes="(min-width: 1152px) 1152px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 1152px) 1152px, 100vw" decoding="async" loading="lazy" data-src="./static/07b61d98b981d57a3ee8bace993172ae/ba369/03_oscillation_3.png" data-srcset="./static/07b61d98b981d57a3ee8bace993172ae/ebf21/03_oscillation_3.png 288w,./static/07b61d98b981d57a3ee8bace993172ae/ed18a/03_oscillation_3.png 576w,./static/07b61d98b981d57a3ee8bace993172ae/ba369/03_oscillation_3.png 1152w" alt="Малюнок 3.2: Квадрат повернутий на 45 градусів"/></picture><noscript><picture><source type="image/webp" srcSet="./static/07b61d98b981d57a3ee8bace993172ae/b9388/03_oscillation_3.webp 288w,./static/07b61d98b981d57a3ee8bace993172ae/e17a0/03_oscillation_3.webp 576w,./static/07b61d98b981d57a3ee8bace993172ae/fda69/03_oscillation_3.webp 1152w" sizes="(min-width: 1152px) 1152px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 1152px) 1152px, 100vw" decoding="async" loading="lazy" src="./static/07b61d98b981d57a3ee8bace993172ae/ba369/03_oscillation_3.png" srcSet="./static/07b61d98b981d57a3ee8bace993172ae/ebf21/03_oscillation_3.png 288w,./static/07b61d98b981d57a3ee8bace993172ae/ed18a/03_oscillation_3.png 576w,./static/07b61d98b981d57a3ee8bace993172ae/ba369/03_oscillation_3.png 1152w" alt="Малюнок 3.2: Квадрат повернутий на 45 градусів"/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1,e.parentNode.parentNode.querySelector("[data-placeholder-image]").style.opacity=0)}}</script></div>
    <figcaption>Малюнок 3.2: Квадрат повернутий на 45 градусів</figcaption>
  </figure>
</div>
<p>Повний оберт відбувається від 0 до 360 градусів, а 90 градусів (прямий кут) становить одну четверту від 360, що зображено на малюнку 3.1 двома перпендикулярними лініями.</p>
<p>У комп’ютерній графіці кути загалом використовуються для вказ івки повороту фігури. Наприклад, квадрат на малюнку 3.2 повернуто на 45 градусів навколо свого центру.</p>
<div class="half-width-right">
  <figure>
    <div data-gatsby-image-wrapper="" class="gatsby-image-wrapper gatsby-image-wrapper-constrained"><div style="max-width:1152px;display:block"><img alt="" role="presentation" aria-hidden="true" src="data:image/svg+xml;charset=utf-8,%3Csvg height=&#x27;635&#x27; width=&#x27;1152&#x27; xmlns=&#x27;http://www.w3.org/2000/svg&#x27; version=&#x27;1.1&#x27;%3E%3C/svg%3E" style="max-width:100%;display:block;position:static"/></div><div aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear;background-color:#f8f8f8;position:absolute;top:0;left:0;bottom:0;right:0"></div><picture><source type="image/webp" data-srcset="./static/5f7d8c5419a0e1ec08cb3c3696afcc77/c5842/03_oscillation_4.webp 288w,./static/5f7d8c5419a0e1ec08cb3c3696afcc77/23390/03_oscillation_4.webp 576w,./static/5f7d8c5419a0e1ec08cb3c3696afcc77/29717/03_oscillation_4.webp 1152w" sizes="(min-width: 1152px) 1152px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 1152px) 1152px, 100vw" decoding="async" loading="lazy" data-src="./static/5f7d8c5419a0e1ec08cb3c3696afcc77/730cb/03_oscillation_4.png" data-srcset="./static/5f7d8c5419a0e1ec08cb3c3696afcc77/f3cd8/03_oscillation_4.png 288w,./static/5f7d8c5419a0e1ec08cb3c3696afcc77/171ab/03_oscillation_4.png 576w,./static/5f7d8c5419a0e1ec08cb3c3696afcc77/730cb/03_oscillation_4.png 1152w" alt="Малюнок 3.3: Довжина дуги для кута в 1 радіан дорівнює радіусу."/></picture><noscript><picture><source type="image/webp" srcSet="./static/5f7d8c5419a0e1ec08cb3c3696afcc77/c5842/03_oscillation_4.webp 288w,./static/5f7d8c5419a0e1ec08cb3c3696afcc77/23390/03_oscillation_4.webp 576w,./static/5f7d8c5419a0e1ec08cb3c3696afcc77/29717/03_oscillation_4.webp 1152w" sizes="(min-width: 1152px) 1152px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 1152px) 1152px, 100vw" decoding="async" loading="lazy" src="./static/5f7d8c5419a0e1ec08cb3c3696afcc77/730cb/03_oscillation_4.png" srcSet="./static/5f7d8c5419a0e1ec08cb3c3696afcc77/f3cd8/03_oscillation_4.png 288w,./static/5f7d8c5419a0e1ec08cb3c3696afcc77/171ab/03_oscillation_4.png 576w,./static/5f7d8c5419a0e1ec08cb3c3696afcc77/730cb/03_oscillation_4.png 1152w" alt="Малюнок 3.3: Довжина дуги для кута в 1 радіан дорівнює радіусу."/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1,e.parentNode.parentNode.querySelector("[data-placeholder-image]").style.opacity=0)}}</script></div>
    <figcaption>Малюнок 3.3: Довжина дуги для кута в 1 радіан дорівнює радіусу.</figcaption>
  </figure>
</div>
<p>Заковика в тому, що p5.js за замовчуванням вимірює кути не в градусах, а у <strong>радіанах</strong>. Ця альтернативна одиниця вимірювання визначається відношенням довжини дуги кола (сегмента окружності кола) до радіуса цього кола. Один радіан — це кут, при якому це відношення дорівнює одиниці (див. малюнок 3.3). Повне коло (360 градусів) еквівалентно <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn><mi>π</mi></mrow><annotation encoding="application/x-tex">2\pi</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em"></span><span class="mord">2</span><span class="mord mathnormal" style="margin-right:0.03588em">π</span></span></span></span></span> радіанам, 180 градусів еквівалентно <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>π</mi></mrow><annotation encoding="application/x-tex">\pi</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord mathnormal" style="margin-right:0.03588em">π</span></span></span></span></span> радіанам, а 90 градусів еквівалентно <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>π</mi><mi mathvariant="normal">/</mi><mn>2</mn></mrow><annotation encoding="application/x-tex">\pi/2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord mathnormal" style="margin-right:0.03588em">π</span><span class="mord">/2</span></span></span></span></span> радіанам.</p>
<p>Формула для переведення градусів у радіани:</p>
<div data-type="equation" class="math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mtext>радіани</mtext><mo>=</mo><mfrac><mrow><mn>2</mn><mi>π</mi><mo>×</mo><mtext>градуси</mtext></mrow><mn>360</mn></mfrac></mrow><annotation encoding="application/x-tex">\text{радіани} = {2\pi \times \text{градуси} \over 360}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em"></span><span class="mord text"><span class="mord cyrillic_fallback">радіани</span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:2.0074em;vertical-align:-0.686em"></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">360</span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:0.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">2</span><span class="mord mathnormal" style="margin-right:0.03588em">π</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mord text"><span class="mord cyrillic_fallback">градуси</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></span></div>
<p>На щастя, якщо ви віддаєте перевагу кутам у градусах, то можете ввімкнути відповідний режим, викликавши функцію <code>angleMode(DEGREES)</code>, або використовувати зручну функцію <code>radians()</code> для перетворення значень з градусів у радіани. Також доступні константи <code>PI</code>, <code>TWO_PI</code> і <code>HALF_PI</code> (еквіваленти 180, 360 і 90 градусам відповідно). Наприклад, ось два способи повернути фігуру на 60 градусів у p5.js:</p>
<div class="codesplit callout not-prose" data-code-language="javascript"><div class="pair"><pre><code class="hljs code language-javascript"><span class="hljs-keyword">let</span> angle = <span class="hljs-number">60</span>;
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript"><span class="hljs-title function_">rotate</span>(<span class="hljs-title function_">radians</span>(angle));
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript"><span class="hljs-title function_">angleMode</span>(<span class="hljs-variable constant_">DEGREES</span>);
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript"><span class="hljs-title function_">rotate</span>(angle);
</code></pre><div class="comment"><p></p></div></div></div>
<div data-type="note" class="callout">
  <h3 id="what-is-pi"><a class="heading-link" href="#what-is-pi">Що таке Пі?</a></h3>
  <p>Математична константа <strong>пі</strong>, яку позначають грецькою літерою <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>π</mi></mrow><annotation encoding="application/x-tex">\pi</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord mathnormal" style="margin-right:0.03588em">π</span></span></span></span></span>, — це дійсне число, яке визначається як відношення довжини кола (або периметру кола) до його діаметра (прямої лінії, що проходить через центр кола і сполучає дві його точки). Воно дорівнює приблизно 3.14159 і доступне у p5.js через вбудовану константу <code>PI</code>.</p>
</div>
<p>Хоча градуси можуть бути корисними, у цій книзі я буду працювати з радіанами, оскільки вони є стандартною одиницею вимірювання в багатьох мовах програмування і графічних середовищах. Якщо радіани для вас новинка, це гарна нагода для практики! Крім того, якщо ви не знайомі з тим, як обертання реалізовано в p5.js, я рекомендую переглянути <a href="https://thecodingtrain.com/transformations" target="_blank" rel="noopener">мою відеосерію на Coding Train про трансформації у p5.js</a>.</p>
<div data-type="exercise" class="callout">
  <h3 id="exercise-31"><a class="heading-link" href="#exercise-31">Вправа 3.1</a></h3>
  <p>Налаштуйте обертання об’єкта, схожого на кийок, навколо його центру за допомогою функцій <code>translate()</code> і <code>rotate()</code>.</p>
  <figure data-type="example">
    <div class="not-prose clear-both my-4 overflow-hidden rounded border bg-gray-100" style="max-width:1152px"><div class="relative overflow-hidden rounded-t bg-white"><!-- <div class="absolute left-[50%] top-[50%] -translate-x-[50%] -translate-y-[50%] ">Loading sketch ...</div> --><iframe class="w-full border-none transition-opacity opacity-1000" style="aspect-ratio:2.667" loading="lazy" src="./examples/03_oscillation/exercise_3_1_baton"></iframe></div><div class="flex items-center justify-between border-t"><div class="flex"><button class="flex items-center border-r px-2.5 py-1.5 text-sm hover:bg-gray-200"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" aria-hidden="true" class="h-[15px] w-[15px]" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path></svg><span class="ml-1.5">Reset</span></button><button class="flex items-center border-r px-2.5 py-1.5 text-sm hover:bg-gray-200"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" aria-hidden="true" class="h-4 w-4" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" d="M10 9v6m4-6v6m7-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><span class="ml-1">Pause</span></button></div><a href="https://editor.p5js.org/natureofcode/sketches/KGSjouINj" target="_blank" rel="noreferrer" class="flex items-center px-2.5 text-[0.8rem] hover:underline">Open in Web Editor<svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="ml-1 text-gray-500" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg></a></div></div>
    <figcaption></figcaption>
  </figure>
</div>
<h2 id="angular-motion"><a class="heading-link" href="#angular-motion">Кутовий рух</a></h2>
<p>Іншим терміном для обертання є <strong>кутовий рух</strong>, тобто рух навколо кута. Подібно до того, як лінійний рух можна описати за допомогою швидкості — частоти, з якою змінюється положення об’єкта у часі — кутовий рух можна описати за допомогою <strong>кутової швидкості</strong>, як частоти, з якою змінюється кут об’єкта у часі. Загалом, <strong>кутове прискорення</strong> описує зміни кутової швидкості об’єкта.</p>
<p>На щастя, ви вже знаєте всі математичні аспекти, які потрібні для розуміння кутового руху. Пам’ятаєте матеріал, пояснення якому я майже повністю присвятив <a href="/vectors#section-vectors">Розділ 1</a> і <a href="/forces#section-forces">Розділ 2</a>?</p>
<div class="avoid-break">
  <div data-type="equation" class="math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mover accent="true"><mtext>швидкість</mtext><mo stretchy="true">→</mo></mover><mo>=</mo><mover accent="true"><mtext>(швидкість</mtext><mo stretchy="true">→</mo></mover><mo>+</mo><mover accent="true"><mtext>прискорення)</mtext><mo stretchy="true">→</mo></mover></mrow><annotation encoding="application/x-tex">\overrightarrow{\text{швидкість}} = \overrightarrow{\text{(швидкість}} + \overrightarrow{\text{прискорення)}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.3998em;vertical-align:-0.1944em"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.2053em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord text"><span class="mord cyrillic_fallback">швидкість</span></span></span><span class="svg-align" style="top:-3.6833em"><span class="pstrut" style="height:3em"></span><span class="hide-tail" style="height:0.522em;min-width:0.888em"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="0.522em" viewBox="0 0 400000 522" preserveAspectRatio="xMaxYMin slice"><path d="M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z"></path></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:1.522em;vertical-align:-0.25em"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.272em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord text"><span class="mord">(</span><span class="mord cyrillic_fallback">швидкість</span></span></span><span class="svg-align" style="top:-3.75em"><span class="pstrut" style="height:3em"></span><span class="hide-tail" style="height:0.522em;min-width:0.888em"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="0.522em" viewBox="0 0 400000 522" preserveAspectRatio="xMaxYMin slice"><path d="M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z"></path></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.25em"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:1.522em;vertical-align:-0.25em"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.272em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord text"><span class="mord cyrillic_fallback">прискорення</span><span class="mord">)</span></span></span><span class="svg-align" style="top:-3.75em"><span class="pstrut" style="height:3em"></span><span class="hide-tail" style="height:0.522em;min-width:0.888em"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="0.522em" viewBox="0 0 400000 522" preserveAspectRatio="xMaxYMin slice"><path d="M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z"></path></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.25em"><span></span></span></span></span></span></span></span></span></span></div>
  <div data-type="equation" class="math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mover accent="true"><mtext>позиція</mtext><mo stretchy="true">→</mo></mover><mo>=</mo><mover accent="true"><mtext>(позиція</mtext><mo stretchy="true">→</mo></mover><mo>+</mo><mover accent="true"><mtext>швидкість)</mtext><mo stretchy="true">→</mo></mover></mrow><annotation encoding="application/x-tex">\overrightarrow{\text{позиція}} = \overrightarrow{\text{(позиція}} + \overrightarrow{\text{швидкість)}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2053em"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.2053em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord text"><span class="mord cyrillic_fallback">позиція</span></span></span><span class="svg-align" style="top:-3.6833em"><span class="pstrut" style="height:3em"></span><span class="hide-tail" style="height:0.522em;min-width:0.888em"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="0.522em" viewBox="0 0 400000 522" preserveAspectRatio="xMaxYMin slice"><path d="M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z"></path></svg></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:1.522em;vertical-align:-0.25em"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.272em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord text"><span class="mord">(</span><span class="mord cyrillic_fallback">позиція</span></span></span><span class="svg-align" style="top:-3.75em"><span class="pstrut" style="height:3em"></span><span class="hide-tail" style="height:0.522em;min-width:0.888em"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="0.522em" viewBox="0 0 400000 522" preserveAspectRatio="xMaxYMin slice"><path d="M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z"></path></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.25em"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:1.522em;vertical-align:-0.25em"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.272em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord text"><span class="mord cyrillic_fallback">швидкість</span><span class="mord">)</span></span></span><span class="svg-align" style="top:-3.75em"><span class="pstrut" style="height:3em"></span><span class="hide-tail" style="height:0.522em;min-width:0.888em"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="0.522em" viewBox="0 0 400000 522" preserveAspectRatio="xMaxYMin slice"><path d="M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z"></path></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.25em"><span></span></span></span></span></span></span></span></span></span></div>
</div>
<p>Ви можете застосувати ту саму логіку до об’єкта, що обертається:</p>
<div data-type="equation" class="math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mtext>кутова швидкість</mtext><mo>=</mo><mtext>(кутова швидкість</mtext><mo>+</mo><mtext>кутове прискорення)</mtext></mrow><annotation encoding="application/x-tex">\text{кутова швидкість} = \text{(кутова швидкість} + \text{кутове~прискорення)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em"></span><span class="mord text"><span class="mord cyrillic_fallback">кутова</span><span class="mord"> </span><span class="mord cyrillic_fallback">швидкість</span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord text"><span class="mord">(</span><span class="mord cyrillic_fallback">кутова</span><span class="mord"> </span><span class="mord cyrillic_fallback">швидкість</span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord text"><span class="mord cyrillic_fallback">кутове</span><span class="mord nobreak"> </span><span class="mord cyrillic_fallback">прискорення</span><span class="mord">)</span></span></span></span></span></span></div>
<div data-type="equation" class="math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mtext>кут</mtext><mo>=</mo><mtext>(кут</mtext><mo>+</mo><mtext>кутова швидкість)</mtext></mrow><annotation encoding="application/x-tex">\text{кут} = \text{(кут} + \text{кутова швидкість)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em"></span><span class="mord text"><span class="mord cyrillic_fallback">кут</span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord text"><span class="mord">(</span><span class="mord cyrillic_fallback">кут</span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord text"><span class="mord cyrillic_fallback">кутова</span><span class="mord"> </span><span class="mord cyrillic_fallback">швидкість</span><span class="mord">)</span></span></span></span></span></span></div>
<p>Насправді ці формули кутового руху простіші, ніж їхні еквіваленти лінійного руху, оскільки кут тут є <em>скалярною</em> величиною (одним числом), а не вектором! Це тому, що у 2D просторі лише одна вісь обертання, а в 3D просторі кут став би вектором. (Зауважте, що в більшості випадків ці формули включатимуть множення на зміну часу, відому як <em>дельта часу</em>. Я припускаю, що дельта часу дорівнює 1, що відповідає одному кадру анімації в p5.js.)</p>
<p>Використовуючи відповідь із вправи 3.1, скажімо, що ви хочете повернути кийок у p5.js на певний кут. Спочатку код міг виглядати наступним чином:</p>
<div class="codesplit callout not-prose" data-code-language="javascript"><div class="pair"><pre><code class="hljs code language-javascript"><span class="hljs-title function_">translate</span>(width / <span class="hljs-number">2</span>, height / <span class="hljs-number">2</span>);
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript"><span class="hljs-title function_">rotate</span>(angle);
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript"><span class="hljs-title function_">line</span>(-<span class="hljs-number">60</span>, <span class="hljs-number">0</span>, <span class="hljs-number">60</span>, <span class="hljs-number">0</span>);
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript"><span class="hljs-title function_">circle</span>(<span class="hljs-number">60</span>, <span class="hljs-number">0</span>, <span class="hljs-number">16</span>);
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript"><span class="hljs-title function_">circle</span>(-<span class="hljs-number">60</span>, <span class="hljs-number">0</span>, <span class="hljs-number">16</span>, <span class="hljs-number">16</span>);
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">angle = angle + <span class="hljs-number">0.1</span>;
</code></pre><div class="comment"><p></p></div></div></div>
<p>Додавши принципи кутового руху, я можу замість цього написати наступний приклад (розв’язок вправи 3.1).</p>
<div data-type="example">
  <h3 id="example-31-angular-motion-using-rotate"><a class="heading-link" href="#example-31-angular-motion-using-rotate">Приклад 3.1: Кутовий рух за допомоги функції rotate()</a></h3>
  <figure>
    <div class="not-prose clear-both my-4 overflow-hidden rounded border bg-gray-100" style="max-width:1152px"><div class="relative overflow-hidden rounded-t bg-white"><!-- <div class="absolute left-[50%] top-[50%] -translate-x-[50%] -translate-y-[50%] ">Loading sketch ...</div> --><iframe class="w-full border-none transition-opacity opacity-1000" style="aspect-ratio:2.667" loading="lazy" src="./examples/03_oscillation/example_3_1_angular_motion_using_rotate"></iframe></div><div class="flex items-center justify-between border-t"><div class="flex"><button class="flex items-center border-r px-2.5 py-1.5 text-sm hover:bg-gray-200"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" aria-hidden="true" class="h-[15px] w-[15px]" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path></svg><span class="ml-1.5">Reset</span></button><button class="flex items-center border-r px-2.5 py-1.5 text-sm hover:bg-gray-200"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" aria-hidden="true" class="h-4 w-4" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" d="M10 9v6m4-6v6m7-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><span class="ml-1">Pause</span></button></div><a href="https://editor.p5js.org/natureofcode/sketches/EFCfyH88E" target="_blank" rel="noreferrer" class="flex items-center px-2.5 text-[0.8rem] hover:underline">Open in Web Editor<svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="ml-1 text-gray-500" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg></a></div></div>
    <figcaption></figcaption>
  </figure>
</div>
<div class="avoid-break">
  <div class="codesplit callout not-prose" data-code-language="javascript"><div class="pair split"><pre><code class="hljs code language-javascript"><span class="hljs-keyword">let</span> angle = <span class="hljs-number">0</span>;
</code></pre><div class="comment"><p>Кут.</p></div></div><div class="pair split"><pre><code class="hljs code language-javascript"><span class="hljs-keyword">let</span> angleVelocity = <span class="hljs-number">0</span>;
</code></pre><div class="comment"><p>Швидкість.</p></div></div><div class="pair split"><pre><code class="hljs code language-javascript"><span class="hljs-keyword">let</span> angleAcceleration = <span class="hljs-number">0.0001</span>;
</code></pre><div class="comment"><p>Прискорення.</p></div></div><div class="pair"><pre><code class="hljs code language-javascript">
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">setup</span>(<span class="hljs-params"></span>) {
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">  <span class="hljs-title function_">createCanvas</span>(<span class="hljs-number">640</span>, <span class="hljs-number">240</span>);
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">}
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">draw</span>(<span class="hljs-params"></span>) {
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">  <span class="hljs-title function_">background</span>(<span class="hljs-number">255</span>);
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">  <span class="hljs-title function_">translate</span>(width / <span class="hljs-number">2</span>, height / <span class="hljs-number">2</span>);
</code></pre><div class="comment"><p></p></div></div><div class="pair split"><pre><code class="hljs code language-javascript">  <span class="hljs-title function_">rotate</span>(angle);
</code></pre><div class="comment"><p>Поворот відповідно до кута.</p></div></div><div class="pair"><pre><code class="hljs code language-javascript">  <span class="hljs-title function_">stroke</span>(<span class="hljs-number">0</span>);
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">  <span class="hljs-title function_">fill</span>(<span class="hljs-number">127</span>);
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">  <span class="hljs-title function_">line</span>(-<span class="hljs-number">60</span>, <span class="hljs-number">0</span>, <span class="hljs-number">60</span>, <span class="hljs-number">0</span>);
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">  <span class="hljs-title function_">circle</span>(<span class="hljs-number">60</span>, <span class="hljs-number">0</span>, <span class="hljs-number">16</span>);
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">  <span class="hljs-title function_">circle</span>(-<span class="hljs-number">60</span>, <span class="hljs-number">0</span>, <span class="hljs-number">16</span>);Z
</code></pre><div class="comment"><p></p></div></div><div class="pair split"><pre><code class="hljs code language-javascript">  angleVelocity += angleAcceleration;
</code></pre><div class="comment"><p>Кутовий еквівалент для velocity.add(acceleration)</p></div></div><div class="pair split"><pre><code class="hljs code language-javascript">  angle += angleVelocity;
</code></pre><div class="comment"><p>Кутовий еквівалент для position.add(velocity)</p></div></div><div class="pair"><pre><code class="hljs code language-javascript">}
</code></pre><div class="comment"><p></p></div></div></div>
</div>
<p></p>
<p></p>
<p>Замість збільшення значення <code>angle</code> на фіксовану величину для рівномірного обертання, я кожного кадру додаю <code>angleAcceleration</code> до <code>angleVelocity</code>, а потім додаю <code>angleVelocity</code> до <code>angle</code>. У результаті нерухомий кийок починає обертатися та розкручуватися дедалі швидше і швидше в міру прискорення кутової швидкості.</p>
<div data-type="exercise" class="callout">
  <h3 id="exercise-32"><a class="heading-link" href="#exercise-32">Вправа 3.2</a></h3>
  <p>Додайте взаємодію з кийком, що обертається. Як би ви могли контролювати прискорення за допомогою положення курсора? Чи можете ви додати тертя, що зменшувало б з часом кутову швидкість і кийок зрештою зупинявся?</p>
</div>
<p>Наступним логічним кроком є включення ідеї кутового руху до класу <code>Mover</code>. Спершу мені потрібно додати кілька змінних до конструктора класу:</p>
<div class="snip-below">
  <div class="codesplit callout not-prose" data-code-language="javascript"><div class="pair"><pre><code class="hljs code language-javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Mover</span> {
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"></span>) {
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">    <span class="hljs-variable language_">this</span>.<span class="hljs-property">position</span> = <span class="hljs-title function_">createVector</span>();
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">    <span class="hljs-variable language_">this</span>.<span class="hljs-property">velocity</span> = <span class="hljs-title function_">createVector</span>();
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">    <span class="hljs-variable language_">this</span>.<span class="hljs-property">acceleration</span> = <span class="hljs-title function_">createVector</span>();
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">    <span class="hljs-variable language_">this</span>.<span class="hljs-property">mass</span> = <span class="hljs-number">1.0</span>;
</code></pre><div class="comment"><p></p></div></div><div class="pair split"><pre><code class="hljs code language-javascript">    <span class="hljs-variable language_">this</span>.<span class="hljs-property">angle</span> = <span class="hljs-number">0</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">angleVelocity</span> = <span class="hljs-number">0</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">angleAcceleration</span> = <span class="hljs-number">0</span>;
</code></pre><div class="comment"><p>Змінні для кутового руху.</p></div></div><div class="pair"><pre><code class="hljs code language-javascript">  }
</code></pre><div class="comment"><p></p></div></div></div>
</div>
<p>Потім у функції <code>update()</code>, позиція та кут об’єкта оновлюються відповідно до алгоритму, який я щойно продемонстрував:</p>
<div class="snip-below snip-above">
  <div class="codesplit callout not-prose" data-code-language="javascript"><div class="pair"><pre><code class="hljs code language-javascript">  <span class="hljs-title function_">update</span>(<span class="hljs-params"></span>) {
</code></pre><div class="comment"><p></p></div></div><div class="pair split"><pre><code class="hljs code language-javascript">    <span class="hljs-variable language_">this</span>.<span class="hljs-property">velocity</span>.<span class="hljs-title function_">add</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">acceleration</span>);
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">position</span>.<span class="hljs-title function_">add</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">velocity</span>);
</code></pre><div class="comment"><p>Звичайний старомодний рух.</p></div></div><div class="pair split"><pre><code class="hljs code language-javascript">    <span class="hljs-variable language_">this</span>.<span class="hljs-property">angleVelocity</span> += <span class="hljs-variable language_">this</span>.<span class="hljs-property">angleAcceleration</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">angle</span> += <span class="hljs-variable language_">this</span>.<span class="hljs-property">angleVelocity</span>;
</code></pre><div class="comment"><p>Новомодний кутовий рух.</p></div></div><div class="pair"><pre><code class="hljs code language-javascript">    <span class="hljs-variable language_">this</span>.<span class="hljs-property">acceleration</span>.<span class="hljs-title function_">mult</span>(<span class="hljs-number">0</span>);
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">  }
</code></pre><div class="comment"><p></p></div></div></div>
</div>
<p>Звісно, щоб усе це мало значення, мені також потрібно обертати об’єкт під час його малювання у методі <code>show()</code>. Щоб обертання було помітно, я додам лінію від центру до краю кульки. Ви також можете намалювати об’єкт з іншою фігурою, відмінною від круга:</p>
<div class="snip-below snip-above">
  <div class="codesplit callout not-prose" data-code-language="javascript"><div class="pair"><pre><code class="hljs code language-javascript">  <span class="hljs-title function_">show</span>(<span class="hljs-params"></span>) {
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">    <span class="hljs-title function_">stroke</span>(<span class="hljs-number">0</span>);
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">    <span class="hljs-title function_">fill</span>(<span class="hljs-number">175</span>, <span class="hljs-number">200</span>);
</code></pre><div class="comment"><p></p></div></div><div class="pair split"><pre><code class="hljs code language-javascript">    <span class="hljs-title function_">push</span>();
</code></pre><div class="comment"><p>Функція push() використовується для збереження поточного стану полотна, щоб після його відновлення, за допомогою функції pop(), обертання поточного об’єкта не впливало на решту об’єктів.</p></div></div><div class="pair split"><pre><code class="hljs code language-javascript">    <span class="hljs-title function_">translate</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">position</span>.<span class="hljs-property">x</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">position</span>.<span class="hljs-property">y</span>);
</code></pre><div class="comment"><p>Встановлення початку координат у позиції фігури.</p></div></div><div class="pair split"><pre><code class="hljs code language-javascript">    <span class="hljs-title function_">rotate</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">angle</span>);
</code></pre><div class="comment"><p>Застосування оберту на даний кут.</p></div></div><div class="pair"><pre><code class="hljs code language-javascript">    <span class="hljs-title function_">circle</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">radius</span> * <span class="hljs-number">2</span>);
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">    <span class="hljs-title function_">line</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">radius</span>, <span class="hljs-number">0</span>);
</code></pre><div class="comment"><p></p></div></div><div class="pair split"><pre><code class="hljs code language-javascript">    <span class="hljs-title function_">pop</span>();
</code></pre><div class="comment"><p>Виклик функції pop() відновлює попередньо збережений стан полотна. У цьому випадку це поверне початкові координати у їх основне положення.</p></div></div><div class="pair"><pre><code class="hljs code language-javascript">  }
</code></pre><div class="comment"><p></p></div></div></div>
</div>
<p>На цьому етапі, якщо ви дійсно створите об’єкт <code>Mover</code>, то не побачите, що він поводиться якось інакше. Це тому, що кутове прискорення ініціалізовано нулем (<code>this.angleAcceleration = 0;</code>). Щоб об&#x27;єкт обертався, йому потрібне ненульове прискорення! Звичайно, одним із варіантів є хардкод і пряме присвоєння бажаного числа у конструкторі:</p>
<div class="codesplit callout not-prose" data-code-language="javascript"><div class="pair"><pre><code class="hljs code language-javascript">    <span class="hljs-variable language_">this</span>.<span class="hljs-property">angleAcceleration</span> = <span class="hljs-number">0.01</span>;
</code></pre><div class="comment"><p></p></div></div></div>
<p>Однак ви можете отримати цікавіший результат, динамічно призначаючи кутове прискорення у методі <code>update()</code>, відповідно до сил у середовищі. Це могло бути натяком на початок дослідження фізики кутового прискорення на основі понять <a href="https://en.wikipedia.org/wiki/Torque" target="_blank" rel="noopener">обертального моменту</a> і <a href="https://en.wikipedia.org/wiki/Moment_of_inertia" target="_blank" rel="noopener">моменту інерції</a>, але на цьому етапі такий рівень моделювання буде трохи схожим на кролячу нору. Пізніше у цьому розділі я розповім більше про моделювання кутового прискорення на прикладі <a href="#the-pendulum" class="page-reference">“Маятника”</a>, а також розгляну, як сторонні фізичні бібліотеки реалістично моделюють обертальний рух у <a href="/physics-libraries#section-physics-libraries">Розділі 6</a>.</p>
<p>Натомість для отримання творчих результатів, достатньо буде швидкого і спрощеного рішення. Розумним підходом є обчислення кутового прискорення як функції лінійного прискорення об’єкта, його частоти зміни швидкості вздовж вектора шляху, на відміну від його обертання. Ось приклад:</p>
<div class="codesplit callout not-prose" data-code-language="javascript"><div class="pair split"><pre><code class="hljs code language-javascript">    <span class="hljs-variable language_">this</span>.<span class="hljs-property">angleAcceleration</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">acceleration</span>.<span class="hljs-property">x</span>;
</code></pre><div class="comment"><p>Використання x-компоненти лінійного прискорення об’єкта для обчислення кутового прискорення.</p></div></div></div>
<p>Так, це довільно, але це <em>щось</em> робить. Якщо об’єкт прискорюється вправо, його кутове обертання прискорюється за годинниковим напрямком. Прискорення вліво призводить до обертання проти годинникової стрілки. Звісно, в цьому випадку важливо подумати про масштаб. Значення <code>x</code>-компоненти вектора прискорення може бути завеликим, що призведе до обертання об’єкта безглуздим або нереалістичним чином. Ви навіть можете помітити візуальну ілюзію під назвою <em>ефект колеса вагона</em>, коли через великі зміни між кожним кадром анімації здається, що об’єкт обертається повільніше або навіть у протилежному напрямку.</p>
<p>Ділення <code>x</code>-компоненти на певне значення, або обмеження кутової швидкості до розумного діапазону, може допомогти. Нижче можна буде ознайомитись з усім методом <code>update()</code> із щойно згаданими змінами.</p>
<div data-type="example">
  <h3 id="example-32-forces-with-arbitrary-angular-motion"><a class="heading-link" href="#example-32-forces-with-arbitrary-angular-motion">Приклад 3.2: Сили з (довільним) кутовим рухом</a></h3>
  <figure>
    <div class="not-prose clear-both my-4 overflow-hidden rounded border bg-gray-100" style="max-width:1152px"><div class="relative overflow-hidden rounded-t bg-white"><!-- <div class="absolute left-[50%] top-[50%] -translate-x-[50%] -translate-y-[50%] ">Loading sketch ...</div> --><iframe class="w-full border-none transition-opacity opacity-1000" style="aspect-ratio:2.667" loading="lazy" src="./examples/03_oscillation/example_3_2_forces_with_arbitrary_angular_motion"></iframe></div><div class="flex items-center justify-between border-t"><div class="flex"><button class="flex items-center border-r px-2.5 py-1.5 text-sm hover:bg-gray-200"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" aria-hidden="true" class="h-[15px] w-[15px]" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path></svg><span class="ml-1.5">Reset</span></button><button class="flex items-center border-r px-2.5 py-1.5 text-sm hover:bg-gray-200"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" aria-hidden="true" class="h-4 w-4" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" d="M10 9v6m4-6v6m7-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><span class="ml-1">Pause</span></button></div><a href="https://editor.p5js.org/natureofcode/sketches/xj2C2Ldbo" target="_blank" rel="noreferrer" class="flex items-center px-2.5 text-[0.8rem] hover:underline">Open in Web Editor<svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="ml-1 text-gray-500" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg></a></div></div>
    <figcaption></figcaption>
  </figure>
</div>
<div class="codesplit callout not-prose" data-code-language="javascript"><div class="pair"><pre><code class="hljs code language-javascript">  <span class="hljs-title function_">update</span>(<span class="hljs-params"></span>) {
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">    <span class="hljs-variable language_">this</span>.<span class="hljs-property">velocity</span>.<span class="hljs-title function_">add</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">acceleration</span>);
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">    <span class="hljs-variable language_">this</span>.<span class="hljs-property">position</span>.<span class="hljs-title function_">add</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">velocity</span>);
</code></pre><div class="comment"><p></p></div></div><div class="pair split"><pre><code class="hljs code language-javascript">    <span class="hljs-variable language_">this</span>.<span class="hljs-property">angleAcceleration</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">acceleration</span>.<span class="hljs-property">x</span> / <span class="hljs-number">10.0</span>;
</code></pre><div class="comment"><p>Розрахунок кутового прискорення відповідно до x-компоненти прискорення.</p></div></div><div class="pair"><pre><code class="hljs code language-javascript">    <span class="hljs-variable language_">this</span>.<span class="hljs-property">angleVelocity</span> += <span class="hljs-variable language_">this</span>.<span class="hljs-property">angleAcceleration</span>;
</code></pre><div class="comment"><p></p></div></div><div class="pair split"><pre><code class="hljs code language-javascript">    <span class="hljs-variable language_">this</span>.<span class="hljs-property">angleVelocity</span> = <span class="hljs-title function_">constrain</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">angleVelocity</span>, -<span class="hljs-number">0.1</span>, <span class="hljs-number">0.1</span>);
</code></pre><div class="comment"><p>Використання функції constrain() для забезпечення того, щоб кутова швидкість не виходила з-під контролю.</p></div></div><div class="pair"><pre><code class="hljs code language-javascript">    <span class="hljs-variable language_">this</span>.<span class="hljs-property">angle</span> += <span class="hljs-variable language_">this</span>.<span class="hljs-property">angleVelocity</span>;
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">    <span class="hljs-variable language_">this</span>.<span class="hljs-property">acceleration</span>.<span class="hljs-title function_">mult</span>(<span class="hljs-number">0</span>);
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">  }
</code></pre><div class="comment"><p></p></div></div></div>
<p>Зверн іть увагу, що я використовував кілька стратегій, щоб утримати обертання об’єкта під контролем. Спочатку я поділив <code>acceleration.x</code> на <code>10</code> перед тим як призначити його до <code>angleAcceleration</code>. Потім, я також використав функцію <code>constrain()</code> для обмеження <code>angleVelocity</code> у діапазоні від <code>-0.1</code> до <code>0.1</code>.</p>
<div data-type="exercise" class="callout">
  <h3 id="exercise-33"><a class="heading-link" href="#exercise-33">Вправа 3.3</a></h3>
  <p>Крок 1: Створіть симуляцію, де об&#x27;єкти вистрілюються з гармати. Кожен об&#x27;єкт має відчути раптову силу під час пострілу (лише один раз), а також гравітацію (присутня завжди).</p>
  <p></p>
  <p>Крок 2: Додайте об’єкту оберти, щоб змоделювати його обертання після пострілу під час польоту. Наскільки реалістично ви зможете це зробити?</p>
</div>
<h2 id="trigonometry-functions"><a class="heading-link" href="#trigonometry-functions">Тригонометричні функції</a></h2>
<p>Гадаю, я готовий розкрити секрет тригонометрії. Я говорив про кути й крутив кийки. Тепер настав час для … зачекайте-зачекайте … <em>sohcahtoa</em>. Так, для <em>sohcahtoa</em>! Це, здавалося б, безглузде слово насправді є основою для багатьох робіт з комп’ютерної графіки. Базове розуміння тригонометрії є досить важливим, якщо ви хочете обчислювати кути, визначати відстані між точками та працювати з кругами, дугами чи лініями. А <em>sohcahtoa</em> — це мнемонічна витівка (хоча й дещо абсурдна) для запам’ятовування того, що означають тригонометричні функції синус, косинус і тангенс. Вона посилається на різні сторони прямокутного трикутника, як показано на малюнку 3.4.</p>
<figure>
  <div data-gatsby-image-wrapper="" class="gatsby-image-wrapper gatsby-image-wrapper-constrained"><div style="max-width:2304px;display:block"><img alt="" role="presentation" aria-hidden="true" src="data:image/svg+xml;charset=utf-8,%3Csvg height=&#x27;642&#x27; width=&#x27;2304&#x27; xmlns=&#x27;http://www.w3.org/2000/svg&#x27; version=&#x27;1.1&#x27;%3E%3C/svg%3E" style="max-width:100%;display:block;position:static"/></div><div aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear;background-color:#f8f8f8;position:absolute;top:0;left:0;bottom:0;right:0"></div><picture><source type="image/webp" data-srcset="./static/a3b4cb65011f91fcb0d29a54f73f0978/c8e4f/03_oscillation_5.webp 576w,./static/a3b4cb65011f91fcb0d29a54f73f0978/d3599/03_oscillation_5.webp 1152w,./static/a3b4cb65011f91fcb0d29a54f73f0978/0e854/03_oscillation_5.webp 2304w" sizes="(min-width: 2304px) 2304px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 2304px) 2304px, 100vw" decoding="async" loading="lazy" data-src="./static/a3b4cb65011f91fcb0d29a54f73f0978/7aba3/03_oscillation_5.png" data-srcset="./static/a3b4cb65011f91fcb0d29a54f73f0978/44c6f/03_oscillation_5.png 576w,./static/a3b4cb65011f91fcb0d29a54f73f0978/2c8a1/03_oscillation_5.png 1152w,./static/a3b4cb65011f91fcb0d29a54f73f0978/7aba3/03_oscillation_5.png 2304w" alt="Малюнок 3.4: Прямокутний трикутник зі сторонами відносно кута: прилеглої, протилежної і гіпотенузи"/></picture><noscript><picture><source type="image/webp" srcSet="./static/a3b4cb65011f91fcb0d29a54f73f0978/c8e4f/03_oscillation_5.webp 576w,./static/a3b4cb65011f91fcb0d29a54f73f0978/d3599/03_oscillation_5.webp 1152w,./static/a3b4cb65011f91fcb0d29a54f73f0978/0e854/03_oscillation_5.webp 2304w" sizes="(min-width: 2304px) 2304px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 2304px) 2304px, 100vw" decoding="async" loading="lazy" src="./static/a3b4cb65011f91fcb0d29a54f73f0978/7aba3/03_oscillation_5.png" srcSet="./static/a3b4cb65011f91fcb0d29a54f73f0978/44c6f/03_oscillation_5.png 576w,./static/a3b4cb65011f91fcb0d29a54f73f0978/2c8a1/03_oscillation_5.png 1152w,./static/a3b4cb65011f91fcb0d29a54f73f0978/7aba3/03_oscillation_5.png 2304w" alt="Малюнок 3.4: Прямокутний трикутник зі сторонами відносно кута: прилеглої, протилежної і гіпотенузи"/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1,e.parentNode.parentNode.querySelector("[data-placeholder-image]").style.opacity=0)}}</script></div>
  <figcaption>Малюнок 3.4: Прямокутний трикутник зі сторонами відносно кута: прилеглої, протилежної і гіпотенузи</figcaption>
</figure>
<p>Візьміть один із непрямих кутів прямокутного трикутника. <em>Прилегла (adjacent)</em> сторона — та, яка дотикається до цього кута, <em>протилежна (opposite)</em> — та, яка не дотикається цього кута, і <em>гіпотенуза (hypotenuse)</em> — сторона, протилежна прямому куту. <em>Sohcahtoa</em> розказує, як обчислити тригонометричні функції кута на основі довжин цих сторін. Це мнемонічне скорочення побудоване з перших літер англійських слів як показано нижче:</p>
<ul>
  <li><strong>soh</strong><em>: </em><span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mtext mathvariant="bold">s</mtext><mtext>ine(angle)</mtext></mrow><mo>=</mo><mrow><mtext mathvariant="bold">o</mtext><mtext>pposite</mtext></mrow><mi mathvariant="normal">/</mi><mrow><mtext mathvariant="bold">h</mtext><mtext>ypotenuse</mtext></mrow></mrow><annotation encoding="application/x-tex">\text{\textbf{s}ine(angle)} = \text{\textbf{o}pposite}/\text{\textbf{h}ypotenuse}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord text"><span class="mord text"><span class="mord textbf">s</span></span><span class="mord">ine(angle)</span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord text"><span class="mord text"><span class="mord textbf">o</span></span><span class="mord">pposite</span></span><span class="mord">/</span><span class="mord text"><span class="mord text"><span class="mord textbf">h</span></span><span class="mord">ypotenuse</span></span></span></span></span></span></li>
  <li><strong>cah</strong>: <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mtext mathvariant="bold">c</mtext><mtext>osine(angle)</mtext></mrow><mo>=</mo><mrow><mtext mathvariant="bold">a</mtext><mtext>djacent</mtext></mrow><mi mathvariant="normal">/</mi><mrow><mtext mathvariant="bold">h</mtext><mtext>ypotenuse</mtext></mrow></mrow><annotation encoding="application/x-tex">\text{\textbf{c}osine(angle)} = \text{\textbf{a}djacent} / \text{\textbf{h}ypotenuse}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord text"><span class="mord text"><span class="mord textbf">c</span></span><span class="mord">osine(angle)</span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord text"><span class="mord text"><span class="mord textbf">a</span></span><span class="mord">djacent</span></span><span class="mord">/</span><span class="mord text"><span class="mord text"><span class="mord textbf">h</span></span><span class="mord">ypotenuse</span></span></span></span></span></span></li>
  <li><strong>toa</strong>: <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mtext mathvariant="bold">t</mtext><mtext>angent(angle)</mtext></mrow><mo>=</mo><mrow><mtext mathvariant="bold">o</mtext><mtext>pposite</mtext></mrow><mi mathvariant="normal">/</mi><mrow><mtext mathvariant="bold">a</mtext><mtext>djacent</mtext></mrow></mrow><annotation encoding="application/x-tex">\text{\textbf{t}angent(angle)} = \text{\textbf{o}pposite} / \text{\textbf{a}djacent}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord text"><span class="mord text"><span class="mord textbf">t</span></span><span class="mord">angent(angle)</span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord text"><span class="mord text"><span class="mord textbf">o</span></span><span class="mord">pposite</span></span><span class="mord">/</span><span class="mord text"><span class="mord text"><span class="mord textbf">a</span></span><span class="mord">djacent</span></span></span></span></span></span></li>
</ul>
<p>Ще раз погляньте на малюнок 3.4. Вам не потрібно це запам’ятовувати, але погляньте чи вам це зрозуміло. Спробуйте намалювати його самостійно. Далі розглянемо це трохи по-іншому (див. малюнок 3.5).</p>
<div class="half-width-right">
  <figure>
    <div data-gatsby-image-wrapper="" class="gatsby-image-wrapper gatsby-image-wrapper-constrained"><div style="max-width:1152px;display:block"><img alt="" role="presentation" aria-hidden="true" src="data:image/svg+xml;charset=utf-8,%3Csvg height=&#x27;580&#x27; width=&#x27;1152&#x27; xmlns=&#x27;http://www.w3.org/2000/svg&#x27; version=&#x27;1.1&#x27;%3E%3C/svg%3E" style="max-width:100%;display:block;position:static"/></div><div aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear;background-color:#f8f8f8;position:absolute;top:0;left:0;bottom:0;right:0"></div><picture><source type="image/webp" data-srcset="./static/842df6054eb01bf438635fc5d7bba7f0/89b21/03_oscillation_6.webp 288w,./static/842df6054eb01bf438635fc5d7bba7f0/0c9f4/03_oscillation_6.webp 576w,./static/842df6054eb01bf438635fc5d7bba7f0/cf7fc/03_oscillation_6.webp 1152w" sizes="(min-width: 1152px) 1152px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 1152px) 1152px, 100vw" decoding="async" loading="lazy" data-src="./static/842df6054eb01bf438635fc5d7bba7f0/df969/03_oscillation_6.png" data-srcset="./static/842df6054eb01bf438635fc5d7bba7f0/b35ae/03_oscillation_6.png 288w,./static/842df6054eb01bf438635fc5d7bba7f0/5e5c3/03_oscillation_6.png 576w,./static/842df6054eb01bf438635fc5d7bba7f0/df969/03_oscillation_6.png 1152w" alt="Малюнок 3.5: Вектор \vec{v} із xy-компонентами й кут"/></picture><noscript><picture><source type="image/webp" srcSet="./static/842df6054eb01bf438635fc5d7bba7f0/89b21/03_oscillation_6.webp 288w,./static/842df6054eb01bf438635fc5d7bba7f0/0c9f4/03_oscillation_6.webp 576w,./static/842df6054eb01bf438635fc5d7bba7f0/cf7fc/03_oscillation_6.webp 1152w" sizes="(min-width: 1152px) 1152px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 1152px) 1152px, 100vw" decoding="async" loading="lazy" src="./static/842df6054eb01bf438635fc5d7bba7f0/df969/03_oscillation_6.png" srcSet="./static/842df6054eb01bf438635fc5d7bba7f0/b35ae/03_oscillation_6.png 288w,./static/842df6054eb01bf438635fc5d7bba7f0/5e5c3/03_oscillation_6.png 576w,./static/842df6054eb01bf438635fc5d7bba7f0/df969/03_oscillation_6.png 1152w" alt="Малюнок 3.5: Вектор \vec{v} із xy-компонентами й кут"/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1,e.parentNode.parentNode.querySelector("[data-placeholder-image]").style.opacity=0)}}</script></div>
    <figcaption>Малюнок 3.5: Вектор <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mi>v</mi><mo>⃗</mo></mover></mrow><annotation encoding="application/x-tex">\vec{v}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.714em"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord mathnormal" style="margin-right:0.03588em">v</span></span><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="accent-body" style="left:-0.2077em"><span class="overlay" style="height:0.714em;width:0.471em"><svg xmlns="http://www.w3.org/2000/svg" width="0.471em" height="0.714em" style="width:0.471em" viewBox="0 0 471 714" preserveAspectRatio="xMinYMin"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"></path></svg></span></span></span></span></span></span></span></span></span></span></span> із <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mi>y</mi></mrow><annotation encoding="application/x-tex">xy</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em"></span><span class="mord mathnormal">x</span><span class="mord mathnormal" style="margin-right:0.03588em">y</span></span></span></span></span>-компонентами й кут.</figcaption>
  </figure>
</div>
<p>Бачите, як із вектора <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mi>v</mi><mo>⃗</mo></mover></mrow><annotation encoding="application/x-tex">\vec{v}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.714em"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord mathnormal" style="margin-right:0.03588em">v</span></span><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="accent-body" style="left:-0.2077em"><span class="overlay" style="height:0.714em;width:0.471em"><svg xmlns="http://www.w3.org/2000/svg" width="0.471em" height="0.714em" style="width:0.471em" viewBox="0 0 471 714" preserveAspectRatio="xMinYMin"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"></path></svg></span></span></span></span></span></span></span></span></span></span></span> створюється прямокутний трикутник? Сама стрілка вектора є гіпотенузою, а компоненти вектора (<span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord mathnormal">x</span></span></span></span></span> і <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>y</mi></mrow><annotation encoding="application/x-tex">y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em"></span><span class="mord mathnormal" style="margin-right:0.03588em">y</span></span></span></span></span>) — сторонами трикутника. Кут є додатковим способом визначення напрямку (або <em>курсу</em>). Тригонометричні функції, розглянуті у такому вигляді, проявляють зв’язок між компонентами вектора і його напрямком з магнітудою. Таким чином, тригонометрія буде дуже корисною в цій книзі. Щоб проілюструвати це, розглянемо приклад, для якого потрібна функція тангенса.</p>
<h2 id="pointing-in-the-direction-of-movement"><a class="heading-link" href="#pointing-in-the-direction-of-movement">Спрямованість у напрямку руху</a></h2>
<p>Згадайте весь шлях до прикладу 1.10, у якому показ ано, як об’єкт <code>Mover</code> прискорюється в напрямку курсора (малюнок 3.6).</p>
<figure data-type="example">
  <div class="not-prose clear-both my-4 overflow-hidden rounded border bg-gray-100" style="max-width:1152px"><div class="relative overflow-hidden rounded-t bg-white"><!-- <div class="absolute left-[50%] top-[50%] -translate-x-[50%] -translate-y-[50%] ">Loading sketch ...</div> --><iframe class="w-full border-none transition-opacity opacity-1000" style="aspect-ratio:2.667" loading="lazy" src="./examples/03_oscillation/example_1_10_accelerating_towards_the_mouse"></iframe></div><div class="flex items-center justify-between border-t"><div class="flex"><button class="flex items-center border-r px-2.5 py-1.5 text-sm hover:bg-gray-200"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" aria-hidden="true" class="h-[15px] w-[15px]" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path></svg><span class="ml-1.5">Reset</span></button><button class="flex items-center border-r px-2.5 py-1.5 text-sm hover:bg-gray-200"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" aria-hidden="true" class="h-4 w-4" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" d="M10 9v6m4-6v6m7-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><span class="ml-1">Pause</span></button></div><a href="https://editor.p5js.org/natureofcode/sketches/gYJHm1EFL" target="_blank" rel="noreferrer" class="flex items-center px-2.5 text-[0.8rem] hover:underline">Open in Web Editor<svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="ml-1 text-gray-500" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg></a></div></div>
  <figcaption>Малюнок 3.6: Об’єкт, що прискорюється у напрямку курсора (з прикладу 1.10)</figcaption>
</figure>
<p>Ви можете помітити, що майже всі фігури, які я малював, були круглими. Це зручно з кількох причин, одна з яких полягає в тому, що це дозволило мені уникнути питання з обертанням. Оберніть круг і він виглядатиме точно так само. Однак, у житті всіх моушн-програмістів настає час, коли вони хочуть переміщати на екрані щось, що має іншу форму аніж круг. Можливо, це мураха, або машина, або космічний корабель. Щоб виглядати реалістично, положення цього об’єкту має бути спрямованим у напрямку свого руху.</p>
<p>Коли я говорю “спрямування у напрямку руху”, то насправді маю на увазі “поворот відповідно до вектора швидкості”. Швидкість — це вектор з <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord mathnormal">x</span></span></span></span></span> і <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>y</mi></mrow><annotation encoding="application/x-tex">y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em"></span><span class="mord mathnormal" style="margin-right:0.03588em">y</span></span></span></span></span> компонентами, але для обертання у p5.js потрібне одне число — кут. Давайте ще раз подивимося на тригонометричну діаграму, цього разу зосередившись на векторі швидкості об’єкта (малюнок 3.7).</p>
<figure>
  <div data-gatsby-image-wrapper="" class="gatsby-image-wrapper gatsby-image-wrapper-constrained"><div style="max-width:2304px;display:block"><img alt="" role="presentation" aria-hidden="true" src="data:image/svg+xml;charset=utf-8,%3Csvg height=&#x27;746&#x27; width=&#x27;2304&#x27; xmlns=&#x27;http://www.w3.org/2000/svg&#x27; version=&#x27;1.1&#x27;%3E%3C/svg%3E" style="max-width:100%;display:block;position:static"/></div><div aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear;background-color:#f8f8f8;position:absolute;top:0;left:0;bottom:0;right:0"></div><picture><source type="image/webp" data-srcset="./static/704e6fd7eedc279cca0b0b5b4fa4eb40/b3c93/03_oscillation_7.webp 576w,./static/704e6fd7eedc279cca0b0b5b4fa4eb40/bd0fb/03_oscillation_7.webp 1152w,./static/704e6fd7eedc279cca0b0b5b4fa4eb40/ab120/03_oscillation_7.webp 2304w" sizes="(min-width: 2304px) 2304px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 2304px) 2304px, 100vw" decoding="async" loading="lazy" data-src="./static/704e6fd7eedc279cca0b0b5b4fa4eb40/35299/03_oscillation_7.png" data-srcset="./static/704e6fd7eedc279cca0b0b5b4fa4eb40/c61e9/03_oscillation_7.png 576w,./static/704e6fd7eedc279cca0b0b5b4fa4eb40/007aa/03_oscillation_7.png 1152w,./static/704e6fd7eedc279cca0b0b5b4fa4eb40/35299/03_oscillation_7.png 2304w" alt="Малюнок 3.7: Тангенс кута вектора швидкості дорівнює y ділене на x"/></picture><noscript><picture><source type="image/webp" srcSet="./static/704e6fd7eedc279cca0b0b5b4fa4eb40/b3c93/03_oscillation_7.webp 576w,./static/704e6fd7eedc279cca0b0b5b4fa4eb40/bd0fb/03_oscillation_7.webp 1152w,./static/704e6fd7eedc279cca0b0b5b4fa4eb40/ab120/03_oscillation_7.webp 2304w" sizes="(min-width: 2304px) 2304px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 2304px) 2304px, 100vw" decoding="async" loading="lazy" src="./static/704e6fd7eedc279cca0b0b5b4fa4eb40/35299/03_oscillation_7.png" srcSet="./static/704e6fd7eedc279cca0b0b5b4fa4eb40/c61e9/03_oscillation_7.png 576w,./static/704e6fd7eedc279cca0b0b5b4fa4eb40/007aa/03_oscillation_7.png 1152w,./static/704e6fd7eedc279cca0b0b5b4fa4eb40/35299/03_oscillation_7.png 2304w" alt="Малюнок 3.7: Тангенс кута вектора швидкості дорівнює y ділене на x"/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1,e.parentNode.parentNode.querySelector("[data-placeholder-image]").style.opacity=0)}}</script></div>
  <figcaption>Малюнок 3.7: Тангенс кута вектора швидкості дорівнює <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>y</mi></mrow><annotation encoding="application/x-tex">y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em"></span><span class="mord mathnormal" style="margin-right:0.03588em">y</span></span></span></span></span> ділене на <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord mathnormal">x</span></span></span></span></span></figcaption>
</figure>
<p>Векторні компоненти <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord mathnormal">x</span></span></span></span></span> і <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>y</mi></mrow><annotation encoding="application/x-tex">y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em"></span><span class="mord mathnormal" style="margin-right:0.03588em">y</span></span></span></span></span> пов’язані з його кутом через функцію тангенса. Використовуючи <em>toa</em> з <em>sohcahtoa</em>, я можу записати це відношення наступним чином:</p>
<div data-type="equation" class="math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mtext>тангенс кута</mtext><mo>=</mo><mfrac><msub><mtext>швидкість</mtext><mi>y</mi></msub><msub><mtext>швидкість</mtext><mi>x</mi></msub></mfrac></mrow><annotation encoding="application/x-tex">\text{тангенс кута} = \frac{\text{швидкість}_y}{\text{швидкість}_x}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em"></span><span class="mord text"><span class="mord cyrillic_fallback">тангенс</span><span class="mord"> </span><span class="mord cyrillic_fallback">кута</span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:2.3837em;vertical-align:-0.9301em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.4536em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord cyrillic_fallback">швидкість</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.0573em"><span style="top:-2.4559em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2441em"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:0.04em"></span></span><span style="top:-3.7702em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord cyrillic_fallback">швидкість</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.0573em"><span style="top:-2.4559em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em">y</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3802em"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9301em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></div>
<p>Проблема в тому, що хоча я знаю <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord mathnormal">x</span></span></span></span></span> і <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>y</mi></mrow><annotation encoding="application/x-tex">y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em"></span><span class="mord mathnormal" style="margin-right:0.03588em">y</span></span></span></span></span> компоненти вектора швидкості, мені насправді не відомий кут його напрямку. Мені потрібно визначити цей кут. Ось тут з’являється інша функція, відома як <em>обернений тангенс</em> або <em>арктангенс</em> (скорочений запис <em>arctan</em> або <em>atan</em>). Існують також функції <em>оберненого синуса</em> та <em>оберненого косинуса</em>, які називаються відповідно <em>арксинусом (arcsin)</em> та <em>арккосинусом (arccos)</em>.</p>
<p>Якщо тангенс деякого значення <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi></mrow><annotation encoding="application/x-tex">a</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord mathnormal">a</span></span></span></span></span> дорівнює деякому значенню <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>b</mi></mrow><annotation encoding="application/x-tex">b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em"></span><span class="mord mathnormal">b</span></span></span></span></span>, тоді обернений тангенс <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>b</mi></mrow><annotation encoding="application/x-tex">b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em"></span><span class="mord mathnormal">b</span></span></span></span></span> дорівнює <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi></mrow><annotation encoding="application/x-tex">a</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord mathnormal">a</span></span></span></span></span>. Наприклад:</p>
<table><tbody><tr><td>Якщо</td><td><span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>tan</mi><mo>⁡</mo><mo stretchy="false">(</mo><mi>a</mi><mo stretchy="false">)</mo><mo>=</mo><mi>b</mi></mrow><annotation encoding="application/x-tex">\tan(a) = b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mop">tan</span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.6944em"></span><span class="mord mathnormal">b</span></span></span></span></span></td></tr><tr><td>Тоді</td><td><span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mo>=</mo><mi>arctan</mi><mo>⁡</mo><mo stretchy="false">(</mo><mi>b</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">a = \arctan(b)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mop">arctan</span><span class="mopen">(</span><span class="mord mathnormal">b</span><span class="mclose">)</span></span></span></span></span></td></tr></tbody></table>
<p>Бачите, як одне є оберненим до іншого? Це дозволяє мені дізнатися кут вектора:</p>
<table><tbody><tr><td>Якщо</td><td><span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>tan</mi><mo>⁡</mo><mo stretchy="false">(</mo><mtext>angle</mtext><mo stretchy="false">)</mo><mo>=</mo><mfrac><msub><mtext>velocity</mtext><mi>y</mi></msub><msub><mtext>velocity</mtext><mi>x</mi></msub></mfrac></mrow><annotation encoding="application/x-tex">\tan(\text{angle}) = \frac{\text{velocity}_y}{\text{velocity}_x}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mop">tan</span><span class="mopen">(</span><span class="mord text"><span class="mord">angle</span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:1.6105em;vertical-align:-0.5311em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0794em"><span style="top:-2.655em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">velocity</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.0417em"><span style="top:-2.2341em;margin-right:0.0714em"><span class="pstrut" style="height:2.5em"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2659em"><span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:0.04em"></span></span><span style="top:-3.5933em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">velocity</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.0417em"><span style="top:-2.2341em;margin-right:0.0714em"><span class="pstrut" style="height:2.5em"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em">y</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4048em"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.5311em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></td></tr><tr><td>Тоді</td><td><span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>angle</mtext><mo>=</mo><mi>arctan</mi><mo>⁡</mo><mo stretchy="false">(</mo><mfrac><msub><mtext>velocity</mtext><mi>y</mi></msub><msub><mtext>velocity</mtext><mi>x</mi></msub></mfrac><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\text{angle} = \arctan(\frac{\text{velocity}_y}{\text{velocity}_x})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em"></span><span class="mord text"><span class="mord">angle</span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:1.6105em;vertical-align:-0.5311em"></span><span class="mop">arctan</span><span class="mopen">(</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0794em"><span style="top:-2.655em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">velocity</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.0417em"><span style="top:-2.2341em;margin-right:0.0714em"><span class="pstrut" style="height:2.5em"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2659em"><span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:0.04em"></span></span><span style="top:-3.5933em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">velocity</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.0417em"><span style="top:-2.2341em;margin-right:0.0714em"><span class="pstrut" style="height:2.5em"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em">y</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4048em"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.5311em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose">)</span></span></span></span></span></td></tr></tbody></table>
<p>Тепер, коли у мене є формула, подивимось де вона має бути у методі <code>show()</code> класу <code>Mover</code>, щоб повернути об’єкт (тепер намальований у вигляді прямокутника) у напрямку свого руху. Зверніть увагу, що у p5.js функція оберненого тангенса — це <code>atan()</code>:</p>
<div class="codesplit callout not-prose" data-code-language="javascript"><div class="pair"><pre><code class="hljs code language-javascript">  <span class="hljs-title function_">show</span>(<span class="hljs-params"></span>) {
</code></pre><div class="comment"><p></p></div></div><div class="pair split"><pre><code class="hljs code language-javascript">    <span class="hljs-keyword">let</span> angle = <span class="hljs-title function_">atan</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">velocity</span>.<span class="hljs-property">y</span> / <span class="hljs-variable language_">this</span>.<span class="hljs-property">velocity</span>.<span class="hljs-property">x</span>);
</code></pre><div class="comment"><p>Визначення кута за допомогою функції atan().</p></div></div><div class="pair"><pre><code class="hljs code language-javascript">    <span class="hljs-title function_">stroke</span>(<span class="hljs-number">0</span>);
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">    <span class="hljs-title function_">fill</span>(<span class="hljs-number">175</span>);
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">    <span class="hljs-title function_">push</span>();
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">    <span class="hljs-title function_">rectMode</span>(<span class="hljs-variable constant_">CENTER</span>);
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">    <span class="hljs-title function_">translate</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">position</span>.<span class="hljs-property">x</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">position</span>.<span class="hljs-property">y</span>);
</code></pre><div class="comment"><p></p></div></div><div class="pair split"><pre><code class="hljs code language-javascript">    <span class="hljs-title function_">rotate</span>(angle);
</code></pre><div class="comment"><p>Поворот на потрібний кут.</p></div></div><div class="pair"><pre><code class="hljs code language-javascript">    <span class="hljs-title function_">rect</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">30</span>, <span class="hljs-number">10</span>);
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">    <span class="hljs-title function_">pop</span>();
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">  }
</code></pre><div class="comment"><p></p></div></div></div>
<div class="half-width-right">
  <figure>
    <div data-gatsby-image-wrapper="" class="gatsby-image-wrapper gatsby-image-wrapper-constrained"><div style="max-width:1152px;display:block"><img alt="" role="presentation" aria-hidden="true" src="data:image/svg+xml;charset=utf-8,%3Csvg height=&#x27;579&#x27; width=&#x27;1152&#x27; xmlns=&#x27;http://www.w3.org/2000/svg&#x27; version=&#x27;1.1&#x27;%3E%3C/svg%3E" style="max-width:100%;display:block;position:static"/></div><div aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear;background-color:#f8f8f8;position:absolute;top:0;left:0;bottom:0;right:0"></div><picture><source type="image/webp" data-srcset="./static/5d5d3c8240574a523ded92926814ab5c/89b21/03_oscillation_8.webp 288w,./static/5d5d3c8240574a523ded92926814ab5c/0c9f4/03_oscillation_8.webp 576w,./static/5d5d3c8240574a523ded92926814ab5c/2f759/03_oscillation_8.webp 1152w" sizes="(min-width: 1152px) 1152px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 1152px) 1152px, 100vw" decoding="async" loading="lazy" data-src="./static/5d5d3c8240574a523ded92926814ab5c/cdd44/03_oscillation_8.png" data-srcset="./static/5d5d3c8240574a523ded92926814ab5c/b35ae/03_oscillation_8.png 288w,./static/5d5d3c8240574a523ded92926814ab5c/5e5c3/03_oscillation_8.png 576w,./static/5d5d3c8240574a523ded92926814ab5c/cdd44/03_oscillation_8.png 1152w" alt="Малюнок 3.8: Вектори \vec{v}_1 і \vec{v}_2 з компонентами (4, -3) та (-4, 3) вказують у протилежні напрямки."/></picture><noscript><picture><source type="image/webp" srcSet="./static/5d5d3c8240574a523ded92926814ab5c/89b21/03_oscillation_8.webp 288w,./static/5d5d3c8240574a523ded92926814ab5c/0c9f4/03_oscillation_8.webp 576w,./static/5d5d3c8240574a523ded92926814ab5c/2f759/03_oscillation_8.webp 1152w" sizes="(min-width: 1152px) 1152px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 1152px) 1152px, 100vw" decoding="async" loading="lazy" src="./static/5d5d3c8240574a523ded92926814ab5c/cdd44/03_oscillation_8.png" srcSet="./static/5d5d3c8240574a523ded92926814ab5c/b35ae/03_oscillation_8.png 288w,./static/5d5d3c8240574a523ded92926814ab5c/5e5c3/03_oscillation_8.png 576w,./static/5d5d3c8240574a523ded92926814ab5c/cdd44/03_oscillation_8.png 1152w" alt="Малюнок 3.8: Вектори \vec{v}_1 і \vec{v}_2 з компонентами (4, -3) та (-4, 3) вказують у протилежні напрямки."/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1,e.parentNode.parentNode.querySelector("[data-placeholder-image]").style.opacity=0)}}</script></div>
    <figcaption>Малюнок 3.8: Вектори <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mover accent="true"><mi>v</mi><mo>⃗</mo></mover><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">\vec{v}_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.864em;vertical-align:-0.15em"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord mathnormal" style="margin-right:0.03588em">v</span></span><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="accent-body" style="left:-0.2077em"><span class="overlay" style="height:0.714em;width:0.471em"><svg xmlns="http://www.w3.org/2000/svg" width="0.471em" height="0.714em" style="width:0.471em" viewBox="0 0 471 714" preserveAspectRatio="xMinYMin"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"></path></svg></span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span></span> і <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mover accent="true"><mi>v</mi><mo>⃗</mo></mover><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">\vec{v}_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.864em;vertical-align:-0.15em"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord mathnormal" style="margin-right:0.03588em">v</span></span><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="accent-body" style="left:-0.2077em"><span class="overlay" style="height:0.714em;width:0.471em"><svg xmlns="http://www.w3.org/2000/svg" width="0.471em" height="0.714em" style="width:0.471em" viewBox="0 0 471 714" preserveAspectRatio="xMinYMin"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"></path></svg></span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span></span> з компонентами <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mn>4</mn><mo separator="true">,</mo><mo>−</mo><mn>3</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(4, -3)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mopen">(</span><span class="mord">4</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord">−</span><span class="mord">3</span><span class="mclose">)</span></span></span></span></span> та <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mo>−</mo><mn>4</mn><mo separator="true">,</mo><mn>3</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(-4, 3)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mopen">(</span><span class="mord">−</span><span class="mord">4</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord">3</span><span class="mclose">)</span></span></span></span></span> вказують у протилежні напрямки</figcaption>
  </figure>
</div>
<p>Цей код майже готовий і практично робочий. Однак є велика проблема. Розглянемо два вектори швидкості, зображені на малюнку 3.8.</p>
<p>Хоча зовні вони схожі, обидва вектори вказують у зовсім різних напрямках — протилежних напрямках! Не зважаючи на це, подивіться, що станеться, якщо я застосую формулу оберненого тангенса для визначення кута кожного із цих векторів:</p>
<div data-type="equation" class="math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mover accent="true"><mi>v</mi><mo>⃗</mo></mover><mn>1</mn></msub><mo>⇒</mo><mtext>angle</mtext><mo>=</mo><mi>arctan</mi><mo>⁡</mo><mo stretchy="false">(</mo><mn>3</mn><mi mathvariant="normal">/</mi><mrow><mo>−</mo><mn>4</mn></mrow><mo stretchy="false">)</mo><mo>=</mo><mi>arctan</mi><mo>⁡</mo><mo stretchy="false">(</mo><mo>−</mo><mn>0.75</mn><mo stretchy="false">)</mo><mo>=</mo><mo>−</mo><mn>0.643501</mn><mtext> radians</mtext><mo>=</mo><mo>−</mo><mn>37</mn><mtext> degrees</mtext></mrow><annotation encoding="application/x-tex">\vec{v}_1 ⇒ \text{angle} = \arctan(3/{-4}) = \arctan(-0.75) = -0.643501 \text{ radians} = -37 \text{ degrees}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.864em;vertical-align:-0.15em"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord mathnormal" style="margin-right:0.03588em">v</span></span><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="accent-body" style="left:-0.2077em"><span class="overlay" style="height:0.714em;width:0.471em"><svg xmlns="http://www.w3.org/2000/svg" width="0.471em" height="0.714em" style="width:0.471em" viewBox="0 0 471 714" preserveAspectRatio="xMinYMin"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"></path></svg></span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">⇒</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em"></span><span class="mord text"><span class="mord">angle</span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mop">arctan</span><span class="mopen">(</span><span class="mord">3/</span><span class="mord"><span class="mord">−</span><span class="mord">4</span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mop">arctan</span><span class="mopen">(</span><span class="mord">−</span><span class="mord">0.75</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.7778em;vertical-align:-0.0833em"></span><span class="mord">−</span><span class="mord">0.643501</span><span class="mord text"><span class="mord"> radians</span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em"></span><span class="mord">−</span><span class="mord">37</span><span class="mord text"><span class="mord"> degrees</span></span></span></span></span></span></div>
<div data-type="equation" class="math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mover accent="true"><mi>v</mi><mo>⃗</mo></mover><mn>2</mn></msub><mo>⇒</mo><mtext>angle</mtext><mo>=</mo><mi>arctan</mi><mo>⁡</mo><mo stretchy="false">(</mo><mo>−</mo><mn>3</mn><mi mathvariant="normal">/</mi><mn>4</mn><mo stretchy="false">)</mo><mo>=</mo><mi>arctan</mi><mo>⁡</mo><mo stretchy="false">(</mo><mo>−</mo><mn>0.75</mn><mo stretchy="false">)</mo><mo>=</mo><mo>−</mo><mn>0.643501</mn><mtext> radians</mtext><mo>=</mo><mo>−</mo><mn>37</mn><mtext> degrees</mtext></mrow><annotation encoding="application/x-tex">\vec{v}_2 ⇒ \text{angle} = \arctan(-3/4) = \arctan(-0.75) = -0.643501 \text{ radians} = -37 \text{ degrees}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.864em;vertical-align:-0.15em"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord mathnormal" style="margin-right:0.03588em">v</span></span><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="accent-body" style="left:-0.2077em"><span class="overlay" style="height:0.714em;width:0.471em"><svg xmlns="http://www.w3.org/2000/svg" width="0.471em" height="0.714em" style="width:0.471em" viewBox="0 0 471 714" preserveAspectRatio="xMinYMin"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"></path></svg></span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">⇒</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em"></span><span class="mord text"><span class="mord">angle</span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mop">arctan</span><span class="mopen">(</span><span class="mord">−</span><span class="mord">3/4</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mop">arctan</span><span class="mopen">(</span><span class="mord">−</span><span class="mord">0.75</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.7778em;vertical-align:-0.0833em"></span><span class="mord">−</span><span class="mord">0.643501</span><span class="mord text"><span class="mord"> radians</span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em"></span><span class="mord">−</span><span class="mord">37</span><span class="mord text"><span class="mord"> degrees</span></span></span></span></span></span></div>
<p>Я отримую такий самий кут! Однак це не може бути правильним, оскільки вектори направлені у протилежні напрямки. Виявляється, що це досить поширена проблема в комп’ютерній графіці. Я міг би використовувати функцію <code>atan()</code> разом з умовними операторами для врахування додатних і від’ємних сценаріїв, але p5.js (разом з більшістю середовищ програмування) має корисну функцію під назвою <code>atan2()</code>, яка розв’язує цю проблему за мене.</p>
<div data-type="example">
  <h3 id="example-33-pointing-in-the-direction-of-motion"><a class="heading-link" href="#example-33-pointing-in-the-direction-of-motion">Приклад 3.3: Спрямованість у напрямку руху</a></h3>
  <figure>
    <div class="not-prose clear-both my-4 overflow-hidden rounded border bg-gray-100" style="max-width:1152px"><div class="relative overflow-hidden rounded-t bg-white"><!-- <div class="absolute left-[50%] top-[50%] -translate-x-[50%] -translate-y-[50%] ">Loading sketch ...</div> --><iframe class="w-full border-none transition-opacity opacity-1000" style="aspect-ratio:2.667" loading="lazy" src="./examples/03_oscillation/example_3_3_pointing_in_the_direction_of_motion"></iframe></div><div class="flex items-center justify-between border-t"><div class="flex"><button class="flex items-center border-r px-2.5 py-1.5 text-sm hover:bg-gray-200"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" aria-hidden="true" class="h-[15px] w-[15px]" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path></svg><span class="ml-1.5">Reset</span></button><button class="flex items-center border-r px-2.5 py-1.5 text-sm hover:bg-gray-200"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" aria-hidden="true" class="h-4 w-4" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" d="M10 9v6m4-6v6m7-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><span class="ml-1">Pause</span></button></div><a href="https://editor.p5js.org/natureofcode/sketches/bZqHGYbRQ" target="_blank" rel="noreferrer" class="flex items-center px-2.5 text-[0.8rem] hover:underline">Open in Web Editor<svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="ml-1 text-gray-500" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg></a></div></div>
    <figcaption></figcaption>
  </figure>
</div>
<div class="avoid-break">
  <div class="codesplit callout not-prose" data-code-language="javascript"><div class="pair split"><pre><code class="hljs code language-javascript">    <span class="hljs-keyword">let</span> angle = <span class="hljs-title function_">atan2</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">velocity</span>.<span class="hljs-property">y</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">velocity</span>.<span class="hljs-property">x</span>);
</code></pre><div class="comment"><p>Використання atan2() для врахування всіх можливих напрямків.</p></div></div><div class="pair"><pre><code class="hljs code language-javascript">    <span class="hljs-title function_">push</span>();
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">    <span class="hljs-title function_">rectMode</span>(<span class="hljs-variable constant_">CENTER</span>);
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">    <span class="hljs-title function_">translate</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">position</span>.<span class="hljs-property">x</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">position</span>.<span class="hljs-property">y</span>);
</code></pre><div class="comment"><p></p></div></div><div class="pair split"><pre><code class="hljs code language-javascript">    <span class="hljs-title function_">rotate</span>(angle);
</code></pre><div class="comment"><p>Поворот на потрібний кут.</p></div></div><div class="pair"><pre><code class="hljs code language-javascript">    <span class="hljs-title function_">rect</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">30</span>, <span class="hljs-number">10</span>);
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">    <span class="hljs-title function_">pop</span>();
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">  }
</code></pre><div class="comment"><p></p></div></div></div>
</div>
<p>Щоб спростити це ще більше, клас <code>p5.Vector</code> надає метод під назвою <code>heading()</code>, який самостійно піклується про виклик <code>atan2()</code> і повертає двовимірний кут напрямку у радіанах для будь-якого об’єкта типу <code>p5.Vector</code>:</p>
<div class="codesplit callout not-prose" data-code-language="javascript"><div class="pair split"><pre><code class="hljs code language-javascript">    <span class="hljs-keyword">let</span> angle = <span class="hljs-variable language_">this</span>.<span class="hljs-property">velocity</span>.<span class="hljs-title function_">heading</span>();
</code></pre><div class="comment"><p>Найпростіший спосіб зробити це!</p></div></div></div>
<p>З <code>heading()</code> вам практично не потрібно виконувати тригонометричні функції для знаходження кута напрямку, але все одно корисно знати, як все це працює.</p>
<div data-type="exercise" class="callout">
  <h3 id="exercise-34"><a class="heading-link" href="#exercise-34">Вправа 3.4</a></h3>
  <p>Створіть симуляцію авто, рухом якого можна керувати за допомогою клавіш зі стрілками: стрілка вліво прискорює машину вліво, стрілка вправо — прискорює вправо. Машина повинна бути повернутою в напрямку свого руху.</p>
</div>
<h2 id="polar-vs-cartesian-coordinates"><a class="heading-link" href="#polar-vs-cartesian-coordinates">Полярні та прямокутні координати</a></h2>
<p>Кожного разу, коли ви малюєте фігуру в p5.js, вам потр ібно вказати її піксельне положення, <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord mathnormal">x</span></span></span></span></span> і <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>y</mi></mrow><annotation encoding="application/x-tex">y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em"></span><span class="mord mathnormal" style="margin-right:0.03588em">y</span></span></span></span></span> координати. Ці координати відомі як <strong>декартові координати</strong>, названі на честь Рене Декарта, французького математика, який розвинув ідеї, що лежать в основі прямокутного простору.</p>
<p>Інша корисна система координат — <strong>полярні координати</strong> — описує точку в просторі як відстань від початку координат (наприклад, радіус кола) і відповідний кут (зазвичай позначається грецькою буквою тета <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>θ</mi></mrow><annotation encoding="application/x-tex">\theta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em"></span><span class="mord mathnormal" style="margin-right:0.02778em">θ</span></span></span></span></span>). Мислячи в термінах векторів, декартові координати описують векторні компоненти <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord mathnormal">x</span></span></span></span></span> та <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>y</mi></mrow><annotation encoding="application/x-tex">y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em"></span><span class="mord mathnormal" style="margin-right:0.03588em">y</span></span></span></span></span>, тоді як полярні координати описують векторну магнітуду (величину, довжину) і її напрямок (кут).</p>
<p>Працюючи в p5.js, вам може бути зручніше мислити в полярних координатах, особливо для створення програм, які включають обертальні або кругові рухи. Однак функції малювання у p5.js розуміють лише декартові <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mi>y</mi></mrow><annotation encoding="application/x-tex">xy</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em"></span><span class="mord mathnormal">x</span><span class="mord mathnormal" style="margin-right:0.03588em">y</span></span></span></span></span>-координати. На щастя для вас, тригонометрія має ключ для перетворення між полярними та декартовими координатами (див. малюнок 3.8). Це дозволяє вам займатись проєктуванням з будь-якою системою координат, яка вам зручніша, при цьому завжди малюючи з використанням декартових координат.</p>
<figure>
  <div data-gatsby-image-wrapper="" class="gatsby-image-wrapper gatsby-image-wrapper-constrained"><div style="max-width:2304px;display:block"><img alt="" role="presentation" aria-hidden="true" src="data:image/svg+xml;charset=utf-8,%3Csvg height=&#x27;1573&#x27; width=&#x27;2304&#x27; xmlns=&#x27;http://www.w3.org/2000/svg&#x27; version=&#x27;1.1&#x27;%3E%3C/svg%3E" style="max-width:100%;display:block;position:static"/></div><div aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear;background-color:#f8f8f8;position:absolute;top:0;left:0;bottom:0;right:0"></div><picture><source type="image/webp" data-srcset="./static/fbe7911ff98aeec466adcd6eab5876c0/11b74/03_oscillation_9.webp 576w,./static/fbe7911ff98aeec466adcd6eab5876c0/aa4eb/03_oscillation_9.webp 1152w,./static/fbe7911ff98aeec466adcd6eab5876c0/6bd07/03_oscillation_9.webp 2304w" sizes="(min-width: 2304px) 2304px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 2304px) 2304px, 100vw" decoding="async" loading="lazy" data-src="./static/fbe7911ff98aeec466adcd6eab5876c0/43610/03_oscillation_9.png" data-srcset="./static/fbe7911ff98aeec466adcd6eab5876c0/61876/03_oscillation_9.png 576w,./static/fbe7911ff98aeec466adcd6eab5876c0/13b64/03_oscillation_9.png 1152w,./static/fbe7911ff98aeec466adcd6eab5876c0/43610/03_oscillation_9.png 2304w" alt="Малюнок 3.9: Грецька літера \theta (тета) часто використовується для позначення кута. Оскільки полярні координати традиційно позначаються як (r, \theta), я буду використовувати theta як назву для змінної, що відповідає за кут"/></picture><noscript><picture><source type="image/webp" srcSet="./static/fbe7911ff98aeec466adcd6eab5876c0/11b74/03_oscillation_9.webp 576w,./static/fbe7911ff98aeec466adcd6eab5876c0/aa4eb/03_oscillation_9.webp 1152w,./static/fbe7911ff98aeec466adcd6eab5876c0/6bd07/03_oscillation_9.webp 2304w" sizes="(min-width: 2304px) 2304px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 2304px) 2304px, 100vw" decoding="async" loading="lazy" src="./static/fbe7911ff98aeec466adcd6eab5876c0/43610/03_oscillation_9.png" srcSet="./static/fbe7911ff98aeec466adcd6eab5876c0/61876/03_oscillation_9.png 576w,./static/fbe7911ff98aeec466adcd6eab5876c0/13b64/03_oscillation_9.png 1152w,./static/fbe7911ff98aeec466adcd6eab5876c0/43610/03_oscillation_9.png 2304w" alt="Малюнок 3.9: Грецька літера \theta (тета) часто використовується для позначення кута. Оскільки полярні координати традиційно позначаються як (r, \theta), я буду використовувати theta як назву для змінної, що відповідає за кут"/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1,e.parentNode.parentNode.querySelector("[data-placeholder-image]").style.opacity=0)}}</script></div>
  <figcaption>Малюнок 3.9: Грецька літера <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>θ</mi></mrow><annotation encoding="application/x-tex">\theta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em"></span><span class="mord mathnormal" style="margin-right:0.02778em">θ</span></span></span></span></span> (тета) часто використовується для позначення кута. Оскільки полярні координати традиційно позначаються як <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>r</mi><mo separator="true">,</mo><mi>θ</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(r, \theta)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02778em">r</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord mathnormal" style="margin-right:0.02778em">θ</span><span class="mclose">)</span></span></span></span></span>, я буду використовувати <code>theta</code> як назву для змінної, що відповідає за кут</figcaption>
</figure>
<p>Наприклад, якщо задані полярні координати із радіусом у 75 пікселів і кутом (<span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>θ</mi></mrow><annotation encoding="application/x-tex">\theta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em"></span><span class="mord mathnormal" style="margin-right:0.02778em">θ</span></span></span></span></span>) у 45 градусів (або <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>π</mi><mi mathvariant="normal">/</mi><mn>4</mn></mrow><annotation encoding="application/x-tex">\pi/4</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord mathnormal" style="margin-right:0.03588em">π</span><span class="mord">/4</span></span></span></span></span> радіан), то декартові <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord mathnormal">x</span></span></span></span></span> та <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>y</mi></mrow><annotation encoding="application/x-tex">y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em"></span><span class="mord mathnormal" style="margin-right:0.03588em">y</span></span></span></span></span> можна обчислити наступним чином:</p>
<div data-type="equation" class="math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>cos</mi><mo>⁡</mo><mo stretchy="false">(</mo><mi>θ</mi><mo stretchy="false">)</mo><mo>=</mo><mi>x</mi><mi mathvariant="normal">/</mi><mi>r</mi><mo>⇒</mo><mi>x</mi><mo>=</mo><mi>r</mi><mo>×</mo><mi>cos</mi><mo>⁡</mo><mo stretchy="false">(</mo><mi>θ</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\cos(\theta) = x/r \Rightarrow x = r \times \cos(\theta)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mop">cos</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02778em">θ</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord mathnormal">x</span><span class="mord">/</span><span class="mord mathnormal" style="margin-right:0.02778em">r</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">⇒</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em"></span><span class="mord mathnormal" style="margin-right:0.02778em">r</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mop">cos</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02778em">θ</span><span class="mclose">)</span></span></span></span></span></div>
<div data-type="equation" class="math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>sin</mi><mo>⁡</mo><mo stretchy="false">(</mo><mi>θ</mi><mo stretchy="false">)</mo><mo>=</mo><mi>y</mi><mi mathvariant="normal">/</mi><mi>r</mi><mo>⇒</mo><mi>y</mi><mo>=</mo><mi>r</mi><mo>×</mo><mi>sin</mi><mo>⁡</mo><mo stretchy="false">(</mo><mi>θ</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\sin(\theta) = y / r \Rightarrow y = r \times \sin(\theta)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mop">sin</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02778em">θ</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord mathnormal" style="margin-right:0.03588em">y</span><span class="mord">/</span><span class="mord mathnormal" style="margin-right:0.02778em">r</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">⇒</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em"></span><span class="mord mathnormal" style="margin-right:0.03588em">y</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em"></span><span class="mord mathnormal" style="margin-right:0.02778em">r</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mop">sin</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02778em">θ</span><span class="mclose">)</span></span></span></span></span></div>
<p>Для обчислення синуса і косинуса у p5.js є відповідні функції <code>sin()</code> та <code>cos()</code>. Кожна з них приймає один аргумент, число, що представляє кут у радіанах. Ці формули можна закодувати наступним чином:</p>
<div class="codesplit callout not-prose" data-code-language="javascript"><div class="pair"><pre><code class="hljs code language-javascript"><span class="hljs-keyword">let</span> r = <span class="hljs-number">75</span>;
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript"><span class="hljs-keyword">let</span> theta = <span class="hljs-variable constant_">PI</span> / <span class="hljs-number">4</span>;
</code></pre><div class="comment"><p></p></div></div><div class="pair split"><pre><code class="hljs code language-javascript"><span class="hljs-keyword">let</span> x = r * <span class="hljs-title function_">cos</span>(theta);
<span class="hljs-keyword">let</span> y = r * <span class="hljs-title function_">sin</span>(theta);
</code></pre><div class="comment"><p>Перетворення поля рних координат (r, theta) у декартові (x, y).</p></div></div></div>
<p>Цей тип перетворення може бути корисним у певних випадках. Наприклад, переміщення фігури по круговій траєкторії за допомогою декартових координат не просте заняття. Однак із полярними координатами це легко: просто збільшуйте кут! Наступний приклад показує як це зробити з глобальними змінними <code>r</code> і <code>theta</code>.</p>
<div data-type="example">
  <h3 id="example-34-polar-to-cartesian"><a class="heading-link" href="#example-34-polar-to-cartesian">Приклад 3.4: Перетворення полярних координат на декартові</a></h3>
  <figure>
    <div class="not-prose clear-both my-4 overflow-hidden rounded border bg-gray-100" style="max-width:1152px"><div class="relative overflow-hidden rounded-t bg-white"><!-- <div class="absolute left-[50%] top-[50%] -translate-x-[50%] -translate-y-[50%] ">Loading sketch ...</div> --><iframe class="w-full border-none transition-opacity opacity-1000" style="aspect-ratio:2.667" loading="lazy" src="./examples/03_oscillation/example_3_4_polar_to_cartesian"></iframe></div><div class="flex items-center justify-between border-t"><div class="flex"><button class="flex items-center border-r px-2.5 py-1.5 text-sm hover:bg-gray-200"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" aria-hidden="true" class="h-[15px] w-[15px]" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path></svg><span class="ml-1.5">Reset</span></button><button class="flex items-center border-r px-2.5 py-1.5 text-sm hover:bg-gray-200"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" aria-hidden="true" class="h-4 w-4" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" d="M10 9v6m4-6v6m7-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><span class="ml-1">Pause</span></button></div><a href="https://editor.p5js.org/natureofcode/sketches/qcnlfvP3q" target="_blank" rel="noreferrer" class="flex items-center px-2.5 text-[0.8rem] hover:underline">Open in Web Editor<svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="ml-1 text-gray-500" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg></a></div></div>
    <figcaption></figcaption>
  </figure>
</div>
<div class="codesplit callout not-prose" data-code-language="javascript"><div class="pair"><pre><code class="hljs code language-javascript"><span class="hljs-keyword">let</span> r;
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript"><span class="hljs-keyword">let</span> theta;
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">setup</span>(<span class="hljs-params"></span>) {
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">  <span class="hljs-title function_">createCanvas</span>(<span class="hljs-number">640</span>, <span class="hljs-number">240</span>);
</code></pre><div class="comment"><p></p></div></div><div class="pair split"><pre><code class="hljs code language-javascript">  r = height * <span class="hljs-number">0.45</span>;
  theta = <span class="hljs-number">0</span>;
</code></pre><div class="comment"><p>Ініціалізація значень.</p></div></div><div class="pair"><pre><code class="hljs code language-javascript">}
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">draw</span>(<span class="hljs-params"></span>) {
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">  <span class="hljs-title function_">background</span>(<span class="hljs-number">255</span>);
</code></pre><div class="comment"><p></p></div></div><div class="pair split"><pre><code class="hljs code language-javascript">  <span class="hljs-title function_">translate</span>(width / <span class="hljs-number">2</span>, height / <span class="hljs-number">2</span>);
</code></pre><div class="comment"><p>Переміщення початкової точки у центр екрана.</p></div></div><div class="pair split"><pre><code class="hljs code language-javascript">  <span class="hljs-keyword">let</span> x = r * <span class="hljs-title function_">cos</span>(theta);
  <span class="hljs-keyword">let</span> y = r * <span class="hljs-title function_">sin</span>(theta);
</code></pre><div class="comment"><p>Полярні координати (r, theta) перетворюються на декартові (x, y) для використання у функції circle().</p></div></div><div class="pair"><pre><code class="hljs code language-javascript">  <span class="hljs-title function_">fill</span>(<span class="hljs-number">127</span>);
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">  <span class="hljs-title function_">stroke</span>(<span class="hljs-number">0</span>);
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">  <span class="hljs-title function_">line</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, x, y);
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">  <span class="hljs-title function_">circle</span>(x, y, <span class="hljs-number">48</span>);
</code></pre><div class="comment"><p></p></div></div><div class="pair split"><pre><code class="hljs code language-javascript">  theta += <span class="hljs-number">0.02</span>;
</code></pre><div class="comment"><p>Поступове збільшення кута.</p></div></div><div class="pair"><pre><code class="hljs code language-javascript">}
</code></pre><div class="comment"><p></p></div></div></div>
<div class="avoid-break">
  <p>Перетворення з полярних координат у декартові координати настільки поширене, що p5.js має зручну функцію, яка подбає про це за вас. Вона називається <code>fromAngle()</code> і включена як статичний метод класу <code>p5.Vector</code>. Метод приймає кут у радіанах і створює одиничний вектор у декартовому просторі, який вказує у напрямку, визначеному кутом. Ось як це виглядало б у прикладі 3.4:</p>
  <div class="codesplit callout not-prose" data-code-language="javascript"><div class="pair split"><pre><code class="hljs code language-javascript">  <span class="hljs-keyword">let</span> position = p5.<span class="hljs-property">Vector</span>.<span class="hljs-title function_">fromAngle</span>(theta);
</code></pre><div class="comment"><p>Створення одиничного вектора, що вказує у напрямку кута.</p></div></div><div class="pair split"><pre><code class="hljs code language-javascript">  position.<span class="hljs-title function_">mult</span>(r);
</code></pre><div class="comment"><p>Помноження вектора position на r для завершення перетворення полярних координат у декартові.</p></div></div><div class="pair split"><pre><code class="hljs code language-javascript">  <span class="hljs-title function_">circle</span>(position.<span class="hljs-property">x</span>, position.<span class="hljs-property">y</span>, <span class="hljs-number">48</span>);
</code></pre><div class="comment"><p>Малювання кола з використанням xy-компонентів вектора.</p></div></div></div>
</div>
<p>Ви вже вражені? Я продемонстрував кілька чудових способів використання тангенса (для знаходження кута вектора) і синуса та косинуса (для перетворення полярних координат у декартові). Я міг би зупинитися на цьому і бути задоволеним. Але я не збираюся. Це лише початок. Як я вам покажу далі, те, що синус і косинус можуть зробити для вас, виходить за межі математичних формул та прямих трикутників.</p>
<div data-type="exercise" class="callout">
  <h3 id="exercise-35"><a class="heading-link" href="#exercise-35">Вправа 3.5</a></h3>
  <p>Взявши за основу приклад 3.4, намалюйте спіральний шлях. Почніть з центру і рухайтеся назовні. Зверніть увагу, що це можна зробити, змінивши один рядок коду й додавши ще один!</p>
  <figure data-type="example">
    <div class="not-prose clear-both my-4 overflow-hidden rounded border bg-gray-100" style="max-width:1152px"><div class="relative overflow-hidden rounded-t bg-white"><!-- <div class="absolute left-[50%] top-[50%] -translate-x-[50%] -translate-y-[50%] ">Loading sketch ...</div> --><iframe class="w-full border-none transition-opacity opacity-1000" style="aspect-ratio:2.667" loading="lazy" src="./examples/03_oscillation/exercise_3_4_spiral"></iframe></div><div class="flex items-center justify-between border-t"><div class="flex"><button class="flex items-center border-r px-2.5 py-1.5 text-sm hover:bg-gray-200"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" aria-hidden="true" class="h-[15px] w-[15px]" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path></svg><span class="ml-1.5">Reset</span></button><button class="flex items-center border-r px-2.5 py-1.5 text-sm hover:bg-gray-200"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" aria-hidden="true" class="h-4 w-4" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" d="M10 9v6m4-6v6m7-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><span class="ml-1">Pause</span></button></div><a href="https://editor.p5js.org/natureofcode/sketches/qTs23wBBs" target="_blank" rel="noreferrer" class="flex items-center px-2.5 text-[0.8rem] hover:underline">Open in Web Editor<svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="ml-1 text-gray-500" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg></a></div></div>
    <figcaption></figcaption>
  </figure>
</div>
<div data-type="exercise" class="callout">
  <h3 id="exercise-36"><a class="heading-link" href="#exercise-36">Вправа 3.6</a></h3>
  <p>Зробіть симуляцію космічного корабля з гри <em>Астероїди</em>. Якщо ви не знайомі з цією грою, то ось короткий опис: космічний корабель (тут зображено трикутником) плаває у 2D просторі. Клавіша зі стрілкою вліво повертає космічний корабель проти годинникової стрілки, клавіша зі стрілкою вправо — за годинниковою стрілкою. Клавіша Z застосовує силу тяги у напрямку в якому повернуто космічний корабель.</p>
  <figure data-type="example">
    <div class="not-prose clear-both my-4 overflow-hidden rounded border bg-gray-100" style="max-width:1152px"><div class="relative overflow-hidden rounded-t bg-white"><!-- <div class="absolute left-[50%] top-[50%] -translate-x-[50%] -translate-y-[50%] ">Loading sketch ...</div> --><iframe class="w-full border-none transition-opacity opacity-1000" style="aspect-ratio:2.667" loading="lazy" src="./examples/03_oscillation/exercise_3_5_asteroids"></iframe></div><div class="flex items-center justify-between border-t"><div class="flex"><button class="flex items-center border-r px-2.5 py-1.5 text-sm hover:bg-gray-200"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" aria-hidden="true" class="h-[15px] w-[15px]" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path></svg><span class="ml-1.5">Reset</span></button><button class="flex items-center border-r px-2.5 py-1.5 text-sm hover:bg-gray-200"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" aria-hidden="true" class="h-4 w-4" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" d="M10 9v6m4-6v6m7-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><span class="ml-1">Pause</span></button></div><a href="https://editor.p5js.org/natureofcode/sketches/7jQEBLJhX" target="_blank" rel="noreferrer" class="flex items-center px-2.5 text-[0.8rem] hover:underline">Open in Web Editor<svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="ml-1 text-gray-500" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg></a></div></div>
    <figcaption></figcaption>
  </figure>
</div>
<h2 id="properties-of-oscillation"><a class="heading-link" href="#properties-of-oscillation">Властивості коливань</a></h2>
<p>Подивіться на графік синус-функції на малюнку 3.10, де <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>y</mi><mo>=</mo><mi>sin</mi><mo>⁡</mo><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">y = \sin(x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em"></span><span class="mord mathnormal" style="margin-right:0.03588em">y</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mop">sin</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span></span>.</p>
<figure>
  <div data-gatsby-image-wrapper="" class="gatsby-image-wrapper gatsby-image-wrapper-constrained"><div style="max-width:2304px;display:block"><img alt="" role="presentation" aria-hidden="true" src="data:image/svg+xml;charset=utf-8,%3Csvg height=&#x27;702&#x27; width=&#x27;2304&#x27; xmlns=&#x27;http://www.w3.org/2000/svg&#x27; version=&#x27;1.1&#x27;%3E%3C/svg%3E" style="max-width:100%;display:block;position:static"/></div><div aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear;background-color:#f8f8f8;position:absolute;top:0;left:0;bottom:0;right:0"></div><picture><source type="image/webp" data-srcset="./static/ec857c5575284c3ac355550c0e90fc46/bd457/03_oscillation_10.webp 576w,./static/ec857c5575284c3ac355550c0e90fc46/397c5/03_oscillation_10.webp 1152w,./static/ec857c5575284c3ac355550c0e90fc46/b6aef/03_oscillation_10.webp 2304w" sizes="(min-width: 2304px) 2304px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 2304px) 2304px, 100vw" decoding="async" loading="lazy" data-src="./static/ec857c5575284c3ac355550c0e90fc46/bfac6/03_oscillation_10.png" data-srcset="./static/ec857c5575284c3ac355550c0e90fc46/fb98b/03_oscillation_10.png 576w,./static/ec857c5575284c3ac355550c0e90fc46/b5858/03_oscillation_10.png 1152w,./static/ec857c5575284c3ac355550c0e90fc46/bfac6/03_oscillation_10.png 2304w" alt="Малюнок 3.10: Графік y = sin(x)"/></picture><noscript><picture><source type="image/webp" srcSet="./static/ec857c5575284c3ac355550c0e90fc46/bd457/03_oscillation_10.webp 576w,./static/ec857c5575284c3ac355550c0e90fc46/397c5/03_oscillation_10.webp 1152w,./static/ec857c5575284c3ac355550c0e90fc46/b6aef/03_oscillation_10.webp 2304w" sizes="(min-width: 2304px) 2304px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 2304px) 2304px, 100vw" decoding="async" loading="lazy" src="./static/ec857c5575284c3ac355550c0e90fc46/bfac6/03_oscillation_10.png" srcSet="./static/ec857c5575284c3ac355550c0e90fc46/fb98b/03_oscillation_10.png 576w,./static/ec857c5575284c3ac355550c0e90fc46/b5858/03_oscillation_10.png 1152w,./static/ec857c5575284c3ac355550c0e90fc46/bfac6/03_oscillation_10.png 2304w" alt="Малюнок 3.10: Графік y = sin(x)"/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1,e.parentNode.parentNode.querySelector("[data-placeholder-image]").style.opacity=0)}}</script></div>
  <figcaption>Малюнок 3.10: Графік <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>y</mi><mo>=</mo><mi>s</mi><mi>i</mi><mi>n</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">y = sin(x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em"></span><span class="mord mathnormal" style="margin-right:0.03588em">y</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord mathnormal">s</span><span class="mord mathnormal">in</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span></span></figcaption>
</figure>
<p>Результат синус-функції — це гладенька крива, верхівка якої почергово переходить від <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">−1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em"></span><span class="mord">−</span><span class="mord">1</span></span></span></span></span> до <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em"></span><span class="mord">1</span></span></span></span></span>, також відома під назвою <strong>синусоїдальна хвиля</strong> або <strong>синусоїда</strong>. Така поведінка, з періодичним рухом між двома точками, є <strong>коливанням (осциляцією)</strong>, про яке я згадував на початку розділу. Вібрація гітарної струни, гойдання маятника, стрибання на пого-палиці — усе це приклади коливального руху, які можна змоделювати за допомогою синус-функції.</p>
<p>У програмі p5.js ви можете симулювати коливання, присвоюючи результат синус-функції для положення об’єкта. Я почну з базового сценарію: я хочу, щоб кулька коливалася  між лівою та правою сторонами полотна (малюнок 3.11).</p>
<figure data-type="example">
  <div class="not-prose clear-both my-4 overflow-hidden rounded border bg-gray-100" style="max-width:1152px"><div class="relative overflow-hidden rounded-t bg-white"><!-- <div class="absolute left-[50%] top-[50%] -translate-x-[50%] -translate-y-[50%] ">Loading sketch ...</div> --><iframe class="w-full border-none transition-opacity opacity-1000" style="aspect-ratio:2.667" loading="lazy" src="./examples/03_oscillation/example_3_5_simple_harmonic_motion"></iframe></div><div class="flex items-center justify-between border-t"><div class="flex"><button class="flex items-center border-r px-2.5 py-1.5 text-sm hover:bg-gray-200"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" aria-hidden="true" class="h-[15px] w-[15px]" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path></svg><span class="ml-1.5">Reset</span></button><button class="flex items-center border-r px-2.5 py-1.5 text-sm hover:bg-gray-200"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" aria-hidden="true" class="h-4 w-4" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" d="M10 9v6m4-6v6m7-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><span class="ml-1">Pause</span></button></div><a href="https://editor.p5js.org/natureofcode/sketches/O8LMHH-Df" target="_blank" rel="noreferrer" class="flex items-center px-2.5 text-[0.8rem] hover:underline">Open in Web Editor<svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="ml-1 text-gray-500" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg></a></div></div>
  <figcaption>Малюнок 3.11: Кулька, що коливається</figcaption>
</figure>
<p>Ця модель коливання вперед і назад навколо центральної точки відома як <strong>гармонічне коливання</strong> (або, щоб сказати більш вишукано, періодична синусоїдальна осциляція об’єкта). Код для досягнення цього надзвичайно простий, але перш ніж приступити до нього, я хотів би представити деякі ключові терміни, пов’язані з коливаннями (і хвилями).</p>
<p>Коли рухомий об’єкт демонструє простий гармонічний рух, його положення (у цьому випадку <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord mathnormal">x</span></span></span></span></span>-позицію) можна виразити як функцію часу з наступними двома елементами:</p>
<ul>
  <li><strong>Амплітуда</strong> — відстань від центру руху до будь-якого крайнього положення</li>
  <li><strong>Період</strong> — тривалість (час) одного повного циклу руху</li>
</ul>
<p>Щоб зрозуміти ці терміни, ще раз подивіться на графік синус-функції на малюнку 3.10. Крива ніколи не підіймається вище 1 або нижче -1 вздовж осі <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>y</mi></mrow><annotation encoding="application/x-tex">y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em"></span><span class="mord mathnormal" style="margin-right:0.03588em">y</span></span></span></span></span>, тому функція синуса має амплітуду 1. Водночас хвилеподібний патерн кривої повторюється кожні <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn><mi>π</mi></mrow><annotation encoding="application/x-tex">2\pi</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em"></span><span class="mord">2</span><span class="mord mathnormal" style="margin-right:0.03588em">π</span></span></span></span></span> одиниці вздовж осі <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord mathnormal">x</span></span></span></span></span>, тому період функції синуса дорівнює <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn><mi>π</mi></mrow><annotation encoding="application/x-tex">2\pi</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em"></span><span class="mord">2</span><span class="mord mathnormal" style="margin-right:0.03588em">π</span></span></span></span></span>. (За домовленістю одиницями вимірювання тут є радіани, оскільки вхідним значенням для функції синуса зазвичай є кут у радіанах.)</p>
<p>Ми сказали чимало про амплітуду та період абстрактної функції синуса, але що таке амплітуда та період у світі p5.js на прикладі кульки, що коливається? Що ж, амплітуду можна досить легко виміряти в пікселях. Наприклад, якщо полотно має ширину 200 пікселів, я можу вибрати коливання навколо центру полотна, переміщуючись від 100 пікселів праворуч від центру до 100 пікселів ліворуч від центру. Іншими словами, амплітуда становитиме 100 пікселів:</p>
<div class="codesplit callout not-prose" data-code-language="javascript"><div class="pair split"><pre><code class="hljs code language-javascript"><span class="hljs-keyword">let</span> amplitude = <span class="hljs-number">100</span>;
</code></pre><div class="comment"><p>Амплітуда виміряна в пікселях.</p></div></div></div>
<p>Період — це кількість часу для одного повного циклу осциляції. Однак що означає <em>час</em> у програмі p5.js? Теоретично я міг би сказати, що хочу, щоб кулька коливалася кожні три секунди, а потім придумати складний алгоритм для  руху об’єкта відповідно до реального часу, використовуючи функцію <code>millis()</code> для відстеження пройдених мілісекунд. Однак для того, що я намагаюсь тут досягти, реальний час не обов’язковий. Більш корисною мірою часу у p5.js є кількість <strong>кадрів</strong> яка минула, що доступна через вбудовану змінну <code>frameCount</code>. Чи хочу я, щоб коливальний рух повторювався кожні 30 кадрів? Кожні 50 кадрів? Як щодо періоду у 120 кадрів:</p>
<div class="codesplit callout not-prose" data-code-language="javascript"><div class="pair split"><pre><code class="hljs code language-javascript"><span class="hljs-keyword">let</span> period = <span class="hljs-number">120</span>;
</code></pre><div class="comment"><p>Період вимірюваний кадрами (одиницями часу для анімації).</p></div></div></div>
<p>Коли я маю амплітуду і період, настав час написати формулу для обчислення <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord mathnormal">x</span></span></span></span></span>-позиції кола як функції часу (тут це поточна кількість кадрів):</p>
<div class="codesplit callout not-prose" data-code-language="javascript"><div class="pair split"><pre><code class="hljs code language-javascript"><span class="hljs-keyword">let</span> x = amplitude * <span class="hljs-title function_">sin</span>(<span class="hljs-variable constant_">TWO_PI</span> * frameCount / period);
</code></pre><div class="comment"><p>amplitude та period — це мої власні змінні, frameCount — вбудована у p5.js.</p></div></div></div>
<p>Подумайте про те, що тут відбувається. По-перше, будь-яке значення, яке повертає функція <code>sin()</code> множиться на <code>amplitude</code>. Як ви бачили на малюнку 3.10, результат функції синуса коливається між -1 і 1. Помноження цього значення на обрану мною амплітуду — назвемо її <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi></mrow><annotation encoding="application/x-tex">a</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord mathnormal">a</span></span></span></span></span> — дає мені бажаний результат: значення, яке коливається між -<span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi></mrow><annotation encoding="application/x-tex">a</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord mathnormal">a</span></span></span></span></span> та <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi></mrow><annotation encoding="application/x-tex">a</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord mathnormal">a</span></span></span></span></span>. (Це також місце, де ви можете використовувати функцію <code>map()</code> для відображення результатів функції <code>sin()</code> у власний діапазон.)</p>
<p>Тепер подумайте про те, що знаходиться всередині функції <code>sin()</code>:</p>
<div class="codesplit callout not-prose" data-code-language="javascript"><div class="pair"><pre><code class="hljs code language-javascript"><span class="hljs-variable constant_">TWO_PI</span> * frameCount / period
</code></pre><div class="comment"><p></p></div></div></div>
<p>Що тут відбувається? Почнемо з того, що ви знаєте. Я пояснив, що синус має період <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn><mi>π</mi></mrow><annotation encoding="application/x-tex">2\pi</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em"></span><span class="mord">2</span><span class="mord mathnormal" style="margin-right:0.03588em">π</span></span></span></span></span>, тобто починається з <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em"></span><span class="mord">0</span></span></span></span></span> і повторюється при <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn><mi>π</mi></mrow><annotation encoding="application/x-tex">2\pi</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em"></span><span class="mord">2</span><span class="mord mathnormal" style="margin-right:0.03588em">π</span></span></span></span></span>, <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>4</mn><mi>π</mi></mrow><annotation encoding="application/x-tex">4\pi</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em"></span><span class="mord">4</span><span class="mord mathnormal" style="margin-right:0.03588em">π</span></span></span></span></span>, <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>6</mn><mi>π</mi></mrow><annotation encoding="application/x-tex">6\pi</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em"></span><span class="mord">6</span><span class="mord mathnormal" style="margin-right:0.03588em">π</span></span></span></span></span> й так далі. Якщо мій бажаний період коливань складає 120 кадрів, тоді я хочу, щоб кулька була у тому самому положенні, коли <code>frameCount</code> становитиме 120 кадрів, 240 кадрів, 360 кадрів і так далі. Тут <code>frameCount</code> — це єдина змінна, яка змінюється з часом. Подивіться, які результати дає формула при збільшенні <code>frameCount</code>:</p>
<table><thead><tr><th><code>frameCount</code></th><th><code>frameCount / period</code></th><th><code>TWO_PI * frameCount / period</code></th></tr></thead><tbody><tr><td>0</td><td>0</td><td>0</td></tr><tr><td>60</td><td>0.5</td><td><span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>π</mi></mrow><annotation encoding="application/x-tex">\pi</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord mathnormal" style="margin-right:0.03588em">π</span></span></span></span></span></td></tr><tr><td>120</td><td>1</td><td><span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn><mi>π</mi></mrow><annotation encoding="application/x-tex">2\pi</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em"></span><span class="mord">2</span><span class="mord mathnormal" style="margin-right:0.03588em">π</span></span></span></span></span></td></tr><tr><td>240</td><td>2</td><td><span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>4</mn><mi>π</mi></mrow><annotation encoding="application/x-tex">4\pi</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em"></span><span class="mord">4</span><span class="mord mathnormal" style="margin-right:0.03588em">π</span></span></span></span></span></td></tr><tr><td>. . .</td><td>. . .</td><td>. . .</td></tr></tbody></table>
<p>Ділення <code>frameCount</code> на <code>period</code> говорить мені, скільки циклів вже було завершено. Чи хвиля на півдорозі першого циклу? Чи завершилося два цикли? Помноживши це число на <code>TWO_PI</code>, я отримую бажаний результат, відповідне вхідне значення для функції <code>sin()</code>, оскільки <code>TWO_PI</code> — це значення, необхідне для того, щоб синус (або косинус) завершив один повний цикл.</p>
<p>Зібравши все разом, отримаємо приклад коливання кола за його <code>x</code>-позицією з амплітудою у 100 пікселів і періодом у 120 кадрів.</p>
<div data-type="example">
  <h3 id="example-35-simple-harmonic-motion"><a class="heading-link" href="#example-35-simple-harmonic-motion">Приклад 3.5: Гармонійне коливання I</a></h3>
  <figure>
    <div class="not-prose clear-both my-4 overflow-hidden rounded border bg-gray-100" style="max-width:1152px"><div class="relative overflow-hidden rounded-t bg-white"><!-- <div class="absolute left-[50%] top-[50%] -translate-x-[50%] -translate-y-[50%] ">Loading sketch ...</div> --><iframe class="w-full border-none transition-opacity opacity-1000" style="aspect-ratio:2.667" loading="lazy" src="./examples/03_oscillation/example_3_5_simple_harmonic_motion"></iframe></div><div class="flex items-center justify-between border-t"><div class="flex"><button class="flex items-center border-r px-2.5 py-1.5 text-sm hover:bg-gray-200"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" aria-hidden="true" class="h-[15px] w-[15px]" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path></svg><span class="ml-1.5">Reset</span></button><button class="flex items-center border-r px-2.5 py-1.5 text-sm hover:bg-gray-200"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" aria-hidden="true" class="h-4 w-4" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" d="M10 9v6m4-6v6m7-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><span class="ml-1">Pause</span></button></div><a href="https://editor.p5js.org/natureofcode/sketches/O8LMHH-Df" target="_blank" rel="noreferrer" class="flex items-center px-2.5 text-[0.8rem] hover:underline">Open in Web Editor<svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="ml-1 text-gray-500" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg></a></div></div>
    <figcaption></figcaption>
  </figure>
</div>
<div class="codesplit callout not-prose" data-code-language="javascript"><div class="pair"><pre><code class="hljs code language-javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">setup</span>(<span class="hljs-params"></span>) {
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">  <span class="hljs-title function_">createCanvas</span>(<span class="hljs-number">640</span>, <span class="hljs-number">240</span>);
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">}
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">draw</span>(<span class="hljs-params"></span>) {
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">  <span class="hljs-title function_">background</span>(<span class="hljs-number">255</span>);
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">  <span class="hljs-keyword">let</span> period = <span class="hljs-number">120</span>;
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">  <span class="hljs-keyword">let</span> amplitude = <span class="hljs-number">200</span>;
</code></pre><div class="comment"><p></p></div></div><div class="pair split"><pre><code class="hljs code language-javascript">  <span class="hljs-keyword">let</span> x = amplitude * <span class="hljs-title function_">sin</span>(<span class="hljs-variable constant_">TWO_PI</span> * frameCount / period);
</code></pre><div class="comment"><p>Обчислення горизонтального положення за формулою гармонічного коливання.</p></div></div><div class="pair"><pre><code class="hljs code language-javascript">  <span class="hljs-title function_">stroke</span>(<span class="hljs-number">0</span>);
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">  <span class="hljs-title function_">fill</span>(<span class="hljs-number">127</span>);
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">  <span class="hljs-title function_">translate</span>(width / <span class="hljs-number">2</span>, height / <span class="hljs-number">2</span>);
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">  <span class="hljs-title function_">line</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, x, <span class="hljs-number">0</span>);
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">  <span class="hljs-title function_">circle</span>(x, <span class="hljs-number">0</span>, <span class="hljs-number">48</span>);
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">}
</code></pre><div class="comment"><p></p></div></div></div>
<p>Перш ніж рушити далі, я згадаю про <strong>частоту</strong> — кількість циклів коливань за одиницю часу. Частота є оберненою величиною до періоду, тобто 1 поділена на період. Наприклад, якщо період становить 120 кадрів, тоді у першому кадрі завершується лише 1/120 періоду, отже частота дорівнює 1/120. У прикладі 3.5 я вирішив визначити швидкість коливань на основі періоду, тому мені не потрібна була змінна для частоти. Іноді, однак, більш корисним є мислення з точки зору частоти, а не періоду.</p>
<p></p>
<div data-type="exercise" class="callout">
  <h3 id="exercise-37"><a class="heading-link" href="#exercise-37">Вправа 3.7</a></h3>
  <p>Використовуючи функцію синуса, створіть імітацію тягарця (англійською його іноді називають <em>bob</em> — підвіс), який висітиме на пружині у верхній частині полотна. Використовуйте функцію <code>map()</code>, щоб обчислити вертикальне положення тягарця. Пізніше у частині цього розділу під назвою <a href="#spring-forces" class="page-reference">“Сила пружності”</a> я покажу, як створи ти цю саму симуляцію, моделюючи силу пружини згідно із законом Гука.</p>
</div>
<h2 id="oscillation-with-angular-velocity"><a class="heading-link" href="#oscillation-with-angular-velocity">Коливання з кутовою швидкістю</a></h2>
<p>Розуміння понять коливання, амплітуди й періоду (чи частоти) може бути важливим під час моделювання поведінки реального світу. Однак є трохи простіший спосіб реалізації гармонічного коливання з прикладу 3.5, який дає той самий результат з меншою кількістю змінних. Погляньте ще раз на формулу осциляції:</p>
<div class="codesplit callout not-prose" data-code-language="javascript"><div class="pair"><pre><code class="hljs code language-javascript"><span class="hljs-keyword">let</span> x = amplitude * <span class="hljs-title function_">sin</span>(<span class="hljs-variable constant_">TWO_PI</span> * frameCount / period);
</code></pre><div class="comment"><p></p></div></div></div>
<p>Зараз я перепишу її трохи по-іншому:</p>
<div class="codesplit callout not-prose" data-code-language="javascript"><div class="pair"><pre><code class="hljs code language-javascript"><span class="hljs-keyword">let</span> x = amplitude * <span class="hljs-title function_">sin</span>( якесь значення, що повільно збільшується );
</code></pre><div class="comment"><p></p></div></div></div>
<p>Якщо вам потрібно точне визначення періоду коливань у кадрах анімації, вам може знадобитися формула, яку я написав спочатку. Однак якщо вас не хвилює точний період — наприклад, якщо ви будете вибирати його випадковим чином — все, що вам справді потрібно всередині функції <code>sin()</code> це якесь значення, яке збільшується досить повільно, щоб рух об’єкта виглядав плавним від одного кадру до наступного. Щоразу, коли це значення ставатиме кратним <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn><mi>π</mi></mrow><annotation encoding="application/x-tex">2\pi</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em"></span><span class="mord">2</span><span class="mord mathnormal" style="margin-right:0.03588em">π</span></span></span></span></span>, об’єкт завершуватиме один цикл осциляції.</p>
<p>Ця техніка віддзеркалює те, що я зробив із шумом Перліна у <a href="/random#section-random">Розділі 0</a>. У тому випадку я збільшував змінну зміщення (яку я називав <code>t</code> або <code>xoff</code>), щоб вибирати різні результати функції <code>noise()</code>, створюючи плавний перехід значень. Тепер я збільшуватиму значення (я назву його <code>angle</code>), яке передається у функцію <code>sin()</code>. Відмінність полягає в тому, що результат від <code>sin()</code> це плавно повторювана синусоїда без будь-якої випадковості.</p>
<p>Вам може бути цікаво, чому я називаю змінну для збільшення значення <code>angle</code>, хоча видимого обертання самого об’єкта немає. Термін <em>кут</em> використовується, оскільки його значення передається у функцію <code>sin()</code>, а кути є традиційними вхідними даними для тригонометричних функцій. Маючи це на увазі, я можу повторно ввести поняття кутової швидкості (і прискорення), щоб переписати приклад для обчислення <code>x</code>-позиції в термінах зміни кута. Я заведу наступні глобальні змінні:</p>
<div class="codesplit callout not-prose" data-code-language="javascript"><div class="pair"><pre><code class="hljs code language-javascript"><span class="hljs-keyword">let</span> angle = <span class="hljs-number">0</span>;
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript"><span class="hljs-keyword">let</span> angleVelocity = <span class="hljs-number">0.05</span>;
</code></pre><div class="comment"><p></p></div></div></div>
<p>Потім я можу написати наступне:</p>
<div class="codesplit callout not-prose" data-code-language="javascript"><div class="pair"><pre><code class="hljs code language-javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">draw</span>(<span class="hljs-params"></span>) {
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">  angle += angleVelocity;
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">  <span class="hljs-keyword">let</span> x = amplitude * <span class="hljs-title function_">sin</span>(angle);
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">}
</code></pre><div class="comment"><p></p></div></div></div>
<p>Тут <code>angle</code> — це моє “значення, що повільно збільшується”, а кількість, на яку воно повільно збільшується — це <code>angleVelocity</code>.</p>
<div data-type="example">
  <h3 id="example-36-simple-harmonic-motion-ii"><a class="heading-link" href="#example-36-simple-harmonic-motion-ii">Приклад 3.6: Гармонічний рух II</a></h3>
  <figure>
    <div class="not-prose clear-both my-4 overflow-hidden rounded border bg-gray-100" style="max-width:1152px"><div class="relative overflow-hidden rounded-t bg-white"><!-- <div class="absolute left-[50%] top-[50%] -translate-x-[50%] -translate-y-[50%] ">Loading sketch ...</div> --><iframe class="w-full border-none transition-opacity opacity-1000" style="aspect-ratio:2.667" loading="lazy" src="./examples/03_oscillation/example_3_6_simple_harmonic_motion_ii"></iframe></div><div class="flex items-center justify-between border-t"><div class="flex"><button class="flex items-center border-r px-2.5 py-1.5 text-sm hover:bg-gray-200"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" aria-hidden="true" class="h-[15px] w-[15px]" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path></svg><span class="ml-1.5">Reset</span></button><button class="flex items-center border-r px-2.5 py-1.5 text-sm hover:bg-gray-200"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" aria-hidden="true" class="h-4 w-4" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" d="M10 9v6m4-6v6m7-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><span class="ml-1">Pause</span></button></div><a href="https://editor.p5js.org/natureofcode/sketches/gwdC8X-W-j" target="_blank" rel="noreferrer" class="flex items-center px-2.5 text-[0.8rem] hover:underline">Open in Web Editor<svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="ml-1 text-gray-500" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg></a></div></div>
    <figcaption></figcaption>
  </figure>
</div>
<div class="codesplit callout not-prose" data-code-language="javascript"><div class="pair"><pre><code class="hljs code language-javascript"><span class="hljs-keyword">let</span> angle = <span class="hljs-number">0</span>;
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript"><span class="hljs-keyword">let</span> angleVelocity = <span class="hljs-number">0.05</span>;
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">setup</span>(<span class="hljs-params"></span>) {
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">  <span class="hljs-title function_">createCanvas</span>(<span class="hljs-number">640</span>, <span class="hljs-number">240</span>);
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">}
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">draw</span>(<span class="hljs-params"></span>) {
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">  <span class="hljs-title function_">background</span>(<span class="hljs-number">255</span>);
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">  <span class="hljs-keyword">let</span> amplitude = <span class="hljs-number">200</span>;
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">  <span class="hljs-keyword">let</span> x = amplitude * <span class="hljs-title function_">sin</span>(angle);
</code></pre><div class="comment"><p></p></div></div><div class="pair split"><pre><code class="hljs code language-javascript">  angle += angleVelocity;
</code></pre><div class="comment"><p>Використання концепції кутової швидкості для збільшення змінної кута.</p></div></div><div class="pair"><pre><code class="hljs code language-javascript">  <span class="hljs-title function_">translate</span>(width / <span class="hljs-number">2</span>, height / <span class="hljs-number">2</span>);
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">  <span class="hljs-title function_">stroke</span>(<span class="hljs-number">0</span>);
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">  <span class="hljs-title function_">fill</span>(<span class="hljs-number">127</span>);
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">  <span class="hljs-title function_">line</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, x, <span class="hljs-number">0</span>);
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">  <span class="hljs-title function_">circle</span>(x, <span class="hljs-number">0</span>, <span class="hljs-number">48</span>);
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">}
</code></pre><div class="comment"><p></p></div></div></div>
<p>Тільки тому, що я не посилаюся на нього безпосередньо, ще не означає, що я виключив концепцію періоду. Зрештою чим більша кутова швидкість, тим швидше буде коливатися кулька (а отже, буде менший період). Насправді період — це кількість кадрів, необхідних для збільшення <code>angle</code> на <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn><mi>π</mi></mrow><annotation encoding="application/x-tex">2\pi</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em"></span><span class="mord">2</span><span class="mord mathnormal" style="margin-right:0.03588em">π</span></span></span></span></span>. Оскільки величина збільшення <code>angle</code> контролюється кутовою швидкістю, я можу обчислити період таким чином:</p>
<div data-type="equation" class="math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mtext>період</mtext><mo>=</mo><mn>2</mn><mi>π</mi><mi mathvariant="normal">/</mi><mtext>кутова швидкість</mtext></mrow><annotation encoding="application/x-tex">\text{період} = 2\pi / \text{кутова ш видкість}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em"></span><span class="mord text"><span class="mord cyrillic_fallback">період</span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord">2</span><span class="mord mathnormal" style="margin-right:0.03588em">π</span><span class="mord">/</span><span class="mord text"><span class="mord cyrillic_fallback">кутова</span><span class="mord"> </span><span class="mord cyrillic_fallback">швидкість</span></span></span></span></span></span></div>
<p>Щоб проілюструвати потужність мислення про коливання у термінах кутової швидкості, я трохи розширю приклад, створивши клас <code>Oscillator</code>, об’єкти якого можуть коливатися незалежно як вздовж вісі <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord mathnormal">x</span></span></span></span></span> (як і раніше), так і вздовж вісі <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>y</mi></mrow><annotation encoding="application/x-tex">y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em"></span><span class="mord mathnormal" style="margin-right:0.03588em">y</span></span></span></span></span>. У класі потрібні два кути, дві кутові швидкості та дві амплітуди (по одній для кожної вісі).</p>
<p>Це чудова нагода використати <code>createVector()</code> для упакування кожної пари значень разом! На відміну від попередніх векторів, значення в цих векторах не будуть наборами декартових координат. Проте, клас <code>p5.Vector</code> надає зручний спосіб керування парами значень — у цьому випадку парами кутів (і пов’язаними з ними швидкостями, прискореннями тощо).</p>
<div data-type="example">
  <h3 id="example-37-oscillator-objects"><a class="heading-link" href="#example-37-oscillator-objects">Приклад 3.7: Об’єкти осцилятора</a></h3>
  <figure>
    <div class="not-prose clear-both my-4 overflow-hidden rounded border bg-gray-100" style="max-width:1152px"><div class="relative overflow-hidden rounded-t bg-white"><!-- <div class="absolute left-[50%] top-[50%] -translate-x-[50%] -translate-y-[50%] ">Loading sketch ...</div> --><iframe class="w-full border-none transition-opacity opacity-1000" style="aspect-ratio:2.667" loading="lazy" src="./examples/03_oscillation/example_3_7_oscillator_objects"></iframe></div><div class="flex items-center justify-between border-t"><div class="flex"><button class="flex items-center border-r px-2.5 py-1.5 text-sm hover:bg-gray-200"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" aria-hidden="true" class="h-[15px] w-[15px]" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path></svg><span class="ml-1.5">Reset</span></button><button class="flex items-center border-r px-2.5 py-1.5 text-sm hover:bg-gray-200"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" aria-hidden="true" class="h-4 w-4" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" d="M10 9v6m4-6v6m7-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><span class="ml-1">Pause</span></button></div><a href="https://editor.p5js.org/natureofcode/sketches/b3HpgJa6F" target="_blank" rel="noreferrer" class="flex items-center px-2.5 text-[0.8rem] hover:underline">Open in Web Editor<svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="ml-1 text-gray-500" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg></a></div></div>
    <figcaption></figcaption>
  </figure>
</div>
<div class="codesplit callout not-prose" data-code-language="javascript"><div class="pair"><pre><code class="hljs code language-javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Oscillator</span>  {
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"></span>)  {
</code></pre><div class="comment"><p></p></div></div><div class="pair split"><pre><code class="hljs code language-javascript">    <span class="hljs-variable language_">this</span>.<span class="hljs-property">angle</span> = <span class="hljs-title function_">createVector</span>();
</code></pre><div class="comment"><p>Використання p5.Vector для відстеження двох кутів!</p></div></div><div class="continue pair split"><pre><code class="hljs code language-javascript">    <span class="hljs-variable language_">this</span>.<span class="hljs-property">angleVelocity</span> = <span class="hljs-title function_">createVector</span>(<span class="hljs-title function_">random</span>(-<span class="hljs-number">0.05</span>, <span class="hljs-number">0.05</span>), <span class="hljs-title function_">random</span>(-<span class="hljs-number">0.05</span>, <span class="hljs-number">0.05</span>));
</code></pre><div class="comment"><p></p></div></div><div class="pair split"><pre><code class="hljs code language-javascript">    <span class="hljs-variable language_">this</span>.<span class="hljs-property">amplitude</span> = <span class="hljs-title function_">createVector</span>(<span class="hljs-title function_">random</span>(<span class="hljs-number">20</span>, width / <span class="hljs-number">2</span>), <span class="hljs-title function_">random</span>(<span class="hljs-number">20</span>, height / <span class="hljs-number">2</span>));
</code></pre><div class="comment"><p>Випадкові швидкості і амплітуди.</p></div></div><div class="pair"><pre><code class="hljs code language-javascript">  }
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">  <span class="hljs-title function_">update</span>(<span class="hljs-params"></span>)  {
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">    <span class="hljs-variable language_">this</span>.<span class="hljs-property">angle</span>.<span class="hljs-title function_">add</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">angleVelocity</span>);
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">  }
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">  <span class="hljs-title function_">show</span>(<span class="hljs-params"></span>)  {
</code></pre><div class="comment"><p></p></div></div><div class="pair split"><pre><code class="hljs code language-javascript">    <span class="hljs-keyword">let</span> x = <span class="hljs-title function_">sin</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">angle</span>.<span class="hljs-property">x</span>) * <span class="hljs-variable language_">this</span>.<span class="hljs-property">amplitude</span>.<span class="hljs-property">x</span>;
</code></pre><div class="comment"><p>Коливання по вісі x.</p></div></div><div class="pair split"><pre><code class="hljs code language-javascript">    <span class="hljs-keyword">let</span> y = <span class="hljs-title function_">sin</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">angle</span>.<span class="hljs-property">y</span>) * <span class="hljs-variable language_">this</span>.<span class="hljs-property">amplitude</span>.<span class="hljs-property">y</span>;
</code></pre><div class="comment"><p>Коливання по вісі y.</p></div></div><div class="pair"><pre><code class="hljs code language-javascript">    <span class="hljs-title function_">push</span>();
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">    <span class="hljs-title function_">translate</span>(width / <span class="hljs-number">2</span>, height / <span class="hljs-number">2</span>);
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">    <span class="hljs-title function_">stroke</span>(<span class="hljs-number">0</span>);
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">    <span class="hljs-title function_">fill</span>(<span class="hljs-number">127</span>);
</code></pre><div class="comment"><p></p></div></div><div class="pair split"><pre><code class="hljs code language-javascript">    <span class="hljs-title function_">line</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, x, y);
    <span class="hljs-title function_">circle</span>(x, y, <span class="hljs-number">32</span>);
    <span class="hljs-title function_">pop</span>();
</code></pre><div class="comment"><p>Малювання осцилятора у вигляді лінії з кругом на його кінці.</p></div></div><div class="pair"><pre><code class="hljs code language-javascript">  }
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">}
</code></pre><div class="comment"><p></p></div></div></div>
<p>Щоб краще зрозуміти клас <code>Oscillator</code>, може бути корисно зосередитися в анімації на русі одного осцилятора. Спочатку спостерігайте за його горизонтальним рухом. Ви помітите, що він регулярно коливається вперед і назад уздовж вісі <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord mathnormal">x</span></span></span></span></span>. Перемкнувши вашу увагу на його вертикальний рух, ви побачите, як він коливається вгору-вниз уздовж вісі <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>y</mi></mrow><annotation encoding="application/x-tex">y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em"></span><span class="mord mathnormal" style="margin-right:0.03588em">y</span></span></span></span></span>. Кожен осцилятор має свій власний чіткий ритм, зумовлений випадковою ініціалізацією його кута, кутової швидкості й амплітуди.</p>
<p>Головне зрозуміти, що <code>x</code> і <code>y</code> властивості об’єктів типу <code>p5.Vector</code>, що наразі містяться у <code>this.angle</code>, <code>this.angleVelocity</code> і <code>this.amplitude</code> більше не пов’язані з просторовими векторами. Натомість вони використовуються для збереження відповідних властивостей для двох окремих коливань (одного вздовж вісі <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord mathnormal">x</span></span></span></span></span>, іншого вздовж вісі <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>y</mi></mrow><annotation encoding="application/x-tex">y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em"></span><span class="mord mathnormal" style="margin-right:0.03588em">y</span></span></span></span></span>). Зрештою, ці коливання проявляються просторово, коли <code>x</code> і <code>y</code> обчислюються в методі <code>show()</code>, відображаючи коливання на положення об’єкта.</p>
<div data-type="exercise" class="callout">
  <h3 id="exercise-38"><a class="heading-link" href="#exercise-38">Вправа 3.8</a></h3>
  <p>Спробуйте ініціалізувати кожен об’єкт <code>Oscillator</code> швидкістю й амплітудою, які не будуть випадковими, щоб створити якийсь регулярний патерн. Чи можете ви зробити так, щоб осцилятори виглядали як ноги комахоподібної істоти?</p>
</div>
<div data-type="exercise" class="callout">
  <h3 id="exercise-39"><a class="heading-link" href="#exercise-39">Вправа 3.9</a></h3>
  <p>Додайте у об’єкт <code>Oscillator</code> кутове прискорення.</p>
</div>
<h2 id="waves"><a class="heading-link" href="#waves">Хвилі</a></h2>
<p>Уявіть один круг, який коливається вгору і вниз відповідно до функції синуса. Це схоже на попередню симуляцію точки вздовж <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord mathnormal">x</span></span></span></span></span>-вісі синусоїди. З невеликою вигадкою та циклом <code>for</code>, ви можете анімувати всю хвилю, розмістивши цілу серію цих кругів один біля одного (малюнок 3.12).</p>
<figure data-type="example">
  <div class="not-prose clear-both my-4 overflow-hidden rounded border bg-gray-100" style="max-width:1152px"><div class="relative overflow-hidden rounded-t bg-white"><!-- <div class="absolute left-[50%] top-[50%] -translate-x-[50%] -translate-y-[50%] ">Loading sketch ...</div> --><iframe class="w-full border-none transition-opacity opacity-1000" style="aspect-ratio:2.667" loading="lazy" src="./examples/03_oscillation/example_3_9_the_wave"></iframe></div><div class="flex items-center justify-between border-t"><div class="flex"><button class="flex items-center border-r px-2.5 py-1.5 text-sm hover:bg-gray-200"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" aria-hidden="true" class="h-[15px] w-[15px]" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path></svg><span class="ml-1.5">Reset</span></button><button class="flex items-center border-r px-2.5 py-1.5 text-sm hover:bg-gray-200"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" aria-hidden="true" class="h-4 w-4" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" d="M10 9v6m4-6v6m7-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><span class="ml-1">Pause</span></button></div><a href="https://editor.p5js.org/natureofcode/sketches/qe6oK9F1o" target="_blank" rel="noreferrer" class="flex items-center px-2.5 text-[0.8rem] hover:underline">Open in Web Editor<svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="ml-1 text-gray-500" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg></a></div></div>
  <figcaption>Малюнок 3.12: Анімація синусоїди за допомоги коливальних кіл</figcaption>
</figure>
<p>Ви можете використовувати цей хвилястий шаблон для проєктування тіла чи кінцівок істоти або для імітації м’якої поверхні, такої як вода. Розглянемо, як працює код для цієї програми.</p>
<p>Тут застосовуються ті самі концепції амплітуди (висоти хвилі) і періоду (тривалості хвилі). Однак при малюванні всієї хвилі термін <em>період</em> змінює своє значення з представлення часу на опис ширини (у пікселях) повного періоду хвилі. Терміном для просторового періоду (на відміну від часового періоду) хвилі є <strong>довжина хвилі</strong> — відстань, яка потрібна хвилі для завершення одного повного циклу коливань. І так само як і в попередньому прикладі коливань, ви можете вибрати обчислення хвилеподібного патерну відповідно до точної довжини хвилі або довільно збільшити значення кута (<em>дельта кута</em>) для кожної точки у хвилі.</p>
<p>Я виберу простіший варіант зі збільшенням кута. Я знаю, що  мені потрібні три змінні: кут, дельта кута (аналогічний попередній кутовій швидкості) і амплітуда:</p>
<div class="codesplit callout not-prose" data-code-language="javascript"><div class="pair"><pre><code class="hljs code language-javascript"><span class="hljs-keyword">let</span> angle = <span class="hljs-number">0</span>;
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript"><span class="hljs-keyword">let</span> deltaAngle = <span class="hljs-number">0.2</span>;
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript"><span class="hljs-keyword">let</span> amplitude = <span class="hljs-number">100</span>;
</code></pre><div class="comment"><p></p></div></div></div>
<p>Потім я збираюся обійти всі <code>x</code>-значення кожної точки на хвилі. Наразі я додаватиму по 24 пікселі між сусідніми <code>x</code>-значеннями. Для кожного <code>x</code> я виконаю наступні три кроки:</p>
<ol>
  <li>Обчислення <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>y</mi></mrow><annotation encoding="application/x-tex">y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em"></span><span class="mord mathnormal" style="margin-right:0.03588em">y</span></span></span></span></span>-позиції відповідно до амплітуди й синуса кута.</li>
  <li>Малювання круга у точці <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(x, y)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord mathnormal" style="margin-right:0.03588em">y</span><span class="mclose">)</span></span></span></span></span>.</li>
  <li>Збільшення кута відповідно до дельти кута.</li>
</ol>
<p>У наступному прикладі ці кроки переведено у код.</p>
<div data-type="example">
  <h3 id="example-38-static-wave"><a class="heading-link" href="#example-38-static-wave">Приклад 3.8: Статична хвиля</a></h3>
  <figure>
    <div class="not-prose clear-both my-4 overflow-hidden rounded border bg-gray-100" style="max-width:1152px"><div class="relative overflow-hidden rounded-t bg-white"><!-- <div class="absolute left-[50%] top-[50%] -translate-x-[50%] -translate-y-[50%] ">Loading sketch ...</div> --><iframe class="w-full border-none transition-opacity opacity-1000" style="aspect-ratio:2.667" loading="lazy" src="./examples/03_oscillation/example_3_8_static_wave"></iframe></div><div class="flex items-center justify-between border-t"><div class="flex">
<!--      <button class="flex items-center border-r px-2.5 py-1.5 text-sm hover:bg-gray-200"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" aria-hidden="true" class="h-[15px] w-[15px]" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path></svg><span class="ml-1.5">Reset</span></button>-->
<!--      <button class="flex items-center border-r px-2.5 py-1.5 text-sm hover:bg-gray-200"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" aria-hidden="true" class="h-4 w-4" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" d="M10 9v6m4-6v6m7-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><span class="ml-1">Pause</span></button>-->
    </div><a href="https://editor.p5js.org/natureofcode/sketches/CQ19Yw0iT" target="_blank" rel="noreferrer" class="flex items-center px-2.5 text-[0.8rem] hover:underline">Open in Web Editor<svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="ml-1 text-gray-500" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg></a></div></div>
    <figcaption></figcaption>
  </figure>
</div>
<div class="codesplit callout not-prose" data-code-language="javascript"><div class="pair"><pre><code class="hljs code language-javascript"><span class="hljs-keyword">let</span> angle = <span class="hljs-number">0</span>;
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript"><span class="hljs-keyword">let</span> deltaAngle = <span class="hljs-number">0.2</span>;
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript"><span class="hljs-keyword">let</span> amplitude = <span class="hljs-number">100</span>;
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">setup</span>(<span class="hljs-params"></span>) {
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">  <span class="hljs-title function_">createCanvas</span>(<span class="hljs-number">640</span>, <span class="hljs-number">240</span>);
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">  <span class="hljs-title function_">background</span>(<span class="hljs-number">255</span>);
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">  <span class="hljs-title function_">stroke</span>(<span class="hljs-number">0</span>);
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">  <span class="hljs-title function_">fill</span>(<span class="hljs-number">127</span>, <span class="hljs-number">127</span>);
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> x = <span class="hljs-number">0</span>; x &lt;= width; x += <span class="hljs-number">24</span>) {
</code></pre><div class="comment"><p></p></div></div><div class="pair split"><pre><code class="hljs code language-javascript">    <span class="hljs-keyword">let</span> y = amplitude * <span class="hljs-title function_">sin</span>(angle);
</code></pre><div class="comment"><p>Крок 1: Обчислення y-позиції відповідно до амплітуди й синуса кута.</p></div></div><div class="pair split"><pre><code class="hljs code language-javascript">    <span class="hljs-title function_">circle</span>(x, y + height / <span class="hljs-number">2</span>, <span class="hljs-number">48</span>);
</code></pre><div class="comment"><p>Крок 2: Малювання круга у точці за координатами (x, y).</p></div></div><div class="pair split"><pre><code class="hljs code language-javascript">    angle += deltaAngle;
</code></pre><div class="comment"><p>Крок 3: Збільшення кута відповідно до дельти кута.</p></div></div><div class="pair"><pre><code class="hljs code language-javascript">  }
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">}
</code></pre><div class="comment"><p></p></div></div></div>
<p>Що станеться, якщо спробувати різні значення для <code>deltaAngle</code>? На малюнку 3.13 показано деякі варіанти.</p>
<figure>
  <div class="col-list">
    <div>
      <div class="not-prose clear-both my-4 overflow-hidden rounded border bg-gray-100" style="max-width:1152px"><div class="relative overflow-hidden rounded-t bg-white"><!-- <div class="absolute left-[50%] top-[50%] -translate-x-[50%] -translate-y-[50%] ">Loading sketch ...</div> --><iframe class="w-full border-none transition-opacity opacity-1000" style="aspect-ratio: 1 / 1;" loading="lazy" src="./examples/03_oscillation/example_3_9_the_wave_a"></iframe></div><div class="flex items-center justify-between border-t"><div class="flex"><!--<button class="flex items-center border-r px-2.5 py-1.5 text-sm hover:bg-gray-200"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" aria-hidden="true" class="h-[15px] w-[15px]" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path></svg></button><button class="flex items-center border-r px-2.5 py-1.5 text-sm hover:bg-gray-200"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" aria-hidden="true" class="h-4 w-4" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" d="M10 9v6m4-6v6m7-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><span class="ml-1">Pause</span></button>--></div><a href="https://editor.p5js.org/natureofcode/sketches/S9l2FSS_M" target="_blank" rel="noreferrer" class="flex items-center px-2.5 text-[0.8rem] hover:underline">Open in Web Editor<svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="ml-1 text-gray-500" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg></a></div></div>
    </div>
    <div>
      <div class="not-prose clear-both my-4 overflow-hidden rounded border bg-gray-100" style="max-width:1152px"><div class="relative overflow-hidden rounded-t bg-white"><!-- <div class="absolute left-[50%] top-[50%] -translate-x-[50%] -translate-y-[50%] ">Loading sketch ...</div> --><iframe class="w-full border-none transition-opacity opacity-1000" style="aspect-ratio: 1 / 1;" loading="lazy" src="./examples/03_oscillation/example_3_9_the_wave_b"></iframe></div><div class="flex items-center justify-between border-t"><div class="flex"><!--<button class="flex items-center border-r px-2.5 py-1.5 text-sm hover:bg-gray-200"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" aria-hidden="true" class="h-[15px] w-[15px]" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path></svg></button><button class="flex items-center border-r px-2.5 py-1.5 text-sm hover:bg-gray-200"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" aria-hidden="true" class="h-4 w-4" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" d="M10 9v6m4-6v6m7-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><span class="ml-1">Pause</span></button>--></div><a href="https://editor.p5js.org/natureofcode/sketches/0oH4O6Y0d" target="_blank" rel="noreferrer" class="flex items-center px-2.5 text-[0.8rem] hover:underline">Open in Web Editor<svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="ml-1 text-gray-500" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg></a></div></div>
    </div>
    <div>
      <div class="not-prose clear-both my-4 overflow-hidden rounded border bg-gray-100" style="max-width:1152px"><div class="relative overflow-hidden rounded-t bg-white"><!-- <div class="absolute left-[50%] top-[50%] -translate-x-[50%] -translate-y-[50%] ">Loading sketch ...</div> --><iframe class="w-full border-none transition-opacity opacity-1000" style="aspect-ratio: 1 / 1;" loading="lazy" src="./examples/03_oscillation/example_3_9_the_wave_c"></iframe></div><div class="flex items-center justify-between border-t"><div class="flex"><!--<button class="flex items-center border-r px-2.5 py-1.5 text-sm hover:bg-gray-200"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" aria-hidden="true" class="h-[15px] w-[15px]" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path></svg></button><button class="flex items-center border-r px-2.5 py-1.5 text-sm hover:bg-gray-200"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" aria-hidden="true" class="h-4 w-4" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" d="M10 9v6m4-6v6m7-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><span class="ml-1">Pause</span></button>--></div><a href="https://editor.p5js.org/natureofcode/sketches/3msqsP8ZD" target="_blank" rel="noreferrer" class="flex items-center px-2.5 text-[0.8rem] hover:underline">Open in Web Editor<svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="ml-1 text-gray-500" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg></a></div></div>
    </div>
  </div>
  <figcaption>Малюнок 3.13: Три синусоїди з різними значеннями змінної <code>deltaAngle</code> (зліва направо: 0.05, 0.2, 0.6)</figcaption>
</figure>
<p>Хоча я не обчислюю довжину хвилі точно, можна побачити, що чим більша зміна кута, тим коротша довжина хвилі. Також варто зазначити, що зі зменшенням довжини хвилі стає важче розрізнити саму хвилю, оскільки вертикальна відстань між окремими точками збільшується.</p>
<p>Зверніть увагу, що все в прикладі 3.8 відбувається всередині функції <code>setup()</code>, тому результат є статичним. Хвиля ніколи не змінюється і не коливається. Додавання руху трохи складніше. Ваша перша думка може бути такою: “Гей, не проблема, я просто розміщу цикл <code>for</code> всередині функції <code>draw()</code> і дозволю змінній <code>angle</code> продовжувати збільшуватись від одного циклу до наступного”.</p>
<p>Це гарна думка, але вона не спрацює. Якщо ви спробуєте це, результат виглядатиме надзвичайно нестабільно і глючно. Щоб зрозуміти чому, подивіться на приклад 3.8. Правий край хвилі не збігається з висотою лівого краю, тому те місце, де хвиля закінчується в одному циклі функції <code>draw()</code> не буде там, де вона починається у наступному. Замість цього вам потрібна змінна, повністю призначена для відстеження початкового значення <code>angle</code> у кожному кадрі анімації. Ця змінна (яку я назву <code>startAngle</code>) збільшується у власному темпі, контролюючи, наскільки хвиля просувається від одного кадру до наступного.</p>
<div data-type="example">
  <h3 id="example-39-the-wave"><a class="heading-link" href="#example-39-the-wave">Приклад 3.9: Хвиля</a></h3>
  <figure data-type="example">
    <div class="not-prose clear-both my-4 overflow-hidden rounded border bg-gray-100" style="max-width:1152px"><div class="relative overflow-hidden rounded-t bg-white"><!-- <div class="absolute left-[50%] top-[50%] -translate-x-[50%] -translate-y-[50%] ">Loading sketch ...</div> --><iframe class="w-full border-none transition-opacity opacity-1000" style="aspect-ratio:2.667" loading="lazy" src="./examples/03_oscillation/example_3_9_the_wave"></iframe></div><div class="flex items-center justify-between border-t"><div class="flex"><button class="flex items-center border-r px-2.5 py-1.5 text-sm hover:bg-gray-200"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" aria-hidden="true" class="h-[15px] w-[15px]" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path></svg><span class="ml-1.5">Reset</span></button><button class="flex items-center border-r px-2.5 py-1.5 text-sm hover:bg-gray-200"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" aria-hidden="true" class="h-4 w-4" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" d="M10 9v6m4-6v6m7-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><span class="ml-1">Pause</span></button></div><a href="https://editor.p5js.org/natureofcode/sketches/qe6oK9F1o" target="_blank" rel="noreferrer" class="flex items-center px-2.5 text-[0.8rem] hover:underline">Open in Web Editor<svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="ml-1 text-gray-500" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg></a></div></div>
    <figcaption></figcaption>
  </figure>
</div>
<div class="codesplit callout not-prose" data-code-language="javascript"><div class="pair split"><pre><code class="hljs code language-javascript"><span class="hljs-keyword">let</span> startAngle = <span class="hljs-number">0</span>;
</code></pre><div class="comment"><p>Нова глобальна змінна для відстеження початкового кута хвилі.</p></div></div><div class="pair"><pre><code class="hljs code language-javascript"><span class="hljs-keyword">let</span> deltaAngle = <span class="hljs-number">0.2</span>;
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">setup</span>(<span class="hljs-params"></span>) {
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">  <span class="hljs-title function_">createCanvas</span>(<span class="hljs-number">640</span>, <span class="hljs-number">240</span>);
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">}
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">draw</span>(<span class="hljs-params"></span>) {
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">  <span class="hljs-title function_">background</span>(<span class="hljs-number">255</span>);
</code></pre><div class="comment"><p></p></div></div><div class="pair split"><pre><code class="hljs code language-javascript">  <span class="hljs-keyword">let</span> angle = startAngle;
</code></pre><div class="comment"><p>Щоразу під час малювання, значення для кута який збільшується, встановлюється зі змінної startAngle.</p></div></div><div class="pair"><pre><code class="hljs code language-javascript">  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> x = <span class="hljs-number">0</span>; x &lt;= width; x += <span class="hljs-number">24</span>) {
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">    <span class="hljs-keyword">let</span> y = <span class="hljs-title function_">map</span>(<span class="hljs-title function_">sin</span>(angle), -<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, height);
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">    <span class="hljs-title function_">stroke</span>(<span class="hljs-number">0</span>);
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">    <span class="hljs-title function_">fill</span>(<span class="hljs-number">127</span>, <span class="hljs-number">127</span>);
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">    <span class="hljs-title function_">circle</span>(x, y, <span class="hljs-number">48</span>);
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">    angle += deltaAngle;
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">  }
</code></pre><div class="comment"><p></p></div></div><div class="pair split"><pre><code class="hljs code language-javascript">  startAngle += <span class="hljs-number">0.02</span>;
</code></pre><div class="comment"><p>Збільшення початкового кута.</p></div></div><div class="pair"><pre><code class="hljs code language-javascript">}
</code></pre><div class="comment"><p></p></div></div></div>
<p>У цьому прикладі коду приріст <code>startAngle</code> жорстко закодовано значенням <code>0.02</code>, але ви можете розглянути можливість повторного використання <code>deltaAngle</code> або створення другої змінної. При перевикористанні <code>deltaAngle</code>, просторова прогресія хвилі буде пов’язана з часом, що, можливо, створить більш синхронізований рух. Введення окремої змінної, наприклад <code>startAngleVelocity</code>, дозволить незалежне керування швидкістю хвилі. Термін <em>швидкість</em> тут доречний, оскільки початковий кут змінюється з часом.</p>
<div data-type="exercise" class="callout">
  <h3 id="exercise-310"><a class="heading-link" href="#exercise-310">Вправа 3.10</a></h3>
  <p>Спробуйте використати функцію шуму Перліна замість синуса або косинуса, щоб встановити <code>y</code>-значення у прикладі 3.9.</p>
</div>
<div data-type="exercise" class="callout">
  <h3 id="exercise-311"><a class="heading-link" href="#exercise-311">Вправа 3.11</a></h3>
  <p>Інкапсулюйте код генерації хвилі у клас <code>Wave</code> і створіть програму, яка відображає дві хвилі (з різними амплітудами/періодами), як показано на наступному зображені. Спробуйте вийти за межі простих кругів і ліній, щоб візуалізувати хвилю більш творчо. Як щодо з’єднання точок за допомогою <code>beginShape()</code>, <code>endShape()</code> і <code>vertex()</code>?</p>
  <figure data-type="example">
    <div class="not-prose clear-both my-4 overflow-hidden rounded border bg-gray-100" style="max-width:1152px"><div class="relative overflow-hidden rounded-t bg-white"><!-- <div class="absolute left-[50%] top-[50%] -translate-x-[50%] -translate-y-[50%] ">Loading sketch ...</div> --><iframe class="w-full border-none transition-opacity opacity-1000" style="aspect-ratio:2.667" loading="lazy" src="./examples/03_oscillation/exercise_3_10_oop_wave"></iframe></div><div class="flex items-center justify-between border-t"><div class="flex"><button class="flex items-center border-r px-2.5 py-1.5 text-sm hover:bg-gray-200"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" aria-hidden="true" class="h-[15px] w-[15px]" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path></svg><span class="ml-1.5">Reset</span></button><button class="flex items-center border-r px-2.5 py-1.5 text-sm hover:bg-gray-200"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" aria-hidden="true" class="h-4 w-4" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" d="M10 9v6m4-6v6m7-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><span class="ml-1">Pause</span></button></div><a href="https://editor.p5js.org/natureofcode/sketches/pHZjnSDrR" target="_blank" rel="noreferrer" class="flex items-center px-2.5 text-[0.8rem] hover:underline">Open in Web Editor<svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="ml-1 text-gray-500" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg></a></div></div>
    <figcaption></figcaption>
  </figure>
</div>
<div data-type="exercise" class="callout">
  <h3 id="exercise-312"><a class="heading-link" href="#exercise-312">Вправа 3.12</a></h3>
  <p>Для створення складнішої хвилі, ви можете додати кілька хвиль разом. Обчисліть значення висоти (або <code>y</code>) для кількох різних хвиль і додайте ці значення разом, щоб отримати єдине значення <code>y</code>. Результатом стане нова хвиля, яка міститиме у собі характеристики кожної окремої хвилі.</p>
  <figure data-type="example">
    <div class="not-prose clear-both my-4 overflow-hidden rounded border bg-gray-100" style="max-width:1152px"><div class="relative overflow-hidden rounded-t bg-white"><!-- <div class="absolute left-[50%] top-[50%] -translate-x-[50%] -translate-y-[50%] ">Loading sketch ...</div> --><iframe class="w-full border-none transition-opacity opacity-1000" style="aspect-ratio:2.667" loading="lazy" src="./examples/03_oscillation/exercise_3_11_additive_wave"></iframe></div><div class="flex items-center justify-between border-t"><div class="flex"><button class="flex items-center border-r px-2.5 py-1.5 text-sm hover:bg-gray-200"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" aria-hidden="true" class="h-[15px] w-[15px]" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path></svg><span class="ml-1.5">Reset</span></button><button class="flex items-center border-r px-2.5 py-1.5 text-sm hover:bg-gray-200"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" aria-hidden="true" class="h-4 w-4" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" d="M10 9v6m4-6v6m7-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><span class="ml-1">Pause</span></button></div><a href="https://editor.p5js.org/natureofcode/sketches/lUxbHeeHLH" target="_blank" rel="noreferrer" class="flex items-center px-2.5 text-[0.8rem] hover:underline">Open in Web Editor<svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="ml-1 text-gray-500" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg></a></div></div>
    <figcaption></figcaption>
  </figure>
</div>
<h2 id="spring-forces"><a class="heading-link" href="#spring-forces">Сила пружності</a></h2>
<div class="half-width-right">
  <figure>
    <div data-gatsby-image-wrapper="" class="gatsby-image-wrapper gatsby-image-wrapper-constrained"><div style="max-width:1152px;display:block"><img alt="" role="presentation" aria-hidden="true" src="data:image/svg+xml;charset=utf-8,%3Csvg height=&#x27;1261&#x27; width=&#x27;1152&#x27; xmlns=&#x27;http://www.w3.org/2000/svg&#x27; version=&#x27;1.1&#x27;%3E%3C/svg%3E" style="max-width:100%;display:block;position:static"/></div><div aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear;background-color:#f8f8f8;position:absolute;top:0;left:0;bottom:0;right:0"></div><picture><source type="image/webp" data-srcset="./static/70f4ca8729ecd7ccddf0cb9d1c75c705/ffb83/03_oscillation_11.webp 288w,./static/70f4ca8729ecd7ccddf0cb9d1c75c705/d9031/03_oscillation_11.webp 576w,./static/70f4ca8729ecd7ccddf0cb9d1c75c705/02303/03_oscillation_11.webp 1152w" sizes="(min-width: 1152px) 1152px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 1152px) 1152px, 100vw" decoding="async" loading="lazy" data-src="./static/70f4ca8729ecd7ccddf0cb9d1c75c705/2ee01/03_oscillation_11.png" data-srcset="./static/70f4ca8729ecd7ccddf0cb9d1c75c705/b7c72/03_oscillation_11.png 288w,./static/70f4ca8729ecd7ccddf0cb9d1c75c705/6748c/03_oscillation_11.png 576w,./static/70f4ca8729ecd7ccddf0cb9d1c75c705/2ee01/03_oscillation_11.png 1152w" alt="Малюнок 3.14: Пружина з опорою (якорем) і тягарцем"/></picture><noscript><picture><source type="image/webp" srcSet="./static/70f4ca8729ecd7ccddf0cb9d1c75c705/ffb83/03_oscillation_11.webp 288w,./static/70f4ca8729ecd7ccddf0cb9d1c75c705/d9031/03_oscillation_11.webp 576w,./static/70f4ca8729ecd7ccddf0cb9d1c75c705/02303/03_oscillation_11.webp 1152w" sizes="(min-width: 1152px) 1152px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 1152px) 1152px, 100vw" decoding="async" loading="lazy" src="./static/70f4ca8729ecd7ccddf0cb9d1c75c705/2ee01/03_oscillation_11.png" srcSet="./static/70f4ca8729ecd7ccddf0cb9d1c75c705/b7c72/03_oscillation_11.png 288w,./static/70f4ca8729ecd7ccddf0cb9d1c75c705/6748c/03_oscillation_11.png 576w,./static/70f4ca8729ecd7ccddf0cb9d1c75c705/2ee01/03_oscillation_11.png 1152w" alt="Малюнок 3.14: Пружина з опорою (якорем) і тягарцем"/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1,e.parentNode.parentNode.querySelector("[data-placeholder-image]").style.opacity=0)}}</script></div>
    <figcaption>Малюнок 3.14: Пружина з опорою (якорем) і тягарцем</figcaption>
  </figure>
</div>
<p>Досліджувати математику трикутників і хвиль було чудово, але можливо, ви почали сумувати за законами руху Ньютона та векторами. Зрештою, суть цієї книги — моделювання фізики рухомих тіл. У секції про <a href="#properties-of-oscillation" class="page-reference">“Властивості коливань”</a>, я змоделював простий гармонічний рух, зобразивши синусоїду розтягнуту на діапазон пікселів полотна. Вправа 3.7 пропонувала вам використати підхід із функцією <code>sin()</code>, щоб створити симуляцію з тягарцем, що висить на пружині. Однак таке швидке й брудне рішення з одним рядком коду не підійде, якщо ви дійсно хочете, щоб тягарець, що висить на пружині, реагував на інші сили свого середовища (вітер, гравітацію тощо). Щоб досягти такої симуляції, вам потрібно змоделювати силу пружності за допомогою векторів.</p>
<p>Я розглядатиму пружину як з’єднання між рухомим тягарцем і нерухомою опорною точкою, інакше кажучи, опорою чи якорем (див. малюнок 3.14).</p>
<div class="half-width-right">
  <figure>
    <div data-gatsby-image-wrapper="" class="gatsby-image-wrapper gatsby-image-wrapper-constrained"><div style="max-width:1152px;display:block"><img alt="" role="presentation" aria-hidden="true" src="data:image/svg+xml;charset=utf-8,%3Csvg height=&#x27;1125&#x27; width=&#x27;1152&#x27; xmlns=&#x27;http://www.w3.org/2000/svg&#x27; version=&#x27;1.1&#x27;%3E%3C/svg%3E" style="max-width:100%;display:block;position:static"/></div><div aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear;background-color:#f8f8f8;position:absolute;top:0;left:0;bottom:0;right:0"></div><picture><source type="image/webp" data-srcset="./static/c260ecf39ae70c9cceb88d0976bf007c/5d70f/03_oscillation_12.webp 288w,./static/c260ecf39ae70c9cceb88d0976bf007c/1f75a/03_oscillation_12.webp 576w,./static/c260ecf39ae70c9cceb88d0976bf007c/30e77/03_oscillation_12.webp 1152w" sizes="(min-width: 1152px) 1152px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 1152px) 1152px, 100vw" decoding="async" loading="lazy" data-src="./static/c260ecf39ae70c9cceb88d0976bf007c/986ed/03_oscillation_12.png" data-srcset="./static/c260ecf39ae70c9cceb88d0976bf007c/a424b/03_oscillation_12.png 288w,./static/c260ecf39ae70c9cceb88d0976bf007c/66e41/03_oscillation_12.png 576w,./static/c260ecf39ae70c9cceb88d0976bf007c/986ed/03_oscillation_12.png 1152w" alt="Малюнок 3.15: Розтяг пружини (x) є різницею між її поточною довжиною та її довжиною у спокої"/></picture><noscript><picture><source type="image/webp" srcSet="./static/c260ecf39ae70c9cceb88d0976bf007c/5d70f/03_oscillation_12.webp 288w,./static/c260ecf39ae70c9cceb88d0976bf007c/1f75a/03_oscillation_12.webp 576w,./static/c260ecf39ae70c9cceb88d0976bf007c/30e77/03_oscillation_12.webp 1152w" sizes="(min-width: 1152px) 1152px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 1152px) 1152px, 100vw" decoding="async" loading="lazy" src="./static/c260ecf39ae70c9cceb88d0976bf007c/986ed/03_oscillation_12.png" srcSet="./static/c260ecf39ae70c9cceb88d0976bf007c/a424b/03_oscillation_12.png 288w,./static/c260ecf39ae70c9cceb88d0976bf007c/66e41/03_oscillation_12.png 576w,./static/c260ecf39ae70c9cceb88d0976bf007c/986ed/03_oscillation_12.png 1152w" alt="Малюнок 3.15: Розтяг пружини (x) є різницею між її поточною довжиною та її довжиною у спокої"/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1,e.parentNode.parentNode.querySelector("[data-placeholder-image]").style.opacity=0)}}</script></div>
    <figcaption>Малюнок 3.15: Розтяг пружини (<span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord mathnormal">x</span></span></span></span></span>) є різницею між її поточною довжиною та її довжиною у спокої</figcaption>
  </figure>
</div>
<p>Сила пружності — це вектор, обчислений згідно із законом Гука, названим на честь Роберта Гука, британського фізика, який розробив формулу в 1660 році. Гук спочатку виклав закон латинською мовою: “<em>Ut tensio, sic vis</em>” або “Який розтяг, така й сила”. Подумайте про це наступним чином:</p>
<p><span class="callout highlight">Сила пружності прямо пропорційна розтягу пружини.</span></p>
<p>Розтяг є мірою того, наскільки пружина була розтягнута або стиснута: як показано на малюнку 3.15, це різниця між поточною довжиною пружини та її довжиною в стані спокою (її станом рівноваги). Отже, закон Гука говорить, що якщо ви дуже тягнете за тягарець, то сила пружності буде великою, а якщо тягнете трохи, то сила буде слабкою.</p>
<p>Математично закон виражається так:</p>
<div data-type="equation" class="math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>F</mi><mrow><mi>s</mi><mi>p</mi><mi>r</mi><mi>i</mi><mi>n</mi><mi>g</mi></mrow></msub><mo>=</mo><mo>−</mo><mi>k</mi><mi>x</mi></mrow><annotation encoding="application/x-tex">F_{spring} = -kx</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9694em;vertical-align:-0.2861em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">s</span><span class="mord mathnormal mtight">p</span><span class="mord mathnormal mtight" style="margin-right:0.02778em">r</span><span class="mord mathnormal mtight">in</span><span class="mord mathnormal mtight" style="margin-right:0.03588em">g</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.7778em;vertical-align:-0.0833em"></span><span class="mord">−</span><span class="mord mathnormal" style="margin-right:0.03148em">k</span><span class="mord mathnormal">x</span></span></span></span></span></div>
<p>Тут <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em"></span><span class="mord mathnormal" style="margin-right:0.03148em">k</span></span></span></span></span> — це <em>коефіцієнт жорсткості</em>. Його значення масштабує силу, встановлюючи, наскільки еластичною або жорсткою є пружина. Тим часом <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord mathnormal">x</span></span></span></span></span> — це видовження, поточна довжина мінус довжина спокою.</p>
<p>Тепер згадайте, що сила — це вектор, тому вам потрібно обчислити і його величину і його напрямок. Кодування я почну з наступних трьох змінних: по вектору для позицій опори й тягарця та ще одна змінна для довжини пружини у спокої:</p>
<div class="codesplit callout not-prose" data-code-language="javascript"><div class="pair split"><pre><code class="hljs code language-javascript"><span class="hljs-keyword">let</span> anchor = <span class="hljs-title function_">createVector</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>);
<span class="hljs-keyword">let</span> bob = <span class="hljs-title function_">createVector</span>(<span class="hljs-number">0</span>, <span class="hljs-number">120</span>);
<span class="hljs-keyword">let</span> restLength = <span class="hljs-number">100</span>;
</code></pre><div class="comment"><p>Вибір довільних значень для позицій і довжини у спокої.</p></div></div></div>
<p>Далі я використаю закон Гука для обчислення величини сили. Для цього мені потрібні <code>k</code> і <code>x</code>. Розрахувати <code>k</code> легко — це просто константа, що залежить від матеріалу і форми пружини, тому наразі я вигадаю її значення:</p>
<div class="codesplit callout not-prose" data-code-language="javascript"><div class="pair"><pre><code class="hljs code language-javascript"><span class="hljs-keyword">let</span> k = <span class="hljs-number">0.1</span>;
</code></pre><div class="comment"><p></p></div></div></div>
<p>Знайти <code>x</code>, можливо, трохи складніше. Мені потрібно знати різницю між поточною довжиною пружини і її довжиною у стані спокою. Довжина у спокої визначається у змінній <code>restLength</code>. Яка поточна довжина? Відстань між опорою і тягарцем. І як я можу розрахувати цю відстань? Як щодо магнітуди вектора, який вказує від опорної точки до тягарця? (Зауважте, що це точно такий самий процес, який я використовував для обчислення відстані між об’єктами для обчислення гравітаційного тяжіння у <a href="/forces#section-forces">Розділі 2</a>.)</p>
<div class="codesplit callout not-prose" data-code-language="javascript"><div class="pair split"><pre><code class="hljs code language-javascript"><span class="hljs-keyword">let</span> dir = p5.<span class="hljs-property">Vector</span>.<span class="hljs-title function_">sub</span>(bob, anchor);
</code></pre><div class="comment"><p>Вектор, що вказує від опори до тягарця, дає вам поточну довжину пружини.</p></div></div><div class="pair"><pre><code class="hljs code language-javascript"><span class="hljs-keyword">let</span> currentLength = dir.<span class="hljs-title function_">mag</span>();
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript"><span class="hljs-keyword">let</span> x = currentLength - restLength;
</code></pre><div class="comment"><p></p></div></div></div>
<p>Тепер, коли я розібрався зі складовими, необхідними для визначення величини сили (<span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>−</mo><mi>k</mi><mi>x</mi></mrow><annotation encoding="application/x-tex">-kx</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7778em;vertical-align:-0.0833em"></span><span class="mord">−</span><span class="mord mathnormal" style="margin-right:0.03148em">k</span><span class="mord mathnormal">x</span></span></span></span></span>), мені потрібно визначити напрямок сили у вигляді одиничного вектору. Хороша новина в тому, що я вже маю цей вектор. Правильно? Мить тому я поставив запитання “Як я можу розрахувати цю відстань?” і відповів “Як щодо магнітуди вектора, який вказує від опорної точки до тягарця”? Цей вектор описує і напрямок сили!</p>
<p>На малюнку 3.16 показано, що якщо ви розтягнете пружину понад її довжину в стані спокою, має виникнути сила, яка буде тягнути її назад до якоря. А якщо пружину стиснути менше за її довжину спокою, то утворена сила повинна відштовхнути її від якоря. Формула закону Гука враховує цю зміну напрямку за допомоги -1.</p>
<figure>
  <div data-gatsby-image-wrapper="" class="gatsby-image-wrapper gatsby-image-wrapper-constrained"><div style="max-width:2304px;display:block"><img alt="" role="presentation" aria-hidden="true" src="data:image/svg+xml;charset=utf-8,%3Csvg height=&#x27;1111&#x27; width=&#x27;2304&#x27; xmlns=&#x27;http://www.w3.org/2000/svg&#x27; version=&#x27;1.1&#x27;%3E%3C/svg%3E" style="max-width:100%;display:block;position:static"/></div><div aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear;background-color:#f8f8f8;position:absolute;top:0;left:0;bottom:0;right:0"></div><picture><source type="image/webp" data-srcset="./static/a83ebf2c4bd1d97ae8d6d572bb889fbd/baa5a/03_oscillation_13.webp 576w,./static/a83ebf2c4bd1d97ae8d6d572bb889fbd/992d5/03_oscillation_13.webp 1152w,./static/a83ebf2c4bd1d97ae8d6d572bb889fbd/63860/03_oscillation_13.webp 2304w" sizes="(min-width: 2304px) 2304px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 2304px) 2304px, 100vw" decoding="async" loading="lazy" data-src="./static/a83ebf2c4bd1d97ae8d6d572bb889fbd/53bc4/03_oscillation_13.png" data-srcset="./static/a83ebf2c4bd1d97ae8d6d572bb889fbd/0a6de/03_oscillation_13.png 576w,./static/a83ebf2c4bd1d97ae8d6d572bb889fbd/31e0e/03_oscillation_13.png 1152w,./static/a83ebf2c4bd1d97ae8d6d572bb889fbd/53bc4/03_oscillation_13.png 2304w" alt="Малюнок 3.16: Сила пружності сп рямована у протилежний напрямок від деформації"/></picture><noscript><picture><source type="image/webp" srcSet="./static/a83ebf2c4bd1d97ae8d6d572bb889fbd/baa5a/03_oscillation_13.webp 576w,./static/a83ebf2c4bd1d97ae8d6d572bb889fbd/992d5/03_oscillation_13.webp 1152w,./static/a83ebf2c4bd1d97ae8d6d572bb889fbd/63860/03_oscillation_13.webp 2304w" sizes="(min-width: 2304px) 2304px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 2304px) 2304px, 100vw" decoding="async" loading="lazy" src="./static/a83ebf2c4bd1d97ae8d6d572bb889fbd/53bc4/03_oscillation_13.png" srcSet="./static/a83ebf2c4bd1d97ae8d6d572bb889fbd/0a6de/03_oscillation_13.png 576w,./static/a83ebf2c4bd1d97ae8d6d572bb889fbd/31e0e/03_oscillation_13.png 1152w,./static/a83ebf2c4bd1d97ae8d6d572bb889fbd/53bc4/03_oscillation_13.png 2304w" alt="Малюнок 3.16: Сила пружності спрямована у протилежний напрямок від деформації"/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1,e.parentNode.parentNode.querySelector("[data-placeholder-image]").style.opacity=0)}}</script></div>
  <figcaption>Малюнок 3.16: Сила пружності спрямована у протилежний напрямок від деформації</figcaption>
</figure>
<p>Зараз мені потрібно лише встановити величину вектора, яка використовується для обчислення відстані. Подивимось на код і перейменуємо цю векторну змінну на <code>force</code>:</p>
<div class="codesplit callout not-prose" data-code-language="javascript"><div class="pair split"><pre><code class="hljs code language-javascript"><span class="hljs-keyword">let</span> k = <span class="hljs-number">0.1</span>;
<span class="hljs-keyword">let</span> force = p5.<span class="hljs-property">Vector</span>.<span class="hljs-title function_">sub</span>(bob, anchor);
<span class="hljs-keyword">let</span> currentLength = force.<span class="hljs-title function_">mag</span>();
<span class="hljs-keyword">let</span> x = currentLength - restLength;
</code></pre><div class="comment"><p>Величина сили пружності відповідно до закону Гука.</p></div></div><div class="pair split"><pre><code class="hljs code language-javascript">force.<span class="hljs-title function_">setMag</span>(-<span class="hljs-number">1</span> * k * x);
</code></pre><div class="comment"><p>Збираємо все разом: напрямок і величину!</p></div></div></div>
<p>Тепер, коли я маю алгоритм для обчислення сили пружності, залишається питання: яку структуру ООП мені слід використовувати? Це одна з тих ситуацій, у яких немає правильної відповіді. Є кілька можливостей: яку я виберу, залежить від моїх цілей і особистого стилю програмування.</p>
<p>Оскільки я весь час працював з класом <code>Mover</code>, я буду дотримуватися тієї самої структури. Я буду думати про клас <code>Mover</code>, як про “тягарець” на пружині. Тягарцю для переміщення по полотну потрібні вектори <code>position</code>, <code>velocity</code> і <code>acceleration</code>. Ідеально — у мене все це вже є! І можливо, тягарець також відчуває силу тяжіння за допомогою методу <code>applyForce()</code>. Залишається лише один крок до застосування сили пружності:</p>
<div class="codesplit callout not-prose" data-code-language="javascript"><div class="pair"><pre><code class="hljs code language-javascript"><span class="hljs-keyword">let</span> bob;
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">setup</span>(<span class="hljs-params"></span>) {
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">  bob = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Bob</span>();
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">}
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">draw</span>(<span class="hljs-params"></span>)  {
</code></pre><div class="comment"><p></p></div></div><div class="pair split"><pre><code class="hljs code language-javascript">  <span class="hljs-keyword">let</span> gravity = <span class="hljs-title function_">createVector</span>(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>);
  bob.<span class="hljs-title function_">applyForce</span>(gravity);
</code></pre><div class="comment"><p>Вигадана сила тяжіння з Розділу 2.</p></div></div><div class="pair split"><pre><code class="hljs code language-javascript">  <span class="hljs-keyword">let</span> springForce = _______________????
  bob.<span class="hljs-title function_">applyForce</span>(springForce);
</code></pre><div class="comment"><p>Також мені потрібно розрахувати і застосувати силу пружності!</p></div></div><div class="pair split"><pre><code class="hljs code language-javascript">  bob.<span class="hljs-title function_">update</span>();
  bob.<span class="hljs-title function_">show</span>();
</code></pre><div class="comment"><p>Стандартні методи update() і show().</p></div></div><div class="pair"><pre><code class="hljs code language-javascript">}
</code></pre><div class="comment"><p></p></div></div></div>
<p>Як варіант можна було б записати весь код сили пружності в основній функції <code>draw()</code>. Але подумавши про те, що у вас може бути кілька тягарців і пружинних з’єднань, буде розумно створити додатковий клас <code>Spring</code>. Як показано на малюнку 3.17, клас <code>Bob</code> відстежує рухи тягарця, а клас <code>Spring</code> відстежує положення якоря пружини, її довжину в стані спокою та розраховує силу пружності для тягарця.</p>
<figure>
  <div data-gatsby-image-wrapper="" class="gatsby-image-wrapper gatsby-image-wrapper-constrained"><div style="max-width:2304px;display:block"><img alt="" role="presentation" aria-hidden="true" src="data:image/svg+xml;charset=utf-8,%3Csvg height=&#x27;1377&#x27; width=&#x27;2304&#x27; xmlns=&#x27;http://www.w3.org/2000/svg&#x27; version=&#x27;1.1&#x27;%3E%3C/svg%3E" style="max-width:100%;display:block;position:static"/></div><div aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear;background-color:#f8f8f8;position:absolute;top:0;left:0;bottom:0;right:0"></div><picture><source type="image/webp" data-srcset="./static/99f58e3c6d9469af3a5c0a23079e354f/a02d9/03_oscillation_14.webp 576w,./static/99f58e3c6d9469af3a5c0a23079e354f/10f24/03_oscillation_14.webp 1152w,./static/99f58e3c6d9469af3a5c0a23079e354f/aae9d/03_oscillation_14.webp 2304w" sizes="(min-width: 2304px) 2304px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 2304px) 2304px, 100vw" decoding="async" loading="lazy" data-src="./static/99f58e3c6d9469af3a5c0a23079e354f/2d71f/03_oscillation_14.png" data-srcset="./static/99f58e3c6d9469af3a5c0a23079e354f/b6b84/03_oscillation_14.png 576w,./static/99f58e3c6d9469af3a5c0a23079e354f/8cf1c/03_oscillation_14.png 1152w,./static/99f58e3c6d9469af3a5c0a23079e354f/2d71f/03_oscillation_14.png 2304w" alt="Малюнок 3.17: Клас Spring має якір і довжину спокою. Клас Bob має положення, швидкість і прискорення"/></picture><noscript><picture><source type="image/webp" srcSet="./static/99f58e3c6d9469af3a5c0a23079e354f/a02d9/03_oscillation_14.webp 576w,./static/99f58e3c6d9469af3a5c0a23079e354f/10f24/03_oscillation_14.webp 1152w,./static/99f58e3c6d9469af3a5c0a23079e354f/aae9d/03_oscillation_14.webp 2304w" sizes="(min-width: 2304px) 2304px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 2304px) 2304px, 100vw" decoding="async" loading="lazy" src="./static/99f58e3c6d9469af3a5c0a23079e354f/2d71f/03_oscillation_14.png" srcSet="./static/99f58e3c6d9469af3a5c0a23079e354f/b6b84/03_oscillation_14.png 576w,./static/99f58e3c6d9469af3a5c0a23079e354f/8cf1c/03_oscillation_14.png 1152w,./static/99f58e3c6d9469af3a5c0a23079e354f/2d71f/03_oscillation_14.png 2304w" alt="Малюнок 3.17: Клас Spring має якір і довжину спокою. Клас Bob має положення, швидкість і прискорення"/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1,e.parentNode.parentNode.querySelector("[data-placeholder-image]").style.opacity=0)}}</script></div>
  <figcaption>Малюнок 3.17: Клас <code>Spring</code> має якір і довжину спокою. Клас <code>Bob</code> має положення, швидкість і прискорення</figcaption>
</figure>
<p>Це дозволяє мені написати чудову програму, як показано нижче:</p>
<div class="codesplit callout not-prose" data-code-language="javascript"><div class="pair"><pre><code class="hljs code language-javascript"><span class="hljs-keyword">let</span> bob;
</code></pre><div class="comment"><p></p></div></div><div class="pair split"><pre><code class="hljs code language-javascript"><span class="hljs-keyword">let</span> spring;
</code></pre><div class="comment"><p>Додавання змінної для посилання на об’єкт Spring.</p></div></div><div class="pair"><pre><code class="hljs code language-javascript">
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">setup</span>(<span class="hljs-params"></span>) {
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">  bob = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Bob</span>();
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">  spring = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Spring</span>();
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">}
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">draw</span>(<span class="hljs-params"></span>)  {
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">  <span class="hljs-keyword">let</span> gravity = <span class="hljs-title function_">createVector</span>(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>);
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">  bob.<span class="hljs-title function_">applyForce</span>(gravity);
</code></pre><div class="comment"><p></p></div></div><div class="pair split"><pre><code class="hljs code language-javascript">  spring.<span class="hljs-title function_">connect</span>(bob);
</code></pre><div class="comment"><p>Ця нова функція у класі Spring подбає про обчислення сили пружності тягарця.</p></div></div><div class="pair"><pre><code class="hljs code language-javascript">  bob.<span class="hljs-title function_">update</span>();
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">  bob.<span class="hljs-title function_">show</span>();
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">  spring.<span class="hljs-title function_">show</span>();
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">}
</code></pre><div class="comment"><p></p></div></div></div>
<p>Подумайте про те, як це можна порівняти з моїм першим підходом з гравітаційним тяжінням у прикладі 2.6, коли я мав окремі класи <code>Mover</code> і <code>Attractor</code>. Там я написав щось на зразок:</p>
<div class="codesplit callout not-prose" data-code-language="javascript"><div class="pair"><pre><code class="hljs code language-javascript">  <span class="hljs-keyword">let</span> force = attractor.<span class="hljs-title function_">attract</span>(mover);
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">  mover.<span class="hljs-title function_">applyForce</span>(force);
</code></pre><div class="comment"><p></p></div></div></div>
<p>Аналогічна ситуація з пружиною могла бути такою:</p>
<div class="codesplit callout not-prose" data-code-language="javascript"><div class="pair"><pre><code class="hljs code language-javascript">  <span class="hljs-keyword">let</span> force = spring.<span class="hljs-title function_">connect</span>(bob);
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">  bob.<span class="hljs-title function_">applyForce</span>(force);
</code></pre><div class="comment"><p></p></div></div></div>
<p>Натомість у цьому прикладі я маю:</p>
<div class="codesplit callout not-prose" data-code-language="javascript"><div class="pair"><pre><code class="hljs code language-javascript">  spring.<span class="hljs-title function_">connect</span>(bob);
</code></pre><div class="comment"><p></p></div></div></div>
<p>Що це дає? Чому мені не потрібно викликати <code>applyForce()</code> на об’єкті тягарця? Відповідь, звісно ж, полягає в тому, що мені <em>потрібно</em> викликати <code>applyForce()</code> на об’єкті тягарця. Просто замість того, щоб робити це у функції <code>draw()</code>, я демонструю, що цілком розумною (і іноді кращою) альтернативою є попросити метод <code>connect()</code> викликати <code>applyForce()</code> всередині:</p>
<div class="codesplit callout not-prose" data-code-language="javascript"><div class="pair"><pre><code class="hljs code language-javascript">  <span class="hljs-title function_">connect</span>(<span class="hljs-params">bob</span>) {
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">    <span class="hljs-keyword">let</span> force = якісь хитрі обчислення
</code></pre><div class="comment"><p></p></div></div><div class="pair split"><pre><code class="hljs code language-javascript">    bob.<span class="hljs-title function_">applyForce</span>(force);
</code></pre><div class="comment"><p>Метод connect() піклується про виклик applyForce() і тому йому не потрібно повертати вектор у область виклику.</p></div></div><div class="pair"><pre><code class="hljs code language-javascript">  }
</code></pre><div class="comment"><p></p></div></div></div>
<p>Навіщо робити це по-одному з класом <code>Attractor</code>, а по-іншому з класом <code>Spring</code>? Коли я вперше обговорював сили, було трохи зрозуміліше показати все їх застосування у функції <code>draw()</code> і, сподіваюся, це допомогло вам зрозуміти ідею акумуляції сили. Тепер, коли все стало зрозуміліше, можливо, простіше вбудувати деякі деталі у самі об’єкти.</p>
<p>Розглянемо решту елементів у класі <code>Spring</code>.</p>
<div data-type="example">
  <h3 id="example-310-a-spring-connection"><a class="heading-link" href="#example-310-a-spring-connection">Приклад 3.10: Пружинне з’єднання</a></h3>
  <figure>
    <div class="not-prose clear-both my-4 overflow-hidden rounded border bg-gray-100" style="max-width:1152px"><div class="relative overflow-hidden rounded-t bg-white"><!-- <div class="absolute left-[50%] top-[50%] -translate-x-[50%] -translate-y-[50%] ">Loading sketch ...</div> --><iframe class="w-full border-none transition-opacity opacity-1000" style="aspect-ratio:2.667" loading="lazy" src="./examples/03_oscillation/example_3_11_a_spring_connection"></iframe></div><div class="flex items-center justify-between border-t"><div class="flex"><button class="flex items-center border-r px-2.5 py-1.5 text-sm hover:bg-gray-200"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" aria-hidden="true" class="h-[15px] w-[15px]" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path></svg><span class="ml-1.5">Reset</span></button><button class="flex items-center border-r px-2.5 py-1.5 text-sm hover:bg-gray-200"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" aria-hidden="true" class="h-4 w-4" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" d="M10 9v6m4-6v6m7-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><span class="ml-1">Pause</span></button></div><a href="https://editor.p5js.org/natureofcode/sketches/HZOUeCe9p" target="_blank" rel="noreferrer" class="flex items-center px-2.5 text-[0.8rem] hover:underline">Open in Web Editor<svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="ml-1 text-gray-500" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg></a></div></div>
    <figcaption></figcaption>
  </figure>
</div>
<div class="codesplit callout not-prose" data-code-language="javascript"><div class="pair"><pre><code class="hljs code language-javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Spring</span> {
</code></pre><div class="comment"><p></p></div></div><div class="pair split"><pre><code class="hljs code language-javascript">  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">x, y, length</span>) {
</code></pre><div class="comment"><p>Конструктор ініціалізує якірну точку та довжину у стані спокою.</p></div></div><div class="pair split"><pre><code class="hljs code language-javascript">    <span class="hljs-variable language_">this</span>.<span class="hljs-property">anchor</span> = <span class="hljs-title function_">createVector</span>(x, y);
</code></pre><div class="comment"><p>Положення для закріплення пружини (якір).</p></div></div><div class="pair split"><pre><code class="hljs code language-javascript">    <span class="hljs-variable language_">this</span>.<span class="hljs-property">restLength</span> = length;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">k</span> = <span class="hljs-number">0.2</span>;
</code></pre><div class="comment"><p>Змінна для довжини у спокої та константа жорсткості.</p></div></div><div class="pair"><pre><code class="hljs code language-javascript">  }
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">
</code></pre><div class="comment"><p></p></div></div><div class="pair split"><pre><code class="hljs code language-javascript">  <span class="hljs-title function_">connect</span>(<span class="hljs-params">bob</span>) {
</code></pre><div class="comment"><p>Обчислення сили пружини на основі закону Гука.</p></div></div><div class="pair split"><pre><code class="hljs code language-javascript">    <span class="hljs-keyword">let</span> force = p5.<span class="hljs-property">Vector</span>.<span class="hljs-title function_">sub</span>(bob.<span class="hljs-property">position</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">anchor</span>);
</code></pre><div class="comment"><p>Отримання вектора, що вказує від якоря до положення тягарця.</p></div></div><div class="pair split"><pre><code class="hljs code language-javascript">    <span class="hljs-keyword">let</span> currentLength = force.<span class="hljs-title function_">mag</span>();
    <span class="hljs-keyword">let</span> stretch = currentLength - <span class="hljs-variable language_">this</span>.<span class="hljs-property">restLength</span>;
</code></pre><div class="comment"><p>Обчислення різниці між поточною відстанню і довжиною спокою. Щоб бути більш описовим, я буду використовувати назву змінної stretch замість x.</p></div></div><div class="pair split"><pre><code class="hljs code language-javascript">    force.<span class="hljs-title function_">setMag</span>(-<span class="hljs-number">1</span> * <span class="hljs-variable language_">this</span>.<span class="hljs-property">k</span> * stretch);
</code></pre><div class="comment"><p>Напрямок і величина разом!</p></div></div><div class="pair split"><pre><code class="hljs code language-javascript">    bob.<span class="hljs-title function_">applyForce</span>(force);
</code></pre><div class="comment"><p>Виклик методу applyForce() усередині методу connect!</p></div></div><div class="pair"><pre><code class="hljs code language-javascript">  }
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">
</code></pre><div class="comment"><p></p></div></div><div class="pair split"><pre><code class="hljs code language-javascript">  <span class="hljs-title function_">show</span>(<span class="hljs-params"></span>) {
    <span class="hljs-title function_">fill</span>(<span class="hljs-number">127</span>);
    <span class="hljs-title function_">circle</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">anchor</span>.<span class="hljs-property">x</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">anchor</span>.<span class="hljs-property">y</span>, <span class="hljs-number">10</span>);
  }
</code></pre><div class="comment"><p>Малювання якірної точки.</p></div></div><div class="pair"><pre><code class="hljs code language-javascript">
</code></pre><div class="comment"><p></p></div></div><div class="bottom-align pair split"><pre><code class="hljs code language-javascript">  <span class="hljs-title function_">showLine</span>(<span class="hljs-params">bob</span>) {
    <span class="hljs-title function_">stroke</span>(<span class="hljs-number">0</span>);
</code></pre><div class="comment"><p>Малювання пружинного з’єднання між позицією тягарця і якоря.</p></div></div><div class="continue pair split"><pre><code class="hljs code language-javascript">    <span class="hljs-title function_">line</span>(bob.<span class="hljs-property">position</span>.<span class="hljs-property">x</span>, bob.<span class="hljs-property">position</span>.<span class="hljs-property">y</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">anchor</span>.<span class="hljs-property">x</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">anchor</span>.<span class="hljs-property">y</span>);
  }
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">}
</code></pre><div class="comment"><p></p></div></div></div>
<p>Повний код цього прикладу доступний на вебсайті книги й містить дві додаткові особливості: по-перше клас <code>Bob</code> включає методи для взаємодії з курсором, що дозволяють перетягувати тягарець всередині вікна, і по-друге клас <code>Spring</code> включає метод для обмеження довжини з&#x27;єднання між мінімальним та максимальним значеннями.</p>
<div data-type="exercise" class="callout">
  <h3 id="exercise-313"><a class="heading-link" href="#exercise-313">Вправа 3.13</a></h3>
  <p>Перш ніж переглядати приклад онлайн, подивіться на цей метод <code>constrainLength</code>  і спробуйте заповнити пропуски:</p>
  <div class="codesplit callout not-prose" data-code-language="javascript"><div class="pair"><pre><code class="hljs code language-javascript"><span class="hljs-title function_">constrainLength</span>(<span class="hljs-params">bob, minlen, maxlen</span>) {
</code></pre><div class="comment"><p></p></div></div><div class="pair split"><pre><code class="hljs code language-javascript">  <span class="hljs-keyword">let</span> direction = p5.<span class="hljs-property">Vector</span>.<span class="hljs-title function_">sub</span>(bob.<span class="hljs-property">position</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">anchor</span>);
</code></pre><div class="comment"><p>Вектор, що вказує від тягарця до якоря.</p></div></div><div class="pair"><pre><code class="hljs code language-javascript">  <span class="hljs-keyword">let</span> length = direction.<span class="hljs-title function_">mag</span>();
</code></pre><div class="comment"><p></p></div></div><div class="pair split"><pre><code class="hljs code language-javascript">  <span class="hljs-keyword">if</span> (length &lt; minlen) {
</code></pre><div class="comment"><p>Чи не занадто коротка довжина?</p></div></div><div class="pair"><pre><code class="hljs code language-javascript">    direction.<span class="hljs-title function_">setMag</span>(minlen);
</code></pre><div class="comment"><p></p></div></div><div class="pair split"><pre><code class="hljs code language-javascript">    bob.<span class="hljs-property">position</span> = p5.<span class="hljs-property">Vector</span>.<span class="hljs-title function_">add</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">anchor</span>, direction);
</code></pre><div class="comment"><p>Утримання положення в межах обмеження.</p></div></div><div class="pair"><pre><code class="hljs code language-javascript">    bob.<span class="hljs-property">velocity</span>.<span class="hljs-title function_">mult</span>(<span class="hljs-number">0</span>);
</code></pre><div class="comment"><p></p></div></div><div class="pair split"><pre><code class="hljs code language-javascript">  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (length &gt; maxlen) {
</code></pre><div class="comment"><p>Чи довжина не занадто довга?</p></div></div><div class="pair"><pre><code class="hljs code language-javascript">    direction.<span class="hljs-title function_">setMag</span>(maxlen);
</code></pre><div class="comment"><p></p></div></div><div class="pair split"><pre><code class="hljs code language-javascript">    bob.<span class="hljs-property">position</span> = p5.<span class="hljs-property">Vector</span>.<span class="hljs-title function_">add</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">anchor</span>, direction);
</code></pre><div class="comment"><p>Утримання положення в межах обмеження.</p></div></div><div class="pair"><pre><code class="hljs code language-javascript">    bob.<span class="hljs-property">velocity</span>.<span class="hljs-title function_">mult</span>(<span class="hljs-number">0</span>);
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">  }
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">}
</code></pre><div class="comment"><p></p></div></div></div>
</div>
<div data-type="exercise" class="callout">
  <h3 id="exercise-314"><a class="heading-link" href="#exercise-314">Вправа 3.14</a></h3>
  <p>Створіть систему з кількох тягарців і пружинних з’єднань. Як щодо з’єднання тягарця з іншим тягарцем без фіксованого якоря?</p>
</div>
<h2 id="the-pendulum"><a class="heading-link" href="#the-pendulum">Маятник</a></h2>
<div class="half-width-right">
  <figure>
    <div data-gatsby-image-wrapper="" class="gatsby-image-wrapper gatsby-image-wrapper-constrained"><div style="max-width:1152px;display:block"><img alt="" role="presentation" aria-hidden="true" src="data:image/svg+xml;charset=utf-8,%3Csvg height=&#x27;1136&#x27; width=&#x27;1152&#x27; xmlns=&#x27;http://www.w3.org/2000/svg&#x27; version=&#x27;1.1&#x27;%3E%3C/svg%3E" style="max-width:100%;display:block;position:static"/></div><div aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear;background-color:#f8f8f8;position:absolute;top:0;left:0;bottom:0;right:0"></div><picture><source type="image/webp" data-srcset="./static/a9a387a5228aafbf53f737dc2edf5d4f/2506a/03_oscillation_15.webp 288w,./static/a9a387a5228aafbf53f737dc2edf5d4f/ead65/03_oscillation_15.webp 576w,./static/a9a387a5228aafbf53f737dc2edf5d4f/8846e/03_oscillation_15.webp 1152w" sizes="(min-width: 1152px) 1152px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 1152px) 1152px, 100vw" decoding="async" loading="lazy" data-src="./static/a9a387a5228aafbf53f737dc2edf5d4f/53533/03_oscillation_15.png" data-srcset="./static/a9a387a5228aafbf53f737dc2edf5d4f/e0ad0/03_oscillation_15.png 288w,./static/a9a387a5228aafbf53f737dc2edf5d4f/35afd/03_oscillation_15.png 576w,./static/a9a387a5228aafbf53f737dc2edf5d4f/53533/03_oscillation_15.png 1152w" alt="Малюнок 3.18: Маятник з точкою опори, плечем і підвісом"/></picture><noscript><picture><source type="image/webp" srcSet="./static/a9a387a5228aafbf53f737dc2edf5d4f/2506a/03_oscillation_15.webp 288w,./static/a9a387a5228aafbf53f737dc2edf5d4f/ead65/03_oscillation_15.webp 576w,./static/a9a387a5228aafbf53f737dc2edf5d4f/8846e/03_oscillation_15.webp 1152w" sizes="(min-width: 1152px) 1152px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 1152px) 1152px, 100vw" decoding="async" loading="lazy" src="./static/a9a387a5228aafbf53f737dc2edf5d4f/53533/03_oscillation_15.png" srcSet="./static/a9a387a5228aafbf53f737dc2edf5d4f/e0ad0/03_oscillation_15.png 288w,./static/a9a387a5228aafbf53f737dc2edf5d4f/35afd/03_oscillation_15.png 576w,./static/a9a387a5228aafbf53f737dc2edf5d4f/53533/03_oscillation_15.png 1152w" alt="Малюнок 3.18: Маятник з точкою опори, плечем і підвісом"/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1,e.parentNode.parentNode.querySelector("[data-placeholder-image]").style.opacity=0)}}</script></div>
    <figcaption>Малюнок 3.18: Маятник з точкою опори, плечем і підвісом</figcaption>
  </figure>
</div>
<p>Ви могли помітити, що в коді прикладу 3.10 я жодного разу не використав синус чи косинус. Перш ніж списувати всю цю тригонометрію з тангенсами, дозвольте мені показати приклад того, як це все поєднується разом. Уявіть собі підвіс, що висить на кінці якоря і вони мають жорстке з’єднання, яке не можна ні стиснути, ні розтягнути. Цей ідеалізований сценарій описує маятник і надає чудову нагоду потренуватися в поєднанні всього, що ви дізналися про сили та тригонометрію.</p>
<p>Маятник — це тягарець, підвішений на так званому плечі протягнутому від опори (те, що раніше називалося <em>якорем</em> пружини). У стані спокою маятник висить прямо вниз, як показано на малюнку 3.18. Однак якщо підняти маятник під кутом відносно його стану спокою і відпустити, він почне гойдатися вперед-назад, малюючи форму дуги. У реальному світі маятник існував би у 3D просторі, але я збираюся розглянути простіший сценарій: маятник у 2D просторі полотна p5.js. Малюнок 3.19 зображує маятник у положенні без спокою і додає сили, що діють: гравітацію та розтяг.</p>
<p>Коли маятник коливається, його плече і підвіс обертаються навколо фіксованої точки опори. Якби не було плеча, яке з’єднує підвіс і опору, тягарець просто впав би на землю під впливом гравітації. Натомість фіксована довжина плеча створює другу силу — розтяг (або розтяг-стиск). Проте я не збираюся працювати з цим сценарієм відповідно до цих сил, принаймні не так, як я робив це в прикладі з пружиною.</p>
<div class="half-width-right">
  <figure>
    <div data-gatsby-image-wrapper="" class="gatsby-image-wrapper gatsby-image-wrapper-constrained"><div style="max-width:1152px;display:block"><img alt="" role="presentation" aria-hidden="true" src="data:image/svg+xml;charset=utf-8,%3Csvg height=&#x27;1176&#x27; width=&#x27;1152&#x27; xmlns=&#x27;http://www.w3.org/2000/svg&#x27; version=&#x27;1.1&#x27;%3E%3C/svg%3E" style="max-width:100%;display:block;position:static"/></div><div aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear;background-color:#f8f8f8;position:absolute;top:0;left:0;bottom:0;right:0"></div><picture><source type="image/webp" data-srcset="./static/35f3e3c1faca808e3b11192031e7852c/7f250/03_oscillation_16.webp 288w,./static/35f3e3c1faca808e3b11192031e7852c/c783e/03_oscillation_16.webp 576w,./static/35f3e3c1faca808e3b11192031e7852c/7a61a/03_oscillation_16.webp 1152w" sizes="(min-width: 1152px) 1152px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 1152px) 1152px, 100vw" decoding="async" loading="lazy" data-src="./static/35f3e3c1faca808e3b11192031e7852c/77efb/03_oscillation_16.png" data-srcset="./static/35f3e3c1faca808e3b11192031e7852c/e9826/03_oscillation_16.png 288w,./static/35f3e3c1faca808e3b11192031e7852c/8c281/03_oscillation_16.png 576w,./static/35f3e3c1faca808e3b11192031e7852c/77efb/03_oscillation_16.png 1152w" alt="Малюнок 3.19: Маятник, який показує \theta як кут відносно його положення у стані спокою"/></picture><noscript><picture><source type="image/webp" srcSet="./static/35f3e3c1faca808e3b11192031e7852c/7f250/03_oscillation_16.webp 288w,./static/35f3e3c1faca808e3b11192031e7852c/c783e/03_oscillation_16.webp 576w,./static/35f3e3c1faca808e3b11192031e7852c/7a61a/03_oscillation_16.webp 1152w" sizes="(min-width: 1152px) 1152px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 1152px) 1152px, 100vw" decoding="async" loading="lazy" src="./static/35f3e3c1faca808e3b11192031e7852c/77efb/03_oscillation_16.png" srcSet="./static/35f3e3c1faca808e3b11192031e7852c/e9826/03_oscillation_16.png 288w,./static/35f3e3c1faca808e3b11192031e7852c/8c281/03_oscillation_16.png 576w,./static/35f3e3c1faca808e3b11192031e7852c/77efb/03_oscillation_16.png 1152w" alt="Малюнок 3.19: Маятник, який показує \theta як кут відносно його положення у стані спокою"/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1,e.parentNode.parentNode.querySelector("[data-placeholder-image]").style.opacity=0)}}</script></div>
    <figcaption>Малюнок 3.19: Маятник, який показує <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>θ</mi></mrow><annotation encoding="application/x-tex">\theta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em"></span><span class="mord mathnormal" style="margin-right:0.02778em">θ</span></span></span></span></span> як кут відносно його положення у стані спокою</figcaption>
  </figure>
</div>
<p>Замість використання <em>лінійного</em> прискорення і швидкості я збираюся описати рух маятника в термінах <em>кутового</em> прискорення та <em>кутової</em> швидкості, які відносяться до зміни кута плеча <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>θ</mi></mrow><annotation encoding="application/x-tex">\theta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em"></span><span class="mord mathnormal" style="margin-right:0.02778em">θ</span></span></span></span></span> відносно положення маятника у стані спокою. Я маю попередити вас, особливо якщо ви досвідчений фізик, що для зручності я збираюся проігнорувати тут кілька важливих концепцій: збер еження енергії, імпульс, доцентрову силу і деякі інші. Тут немає мети зробити вичерпний опис фізики маятника. Моя мета — надати вам можливість відпрацювати ваші нові навички в тригонометрії й глибше дослідити взаємозв’язок між силами та кутами на конкретному прикладі.</p>
<p>Щоб обчислити кутове прискорення маятника, я використаю другий закон руху Ньютона, але з невеликою тригонометричною участю. Погляньте на малюнок 3.19 і нахиліть голову так, щоб плече маятника стало вертикальною віссю. Сила тяжіння раптом спрямовується навкіс, трохи ліворуч, під кутом до вашої нахиленої голови. Якщо у вас починає боліти шия, не хвилюйтеся, я перемалюю зображення під нахилом і позначу силу <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>F</mi><mi>g</mi></msub></mrow><annotation encoding="application/x-tex">F_g</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9694em;vertical-align:-0.2861em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em">g</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em"><span></span></span></span></span></span></span></span></span></span></span> для гравітації та силу <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>T</mi></mrow><annotation encoding="application/x-tex">T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal" style="margin-right:0.13889em">T</span></span></span></span></span> для натягу (малюнок 3.20, ліворуч).</p>
<p>Давайте тепер візьмемо силу тяжіння і розділимо її вектор на <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord mathnormal">x</span></span></span></span></span> і <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>y</mi></mrow><annotation encoding="application/x-tex">y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em"></span><span class="mord mathnormal" style="margin-right:0.03588em">y</span></span></span></span></span> компоненти, де плече є новою віссю ординат. Ці компоненти утворюють прямокутний трикутник із силою тяжіння у вигляді гіпотенузи (малюнок 3.20, справа). Я називатиму їх <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>F</mi><mrow><mi>g</mi><mi>x</mi></mrow></msub></mrow><annotation encoding="application/x-tex">F_{gx}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9694em;vertical-align:-0.2861em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">gx</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em"><span></span></span></span></span></span></span></span></span></span></span> і <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>F</mi><mrow><mi>g</mi><mi>y</mi></mrow></msub></mrow><annotation encoding="application/x-tex">F_{gy}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9694em;vertical-align:-0.2861em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em">g</span><span class="mord mathnormal mtight" style="margin-right:0.03588em">y</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em"><span></span></span></span></span></span></span></span></span></span></span>, але що означають ці компоненти? Отже, компонент <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>F</mi><mrow><mi>g</mi><mi>y</mi></mrow></msub></mrow><annotation encoding="application/x-tex">F_{gy}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9694em;vertical-align:-0.2861em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em">g</span><span class="mord mathnormal mtight" style="margin-right:0.03588em">y</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em"><span></span></span></span></span></span></span></span></span></span></span> представляє силу, протилежну до <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>T</mi></mrow><annotation encoding="application/x-tex">T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal" style="margin-right:0.13889em">T</span></span></span></span></span>, сили розтягу. Пам’ятайте, що сила розтягу утримує тягарець від падіння.</p>
<p>Інший компонент, <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>F</mi><mrow><mi>g</mi><mi>x</mi></mrow></msub></mrow><annotation encoding="application/x-tex">F_{gx}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9694em;vertical-align:-0.2861em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">gx</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em"><span></span></span></span></span></span></span></span></span></span></span>, перпендикулярний до плеча маятника, і це та сила, яку я весь час шукав! Вона призводить до руху маятника. При коливанні маятника, вісь <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>y</mi></mrow><annotation encoding="application/x-tex">y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em"></span><span class="mord mathnormal" style="margin-right:0.03588em">y</span></span></span></span></span> (тобто плече) завжди буде перпендикулярно до напрямку руху. Тому я можу ігнорувати сили розтягу і <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>F</mi><mrow><mi>g</mi><mi>y</mi></mrow></msub></mrow><annotation encoding="application/x-tex">F_{gy}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9694em;vertical-align:-0.2861em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em">g</span><span class="mord mathnormal mtight" style="margin-right:0.03588em">y</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em"><span></span></span></span></span></span></span></span></span></span></span> та зосередитися на <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>F</mi><mrow><mi>g</mi><mi>x</mi></mrow></msub></mrow><annotation encoding="application/x-tex">F_{gx}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9694em;vertical-align:-0.2861em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">gx</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em"><span></span></span></span></span></span></span></span></span></span></span>, яка є <strong>сукупною силою</strong> у напрямку руху. І оскільки ця сила є частиною прямокутного трикутника, я можу обчислити її за допомогою... правильно, тригонометрії!</p>
<figure>
  <div data-gatsby-image-wrapper="" class="gatsby-image-wrapper gatsby-image-wrapper-constrained"><div style="max-width:2304px;display:block"><img alt="" role="presentation" aria-hidden="true" src="data:image/svg+xml;charset=utf-8,%3Csvg height=&#x27;1345&#x27; width=&#x27;2304&#x27; xmlns=&#x27;http://www.w3.org/2000/svg&#x27; version=&#x27;1.1&#x27;%3E%3C/svg%3E" style="max-width:100%;display:block;position:static"/></div><div aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear;background-color:#f8f8f8;position:absolute;top:0;left:0;bottom:0;right:0"></div><picture><source type="image/webp" data-srcset="./static/6b99c7f2e686f460b4d5a9ebf82db52c/38f8b/03_oscillation_17.webp 576w,./static/6b99c7f2e686f460b4d5a9ebf82db52c/9f1d4/03_oscillation_17.webp 1152w,./static/6b99c7f2e686f460b4d5a9ebf82db52c/5ea19/03_oscillation_17.webp 2304w" sizes="(min-width: 2304px) 2304px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 2304px) 2304px, 100vw" decoding="async" loading="lazy" data-src="./static/6b99c7f2e686f460b4d5a9ebf82db52c/f5f13/03_oscillation_17.png" data-srcset="./static/6b99c7f2e686f460b4d5a9ebf82db52c/a0bfc/03_oscillation_17.png 576w,./static/6b99c7f2e686f460b4d5a9ebf82db52c/aca49/03_oscillation_17.png 1152w,./static/6b99c7f2e686f460b4d5a9ebf82db52c/f5f13/03_oscillation_17.png 2304w" alt="Малюнок 3.20: Ліворуч маятник повернутий так, що плече стає віссю y. Справа показано силу F_g збільшену і розділену на компоненти F_{gx} та F_{gy}"/></picture><noscript><picture><source type="image/webp" srcSet="./static/6b99c7f2e686f460b4d5a9ebf82db52c/38f8b/03_oscillation_17.webp 576w,./static/6b99c7f2e686f460b4d5a9ebf82db52c/9f1d4/03_oscillation_17.webp 1152w,./static/6b99c7f2e686f460b4d5a9ebf82db52c/5ea19/03_oscillation_17.webp 2304w" sizes="(min-width: 2304px) 2304px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 2304px) 2304px, 100vw" decoding="async" loading="lazy" src="./static/6b99c7f2e686f460b4d5a9ebf82db52c/f5f13/03_oscillation_17.png" srcSet="./static/6b99c7f2e686f460b4d5a9ebf82db52c/a0bfc/03_oscillation_17.png 576w,./static/6b99c7f2e686f460b4d5a9ebf82db52c/aca49/03_oscillation_17.png 1152w,./static/6b99c7f2e686f460b4d5a9ebf82db52c/f5f13/03_oscillation_17.png 2304w" alt="Малюнок 3.20: Ліворуч маятник повернутий так, що плече стає віссю y. Справа показано силу F_g збільшену і розділену на компоненти F_{gx} та F_{gy}"/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1,e.parentNode.parentNode.querySelector("[data-placeholder-image]").style.opacity=0)}}</script></div>
  <figcaption>Малюнок 3.20: Ліворуч маятник повернутий так, що плече стає віссю <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>y</mi></mrow><annotation encoding="application/x-tex">y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em"></span><span class="mord mathnormal" style="margin-right:0.03588em">y</span></span></span></span></span>. Справа показано силу <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>F</mi><mi>g</mi></msub></mrow><annotation encoding="application/x-tex">F_g</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9694em;vertical-align:-0.2861em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em">g</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em"><span></span></span></span></span></span></span></span></span></span></span> збільшену і розділену на компоненти <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>F</mi><mrow><mi>g</mi><mi>x</mi></mrow></msub></mrow><annotation encoding="application/x-tex">F_{gx}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9694em;vertical-align:-0.2861em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">gx</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em"><span></span></span></span></span></span></span></span></span></span></span> та <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>F</mi><mrow><mi>g</mi><mi>y</mi></mrow></msub></mrow><annotation encoding="application/x-tex">F_{gy}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9694em;vertical-align:-0.2861em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em">g</span><span class="mord mathnormal mtight" style="margin-right:0.03588em">y</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em"><span></span></span></span></span></span></span></span></span></span></span></figcaption>
</figure>
<p>Ключовим тут є те, що верхній кут прямокутного трикутника такий самий, що і кут <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>θ</mi></mrow><annotation encoding="application/x-tex">\theta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em"></span><span class="mord mathnormal" style="margin-right:0.02778em">θ</span></span></span></span></span> між плечем маятника та його положенням у спокої. Так само як було продемонстровано в обговоренні полярних координат, функції синуса та косинуса дозволяють мені відокремити компоненти сили тяжіння (гіпотенузу) відповідно до цього кута. Для <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>F</mi><mrow><mi>g</mi><mi>x</mi></mrow></msub></mrow><annotation encoding="application/x-tex">F_{gx}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9694em;vertical-align:-0.2861em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">gx</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em"><span></span></span></span></span></span></span></span></span></span></span> мені потрібно використовувати синус:</p>
<div data-type="equation" class="math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>sin</mi><mo>⁡</mo><mo stretchy="false">(</mo><mi>θ</mi><mo stretchy="false">)</mo><mo>=</mo><msub><mi>F</mi><mrow><mi>g</mi><mi>x</mi></mrow></msub><mi mathvariant="normal">/</mi><msub><mi>F</mi><mi>g</mi></msub></mrow><annotation encoding="application/x-tex">\sin(\theta) = F_{gx} / F_g</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mop">sin</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02778em">θ</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:1.0361em;vertical-align:-0.2861em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">gx</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em"><span></span></span></span></span></span></span><span class="mord">/</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em">g</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em"><span></span></span></span></span></span></span></span></span></span></span></div>
<p>Розв’язуючи <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>F</mi><mrow><mi>g</mi><mi>x</mi></mrow></msub></mrow><annotation encoding="application/x-tex">F_{gx}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9694em;vertical-align:-0.2861em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">gx</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em"><span></span></span></span></span></span></span></span></span></span></span>, я отримую таке рівняння:</p>
<div data-type="equation" class="math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>F</mi><mrow><mi>g</mi><mi>x</mi></mrow></msub><mo>=</mo><msub><mi>F</mi><mi>g</mi></msub><mo>×</mo><mi>sin</mi><mo>⁡</mo><mo stretchy="false">(</mo><mi>θ</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">F_{gx} = F_g \times \sin(\theta)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9694em;vertical-align:-0.2861em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">gx</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.9694em;vertical-align:-0.2861em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em">g</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mop">sin</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02778em">θ</span><span class="mclose">)</span></span></span></span></span></div>
<p>Зараз я перейменую цю силу на <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>F</mi><mi>p</mi></msub></mrow><annotation encoding="application/x-tex">F_p</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9694em;vertical-align:-0.2861em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em"><span></span></span></span></span></span></span></span></span></span></span> — <em>силу маятника</em>. На малюнку 3.21 я відновив початкове положення діаграми й змінив мітки компонентів. Я також перемістив початкову точку <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>F</mi><mi>p</mi></msub></mrow><annotation encoding="application/x-tex">F_p</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9694em;vertical-align:-0.2861em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em"><span></span></span></span></span></span></span></span></span></span></span> від нижньої частини прямокутного трикутника до центру підвісу, щоб з’ясувати, як ця сила рухає тягарець.</p>
<p>Ось воно. Сукупна сила маятника, яка спричиняє обертання, обчислюється наступним чином:</p>
<div data-type="equation" class="math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>F</mi><mi>p</mi></msub><mo>=</mo><msub><mi>F</mi><mi>g</mi></msub><mo>×</mo><mi>sin</mi><mo>⁡</mo><mo stretchy="false">(</mo><mi>θ</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">F_p = F_g \times \sin(\theta)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9694em;vertical-align:-0.2861em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.9694em;vertical-align:-0.2861em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em">g</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mop">sin</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02778em">θ</span><span class="mclose">)</span></span></span></span></span></div>
<figure>
  <div data-gatsby-image-wrapper="" class="gatsby-image-wrapper gatsby-image-wrapper-constrained"><div style="max-width:2303px;display:block"><img alt="" role="presentation" aria-hidden="true" src="data:image/svg+xml;charset=utf-8,%3Csvg height=&#x27;1473&#x27; width=&#x27;2303&#x27; xmlns=&#x27;http://www.w3.org/2000/svg&#x27; version=&#x27;1.1&#x27;%3E%3C/svg%3E" style="max-width:100%;display:block;position:static"/></div><div aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear;background-color:#f8f8f8;position:absolute;top:0;left:0;bottom:0;right:0"></div><picture><source type="image/webp" data-srcset="./static/380ed440474e5aa361dbc9b2e6704bc5/25064/03_oscillation_18.webp 576w,./static/380ed440474e5aa361dbc9b2e6704bc5/93d56/03_oscillation_18.webp 1152w,./static/380ed440474e5aa361dbc9b2e6704bc5/db8dd/03_oscillation_18.webp 2303w" sizes="(min-width: 2303px) 2303px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 2303px) 2303px, 100vw" decoding="async" loading="lazy" data-src="./static/380ed440474e5aa361dbc9b2e6704bc5/dab16/03_oscillation_18.png" data-srcset="./static/380ed440474e5aa361dbc9b2e6704bc5/43815/03_oscillation_18.png 576w,./static/380ed440474e5aa361dbc9b2e6704bc5/d9816/03_oscillation_18.png 1152w,./static/380ed440474e5aa361dbc9b2e6704bc5/dab16/03_oscillation_18.png 2303w" alt="Малюнок 3.21: F_{gx} тепер позначено через F_p, сумарної сили в напрямку руху"/></picture><noscript><picture><source type="image/webp" srcSet="./static/380ed440474e5aa361dbc9b2e6704bc5/25064/03_oscillation_18.webp 576w,./static/380ed440474e5aa361dbc9b2e6704bc5/93d56/03_oscillation_18.webp 1152w,./static/380ed440474e5aa361dbc9b2e6704bc5/db8dd/03_oscillation_18.webp 2303w" sizes="(min-width: 2303px) 2303px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 2303px) 2303px, 100vw" decoding="async" loading="lazy" src="./static/380ed440474e5aa361dbc9b2e6704bc5/dab16/03_oscillation_18.png" srcSet="./static/380ed440474e5aa361dbc9b2e6704bc5/43815/03_oscillation_18.png 576w,./static/380ed440474e5aa361dbc9b2e6704bc5/d9816/03_oscillation_18.png 1152w,./static/380ed440474e5aa361dbc9b2e6704bc5/dab16/03_oscillation_18.png 2303w" alt="Малюнок 3.21: F_{gx} тепер позначено через F_p, сумарної сили в напрямку руху"/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1,e.parentNode.parentNode.querySelector("[data-placeholder-image]").style.opacity=0)}}</script></div>
  <figcaption>Малюнок 3.21: <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>F</mi><mrow><mi>g</mi><mi>x</mi></mrow></msub></mrow><annotation encoding="application/x-tex">F_{gx}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9694em;vertical-align:-0.2861em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">gx</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em"><span></span></span></span></span></span></span></span></span></span></span> тепер позначено через <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>F</mi><mi>p</mi></msub></mrow><annotation encoding="application/x-tex">F_p</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9694em;vertical-align:-0.2861em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em"><span></span></span></span></span></span></span></span></span></span></span>, сумарної сили в напрямку руху</figcaption>
</figure>
<p>Щоб ви не забули, моя ціль — визначити кутове прискорення маятника. Коли я отримаю його, то зможу застосувати правила руху, щоб знайти новий кут <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>θ</mi></mrow><annotation encoding="application/x-tex">\theta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em"></span><span class="mord mathnormal" style="margin-right:0.02778em">θ</span></span></span></span></span> для кожного кадру анімації:</p>
<div data-type="equation" class="math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mtext>кутова швидкість</mtext><mo>=</mo><mtext>кутова швидкість</mtext><mo>+</mo><mtext>кутове прискорення</mtext></mrow><annotation encoding="application/x-tex">\text{кутова швидкість} = \text{кутова швидкість} + \text{кутове прискорення}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em"></span><span class="mord text"><span class="mord cyrillic_fallback">кутова</span><span class="mord"> </span><span class="mord cyrillic_fallback">швидкість</span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em"></span><span class="mord text"><span class="mord cyrillic_fallback">кутова</span><span class="mord"> </span><span class="mord cyrillic_fallback">швидкість</span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em"></span><span class="mord text"><span class="mord cyrillic_fallback">кутове</span><span class="mord"> </span><span class="mord cyrillic_fallback">прискорення</span></span></span></span></span></span></div>
<div data-type="equation" class="math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mtext>кут</mtext><mo>=</mo><mtext>кут + кутова швидкість</mtext></mrow><annotation encoding="application/x-tex">\text{кут} = \text{кут + кутова швидкість}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em"></span><span class="mord text"><span class="mord cyrillic_fallback">кут</span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em"></span><span class="mord text"><span class="mord cyrillic_fallback">кут</span><span class="mord"> + </span><span class="mord cyrillic_fallback">кутова</span><span class="mord"> </span><span class="mord cyrillic_fallback">швидкість</span></span></span></span></span></span></div>
<p>Добра новина в тому, що другий закон Ньютона встановлює відношення між силою та прискоренням, а саме <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>F</mi><mo>=</mo><mi>M</mi><mo>×</mo><mi>A</mi></mrow><annotation encoding="application/x-tex">F = M \times A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal" style="margin-right:0.13889em">F</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em"></span><span class="mord mathnormal" style="margin-right:0.10903em">M</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal">A</span></span></span></span></span>, або <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo>=</mo><mi>F</mi><mi mathvariant="normal">/</mi><mi>M</mi></mrow><annotation encoding="application/x-tex">A = F / M</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord mathnormal" style="margin-right:0.13889em">F</span><span class="mord">/</span><span class="mord mathnormal" style="margin-right:0.10903em">M</span></span></span></span></span>. Отже, якщо сила маятника дорівнює силі тяжіння помноженій на синус кута, тоді я матиму наступне:</p>
<div data-type="equation" class="math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mtext>кутове прискорення маятника</mtext><mo>=</mo><mtext>прискорення від гравітації</mtext><mo>×</mo><mi>sin</mi><mo>⁡</mo><mo stretchy="false">(</mo><mi>θ</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\text{кутове прискорення маятника} = \text{прискорення від гравітації} \times \sin(\theta)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em"></span><span class="mord text"><span class="mord cyrillic_fallback">кутове</span><span class="mord"> </span><span class="mord cyrillic_fallback">прискорення</span><span class="mord"> </span><span class="mord cyrillic_fallback">маятника</span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em"></span><span class="mord text"><span class="mord cyrillic_fallback">прискорення</span><span class="mord"> </span><span class="mord cyrillic_fallback">від</span><span class="mord"> </span><span class="mord cyrillic_fallback">гравітації</span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mop">sin</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02778em">θ</span><span class="mclose">)</span></span></span></span></span></div>
<p>Це слушний час, щоб нагадати, що контекст тут — це творче програмування, а не чиста фізика. Так, прискорення від гравітації на Землі становить 9.8 метрів на секунду у квадраті. Але це число не має значення тут, у світі пікселів. Замість цього я використовуватиму довільну константу (названу <code>gravity</code>) як змінну, яка масштабує прискорення. (До речі, кутове прискорення зазвичай записують символом альфа — <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>α</mi></mrow><annotation encoding="application/x-tex">\alpha</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord mathnormal" style="margin-right:0.0037em">α</span></span></span></span></span>, щоб відрізнити його від лінійного прискорення <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal">A</span></span></span></span></span>):</p>
<div data-type="equation" class="math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>α</mi><mo>=</mo><mtext>gravity</mtext><mo>×</mo><mi>sin</mi><mo>⁡</mo><mo stretchy="false">(</mo><mi>θ</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\alpha = \text{gravity} \times \sin(\theta)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord mathnormal" style="margin-right:0.0037em">α</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.8623em;vertical-align:-0.1944em"></span><span class="mord text"><span class="mord">gravity</span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mop">sin</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02778em">θ</span><span class="mclose">)</span></span></span></span></span></div>
<p>Перш ніж я зберу все разом, є ще одна деталь, яку я не згадав. Або насправді, багато дрібних деталей. Подумайте на мить про плече маятника. Це металевий стрижень? Струна? Гумова стрічка? Як воно прикріплене до точки опори? Яка його довжина? Яка маса? Чи це вітряний день? Я міг би продовжувати задавати купу питань, які б вплинули на симуляцію. Однак я обрав уявний світ, де плече маятника — це якийсь ідеалізований стрижень, який ніколи не згинається і де маса підвісу зосереджена в одній, нескінченно малій точці.</p>
<p>Попри те, що я вважаю за краще не хвилювати себе всіма цими питаннями, все одно бракує критичної частини, пов’язаної з обчисленням кутового прискорення. Щоб спростити обчислення кутового прискорення маятника, я припустив, що довжина його плеча дорівнює 1. Однак в реалії довжина плеча маятника впливає на його прискорення через поняття крутного моменту та моменту інерції.</p>
<p><strong>Крутний момент</strong> (або <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>τ</mi></mrow><annotation encoding="application/x-tex">\tau</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord mathnormal" style="margin-right:0.1132em">τ</span></span></span></span></span>, чита ється як тау) є мірою обертальної сили, що діє на об’єкт. У випадку маятника крутний момент пропорційний як масі підвісу, так і довжині плеча (<span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>M</mi><mo>×</mo><mi>r</mi></mrow><annotation encoding="application/x-tex">M \times r</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em"></span><span class="mord mathnormal" style="margin-right:0.10903em">M</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord mathnormal" style="margin-right:0.02778em">r</span></span></span></span></span>). <strong>Момент інерції</strong> (або <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>I</mi></mrow><annotation encoding="application/x-tex">I</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal" style="margin-right:0.07847em">I</span></span></span></span></span>) маятника є мірою того, наскільки важко обертати маятник навколо точки опори. Він пропорційний масі підвісу і <em>квадрату</em> довжини плеча (<span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>M</mi><msup><mi>r</mi><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">Mr^2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141em"></span><span class="mord mathnormal" style="margin-right:0.10903em">M</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em">r</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em"><span style="top:-3.063em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></span>).</p>
<p>Пам’ятаєте другий закон Ньютона: <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>F</mi><mo>=</mo><mi>M</mi><mo>×</mo><mi>A</mi></mrow><annotation encoding="application/x-tex">F=M \times A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal" style="margin-right:0.13889em">F</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em"></span><span class="mord mathnormal" style="margin-right:0.10903em">M</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal">A</span></span></span></span></span>? Що ж, він має свій обертальний аналог: <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>τ</mi><mo>=</mo><mi>I</mi><mo>×</mo><mi>α</mi></mrow><annotation encoding="application/x-tex">\tau = I \times \alpha</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord mathnormal" style="margin-right:0.1132em">τ</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em"></span><span class="mord mathnormal" style="margin-right:0.07847em">I</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord mathnormal" style="margin-right:0.0037em">α</span></span></span></span></span>. Переписавши рівняння для визначення кутового прискорення <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>α</mi></mrow><annotation encoding="application/x-tex">\alpha</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord mathnormal" style="margin-right:0.0037em">α</span></span></span></span></span>, я отримав <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>α</mi><mo>=</mo><mi>τ</mi><mi mathvariant="normal">/</mi><mi>I</mi></mrow><annotation encoding="application/x-tex">\alpha = \tau/I</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord mathnormal" style="margin-right:0.0037em">α</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord mathnormal" style="margin-right:0.1132em">τ</span><span class="mord">/</span><span class="mord mathnormal" style="margin-right:0.07847em">I</span></span></span></span></span>. Подальше спрощення дає <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>M</mi><mi>r</mi><mi mathvariant="normal">/</mi><mi>M</mi><msup><mi>r</mi><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">Mr/Mr^2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em"></span><span class="mord mathnormal" style="margin-right:0.10903em">M</span><span class="mord mathnormal" style="margin-right:0.02778em">r</span><span class="mord">/</span><span class="mord mathnormal" style="margin-right:0.10903em">M</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em">r</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em"><span style="top:-3.063em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></span> або <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mi mathvariant="normal">/</mi><mi>r</mi></mrow><annotation encoding="application/x-tex">1/r</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord">1/</span><span class="mord mathnormal" style="margin-right:0.02778em">r</span></span></span></span></span>. Кутове прискорення не залежить від маси маятника!</p>
<p>Це схоже на експеримент Галілея продемонстрованого на Пізанській вежі з лінійним прискоренням, де різні об’єкти падали з однаковою швидкістю, незалежно від їх маси. Тут знову ж таки маса підвісу не впливає на його кутове прискорення — впливає лише довжина його плеча. Таким чином, остаточна формула стає такою:</p>
<div data-type="equation" class="math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>α</mi><mo>=</mo><mfrac><mrow><mtext>gravity</mtext><mo>×</mo><mi>sin</mi><mo>⁡</mo><mo stretchy="false">(</mo><mi>θ</mi><mo stretchy="false">)</mo></mrow><mi>r</mi></mfrac></mrow><annotation encoding="application/x-tex">\alpha = \frac{\text{gravity} \times \sin(\theta)}{r}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord mathnormal" style="margin-right:0.0037em">α</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:2.113em;vertical-align:-0.686em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em">r</span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:0.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord text"><span class="mord">gravity</span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mop">sin</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02778em">θ</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></div>
<p>Чудово! Зрештою, формула настільки проста, що ви можете запитатися, навіщо я взагалі витрачав час на пояснення. Навчання — це звісно чудово, але я міг би просто сказати: “Отже, кутове прискорення маятника — це деяка константа, помножена на синус кута і поділена на довжину плеча”. Це було б втратою суті. Мета цієї книги не в тому, щоб дізнатися, як коливаються маятники чи працює гравітація. Суть полягає в тому, щоб творчо мислити про те, як фігури можуть рухатися по екрану в графічній системі на основі обчислень. Маятник — це лише приклад. Якщо ви можете зрозуміти підхід до програмування маятника, тоді ви можете застосувати ті самі методи до інших сценаріїв, незалежно від того, як ви вирішите спланувати свій світ у p5.js.</p>
<p>Але я ще не закінчив. Я можу бути задоволений своєю простою елегантною формулою для кутового прискорення, але мені все ще потрібно застосувати її в коді. Це чудова нагода попрактикувати навички ООП та створити клас <code>Pendulum</code>. Спочатку подумайте про всі властивості маятника, які я згадав:</p>
<div class="avoid-break">
  <ul>
    <li>Довжина плеча</li>
    <li>Кут</li>
    <li>Кутова швидкість</li>
    <li>Кутове прискорення</li>
  </ul>
</div>
<p>Клас <code>Pendulum</code> також вимагає всі ці властивості:</p>
<div class="snip-below">
  <div class="codesplit callout not-prose" data-code-language="javascript"><div class="pair"><pre><code class="hljs code language-javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Pendulum</span>  {
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"></span>) {
</code></pre><div class="comment"><p></p></div></div><div class="pair split"><pre><code class="hljs code language-javascript">    <span class="hljs-variable language_">this</span>.<span class="hljs-property">r</span> = ????;
</code></pre><div class="comment"><p>Довжина плеча.</p></div></div><div class="pair split"><pre><code class="hljs code language-javascript">    <span class="hljs-variable language_">this</span>.<span class="hljs-property">angle</span> = ????;
</code></pre><div class="comment"><p>Кут плеча маятника.</p></div></div><div class="pair split"><pre><code class="hljs code language-javascript">    <span class="hljs-variable language_">this</span>.<span class="hljs-property">angleVelocity</span> = ????;
</code></pre><div class="comment"><p>Кутова швидкість.</p></div></div><div class="pair split"><pre><code class="hljs code language-javascript">    <span class="hljs-variable language_">this</span>.<span class="hljs-property">angleAcceleration</span> = ????;
</code></pre><div class="comment"><p>Кутове прискорення.</p></div></div><div class="pair"><pre><code class="hljs code language-javascript">  } 
</code></pre><div class="comment"><p></p></div></div></div>
</div>
<p>Далі мені потрібно написати метод <code>update()</code> для оновлення кута маятника відповідно до формули:</p>
<div class="snip-above snip-below">
  <div class="codesplit callout not-prose" data-code-language="javascript"><div class="pair"><pre><code class="hljs code language-javascript">  <span class="hljs-title function_">update</span>(<span class="hljs-params"></span>) {
</code></pre><div class="comment"><p></p></div></div><div class="pair split"><pre><code class="hljs code language-javascript">    <span class="hljs-keyword">let</span> gravity = <span class="hljs-number">0.4</span>;
</code></pre><div class="comment"><p>Довільна константа.</p></div></div><div class="pair split"><pre><code class="hljs code language-javascript">    <span class="hljs-variable language_">this</span>.<span class="hljs-property">angleAcceleration</span> = -<span class="hljs-number">1</span> * gravity * <span class="hljs-title function_">sin</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">angle</span>) / <span class="hljs-variable language_">this</span>.<span class="hljs-property">r</span>;
</code></pre><div class="comment"><p>Обчислення прискорення згідно формули.</p></div></div><div class="pair split"><pre><code class="hljs code language-javascript">    <span class="hljs-variable language_">this</span>.<span class="hljs-property">angleVelocity</span> += <span class="hljs-variable language_">this</span>.<span class="hljs-property">angleAcceleration</span>;
</code></pre><div class="comment"><p>Збільшення швидкості.</p></div></div><div class="pair split"><pre><code class="hljs code language-javascript">    <span class="hljs-variable language_">this</span>.<span class="hljs-property">angle</span> += <span class="hljs-variable language_">this</span>.<span class="hljs-property">angleVelocity</span>;
</code></pre><div class="comment"><p>Збільшення кута.</p></div></div><div class="pair"><pre><code class="hljs code language-javascript">  }
</code></pre><div class="comment"><p></p></div></div></div>
</div>
<p>Зауважте, що розрахунок прискорення тепер включає множення на -1. Коли маятник знаходиться праворуч від свого положення спокою, кут додатний, і тому синус кута також додатний. Однак сила тяжіння має “тягнути” підвіс назад до положення спокою. І навпаки, коли маятник знаходиться ліворуч від свого положення спокою, кут є від’ємним, а тому його синус також від’ємний. У цьому випадку сила тяги має бути позитивною. Множення на -1 необхідне в обох випадках.</p>
<p>Далі мені потрібен метод <code>show()</code>, щоб намалювати маятник на полотні. Але де саме я маю його намалювати? Як розрахувати декартові <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mi>y</mi></mrow><annotation encoding="application/x-tex">xy</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em"></span><span class="mord mathnormal">x</span><span class="mord mathnormal" style="margin-right:0.03588em">y</span></span></span></span></span>-координати для точки оберту маятника (назвемо її <code>pivot</code>) і положення підвісу (назвемо його <code>bob</code>)? Це може стати трохи надокучливим, але відповідь, знову ж таки, — тригонометрія, як показано на малюнку 3.22.</p>
<figure>
  <div data-gatsby-image-wrapper="" class="gatsby-image-wrapper gatsby-image-wrapper-constrained"><div style="max-width:2303px;display:block"><img alt="" role="presentation" aria-hidden="true" src="data:image/svg+xml;charset=utf-8,%3Csvg height=&#x27;1187&#x27; width=&#x27;2303&#x27; xmlns=&#x27;http://www.w3.org/2000/svg&#x27; version=&#x27;1.1&#x27;%3E%3C/svg%3E" style="max-width:100%;display:block;position:static"/></div><div aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear;background-color:#f8f8f8;position:absolute;top:0;left:0;bottom:0;right:0"></div><picture><source type="image/webp" data-srcset="./static/6c681c07b3f7792f62f2f8d9946c6ff4/7c566/03_oscillation_19.webp 576w,./static/6c681c07b3f7792f62f2f8d9946c6ff4/b3949/03_oscillation_19.webp 1152w,./static/6c681c07b3f7792f62f2f8d9946c6ff4/85c1c/03_oscillation_19.webp 2303w" sizes="(min-width: 2303px) 2303px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 2303px) 2303px, 100vw" decoding="async" loading="lazy" data-src="./static/6c681c07b3f7792f62f2f8d9946c6ff4/89876/03_oscillation_19.png" data-srcset="./static/6c681c07b3f7792f62f2f8d9946c6ff4/2482b/03_oscillation_19.png 576w,./static/6c681c07b3f7792f62f2f8d9946c6ff4/cd1a9/03_oscillation_19.png 1152w,./static/6c681c07b3f7792f62f2f8d9946c6ff4/89876/03_oscillation_19.png 2303w" alt="Ма люнок 3.22: Діаграма, що показує положення підвісу відносно опори в полярних і декартових координатах"/></picture><noscript><picture><source type="image/webp" srcSet="./static/6c681c07b3f7792f62f2f8d9946c6ff4/7c566/03_oscillation_19.webp 576w,./static/6c681c07b3f7792f62f2f8d9946c6ff4/b3949/03_oscillation_19.webp 1152w,./static/6c681c07b3f7792f62f2f8d9946c6ff4/85c1c/03_oscillation_19.webp 2303w" sizes="(min-width: 2303px) 2303px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 2303px) 2303px, 100vw" decoding="async" loading="lazy" src="./static/6c681c07b3f7792f62f2f8d9946c6ff4/89876/03_oscillation_19.png" srcSet="./static/6c681c07b3f7792f62f2f8d9946c6ff4/2482b/03_oscillation_19.png 576w,./static/6c681c07b3f7792f62f2f8d9946c6ff4/cd1a9/03_oscillation_19.png 1152w,./static/6c681c07b3f7792f62f2f8d9946c6ff4/89876/03_oscillation_19.png 2303w" alt="Малюнок 3.22: Діаграма, що показує положення підвісу відносно опори в полярних і декартових координатах"/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1,e.parentNode.parentNode.querySelector("[data-placeholder-image]").style.opacity=0)}}</script></div>
  <figcaption>Малюнок 3.22: Діаграма, що показує положення підвісу відносно опори в полярних і декартових координатах</figcaption>
</figure>
<p>Спершу мені потрібно додати властивість <code>this.pivot</code> до конструктора, щоб вказати, де малювати маятник на полотні:</p>
<div class="codesplit callout not-prose" data-code-language="javascript"><div class="pair"><pre><code class="hljs code language-javascript"><span class="hljs-variable language_">this</span>.<span class="hljs-property">pivot</span> = <span class="hljs-title function_">createVector</span>(<span class="hljs-number">100</span>, <span class="hljs-number">10</span>);
</code></pre><div class="comment"><p></p></div></div></div>
<p>Я знаю, що підвіс повинен бути на певній відстані від опори, що визначається довжиною плеча. Це моя змінна <code>r</code>, яку я зараз і встановлю:</p>
<div class="codesplit callout not-prose" data-code-language="javascript"><div class="pair"><pre><code class="hljs code language-javascript"><span class="hljs-variable language_">this</span>.<span class="hljs-property">r</span> = <span class="hljs-number">125</span>;
</code></pre><div class="comment"><p></p></div></div></div>
<p>Я також знаю поточний кут підвісу відносно опори: він зберігається у змінній <code>angle</code>. Між довжиною плеча і кутом у мене є полярні координати підвісу: <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>r</mi><mo separator="true">,</mo><mi>θ</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(r,\theta)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02778em">r</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord mathnormal" style="margin-right:0.02778em">θ</span><span class="mclose">)</span></span></span></span></span>. Але мені насправді потрібні декартові координати й на щастя я вже знаю, як за допомоги синуса і косинуса перетворити полярні координати у декартові:</p>
<div class="codesplit callout not-prose" data-code-language="javascript"><div class="pair"><pre><code class="hljs code language-javascript"><span class="hljs-variable language_">this</span>.<span class="hljs-property">bob</span> = <span class="hljs-title function_">createVector</span>(r * <span class="hljs-title function_">sin</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">angle</span>), r * <span class="hljs-title function_">cos</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">angle</span>));
</code></pre><div class="comment"><p></p></div></div></div>
<p>Зверніть увагу, що я використовую <code>sin(this.angle)</code> для значення <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord mathnormal">x</span></span></span></span></span> і <code>cos(this.angle)</code> для <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>y</mi></mrow><annotation encoding="application/x-tex">y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em"></span><span class="mord mathnormal" style="margin-right:0.03588em">y</span></span></span></span></span>. Це протилежне тому, що я показав вам у <a href="#polar-vs-cartesian-coordinates" class="page-reference">“Полярних та прямокутних координатах”</a> раніше в цьому розділі. Причина в тому, що тепер я шукаю верхній кут прямокутного трикутника, спрямованого вниз, як показано на малюнку 3.18. Цей кут лежить між віссю <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>y</mi></mrow><annotation encoding="application/x-tex">y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em"></span><span class="mord mathnormal" style="margin-right:0.03588em">y</span></span></span></span></span> і гіпотенузою, а не між віссю <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord mathnormal">x</span></span></span></span></span> і гіпотенузою, як ви бачили раніше на малюнку 3.9.</p>
  <p>Зараз значення <code>this.bob</code> припускає, що опорна точка знаходиться в точці <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mn>0</mn><mo separator="true">,</mo><mn>0</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(0, 0)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mopen">(</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord">0</span><span class="mclose">)</span></span></span></span></span>. Щоб отримати позицію підвісу відносно місця опорної точки, де б вона не була, я можу просто додати вектор <code>pivot</code> до вектора <code>bob</code>:</p>
<div class="codesplit callout not-prose" data-code-language="javascript"><div class="pair"><pre><code class="hljs code language-javascript"><span class="hljs-variable language_">this</span>.<span class="hljs-property">bob</span>.<span class="hljs-title function_">add</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">pivot</span>);
</code></pre><div class="comment"><p></p></div></div></div>
<p>Тепер залишилася дрібниця у вигляді малювання лінії та круга (ви, звісно, можете бути креативнішими):</p>
<div class="codesplit callout not-prose" data-code-language="javascript"><div class="pair"><pre><code class="hljs code language-javascript"><span class="hljs-title function_">stroke</span>(<span class="hljs-number">0</span>);
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript"><span class="hljs-title function_">fill</span>(<span class="hljs-number">127</span>);
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript"><span class="hljs-title function_">line</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">pivot</span>.<span class="hljs-property">x</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">pivot</span>.<span class="hljs-property">y</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">bob</span>.<span class="hljs-property">x</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">bob</span>.<span class="hljs-property">y</span>);
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript"><span class="hljs-title function_">circle</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">bob</span>.<span class="hljs-property">x</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">bob</span>.<span class="hljs-property">y</span>, <span class="hljs-number">16</span>);
</code></pre><div class="comment"><p></p></div></div></div>
<p>Зрештою, реальний маятник буде зазнавати певного тертя (у точці повороту) і опору повітря. У нинішньому вигляді, з даним кодом, маятник коливатиметься вічно. Щоб зробити його більш реалістичним, я можу сповільнити коливання маятника за допомогою трюку &quot;згасання&quot;. Я кажу <em>трюк</em>, оскільки замість того, щоб моделювати сили опору з певною точністю (як я робив у <a href="/forces#section-forces">Розділі 2</a>), можна досягти подібного результату, просто зменшуючи кутову швидкість на деяку довільну величину під час кожного кадру анімації. Наступний код зменшує швидкість на 1 відсоток (або помножує її на 0.99) під час кожного кадру анімації:</p>
<div class="codesplit callout not-prose" data-code-language="javascript"><div class="pair"><pre><code class="hljs code language-javascript"><span class="hljs-variable language_">this</span>.<span class="hljs-property">angleVelocity</span> *= <span class="hljs-number">0.99</span>;
</code></pre><div class="comment"><p></p></div></div></div>
<p>Зібравши все разом, я маю наступний приклад (з маятником із початковим кутом у 45 градусів).</p>
<div data-type="example">
  <h3 id="example-311-swinging-pendulum"><a class="heading-link" href="#example-311-swinging-pendulum">Приклад 3.11: Коливання маятника</a></h3>
  <figure>
    <div class="not-prose clear-both my-4 overflow-hidden rounded border bg-gray-100" style="max-width:1152px"><div class="relative overflow-hidden rounded-t bg-white"><!-- <div class="absolute left-[50%] top-[50%] -translate-x-[50%] -translate-y-[50%] ">Loading sketch ...</div> --><iframe class="w-full border-none transition-opacity opacity-1000" style="aspect-ratio:2.667" loading="lazy" src="./examples/03_oscillation/example_3_10_swinging_pendulum"></iframe></div><div class="flex items-center justify-between border-t"><div class="flex"><button class="flex items-center border-r px-2.5 py-1.5 text-sm hover:bg-gray-200"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" aria-hidden="true" class="h-[15px] w-[15px]" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path></svg><span class="ml-1.5">Reset</span></button><button class="flex items-center border-r px-2.5 py-1.5 text-sm hover:bg-gray-200"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" aria-hidden="true" class="h-4 w-4" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" d="M10 9v6m4-6v6m7-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><span class="ml-1">Pause</span></button></div><a href="https://editor.p5js.org/natureofcode/sketches/MQZWruTlD" target="_blank" rel="noreferrer" class="flex items-center px-2.5 text-[0.8rem] hover:underline">Open in Web Editor<svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="ml-1 text-gray-500" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg></a></div></div>
    <figcaption></figcaption>
  </figure>
</div>
<div class="codesplit callout not-prose" data-code-language="javascript"><div class="pair"><pre><code class="hljs code language-javascript"><span class="hljs-keyword">let</span> pendulum;
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">setup</span>(<span class="hljs-params"></span>) {
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">  <span class="hljs-title function_">createCanvas</span>(<span class="hljs-number">640</span>, <span class="hljs-number">240</span>);
</code></pre><div class="comment"><p></p></div></div><div class="pair split"><pre><code class="hljs code language-javascript">  pendulum = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Pendulum</span>(width / <span class="hljs-number">2</span>, <span class="hljs-number">0</span>, <span class="hljs-number">175</span>);
</code></pre><div class="comment"><p>Створення нового об’єкта Pendulum із заданим положенням і довжиною плеча.</p></div></div><div class="pair"><pre><code class="hljs code language-javascript">}
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">draw</span>(<span class="hljs-params"></span>) {
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">  <span class="hljs-title function_">background</span>(<span class="hljs-number">255</span>);
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">  pendulum.<span class="hljs-title function_">update</span>();
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">  pendulum.<span class="hljs-title function_">show</span>();
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">}
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Pendulum</span>  {
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">x, y, r</span>) {
</code></pre><div class="comment"><p></p></div></div><div class="pair split"><pre><code class="hljs code language-javascript">    <span class="hljs-variable language_">this</span>.<span class="hljs-property">pivot</span> = <span class="hljs-title function_">createVector</span>(x, y); <span class="hljs-comment">// Положення точки опори</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">bob</span> = <span class="hljs-title function_">createVector</span>();       <span class="hljs-comment">// Положення підвісу</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">r</span> = r;                      <span class="hljs-comment">// Довжина плеча</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">angle</span> = <span class="hljs-variable constant_">PI</span> / <span class="hljs-number">4</span>;             <span class="hljs-comment">// Кут плеча</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">angleVelocity</span> = <span class="hljs-number">0</span>;          <span class="hljs-comment">// Кутова швидкість</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">angleAcceleration</span> = <span class="hljs-number">0</span>;      <span class="hljs-comment">// Кутове прискорення</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">damping</span> = <span class="hljs-number">0.99</span>;             <span class="hljs-comment">// Довільне згасання</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">ballr</span> = <span class="hljs-number">24</span>;                 <span class="hljs-comment">// Довільний радіус підвісу</span>
</code></pre><div class="comment"><p>Багато змінних для відстеження різних властивостей маятника.</p></div></div><div class="pair"><pre><code class="hljs code language-javascript">  }
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">  <span class="hljs-title function_">update</span>(<span class="hljs-params"></span>) {
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">    <span class="hljs-keyword">let</span> gravity = <span class="hljs-number">0.4</span>;
</code></pre><div class="comment"><p></p></div></div><div class="pair split"><pre><code class="hljs code language-javascript">    <span class="hljs-variable language_">this</span>.<span class="hljs-property">angleAcceleration</span> = (-<span class="hljs-number">1</span> * gravity / <span class="hljs-variable language_">this</span>.<span class="hljs-property">r</span>) * <span class="hljs-title function_">sin</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">angle</span>);
</code></pre><div class="comment"><p>Формула кутового прискорення.</p></div></div><div class="pair split"><pre><code class="hljs code language-javascript">    <span class="hljs-variable language_">this</span>.<span class="hljs-property">angleVelocity</span> += <span class="hljs-variable language_">this</span>.<span class="hljs-property">angleAcceleration</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">angle</span> += <span class="hljs-variable language_">this</span>.<span class="hljs-property">angleVelocity</span>;
</code></pre><div class="comment"><p>Стандартний алгоритм кутового руху.</p></div></div><div class="pair split"><pre><code class="hljs code language-javascript">    <span class="hljs-variable language_">this</span>.<span class="hljs-property">angleVelocity</span> *= <span class="hljs-variable language_">this</span>.<span class="hljs-property">damping</span>;
</code></pre><div class="comment"><p>Застосування згасання.</p></div></div><div class="pair"><pre><code class="hljs code language-javascript">  }
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">  <span class="hljs-title function_">show</span>(<span class="hljs-params"></span>) {
</code></pre><div class="comment"><p></p></div></div><div class="pair split"><pre><code class="hljs code language-javascript">    <span class="hljs-variable language_">this</span>.<span class="hljs-property">bob</span>.<span class="hljs-title function_">set</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">r</span> * <span class="hljs-title function_">sin</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">angle</span>), <span class="hljs-variable language_">this</span>.<span class="hljs-property">r</span> * <span class="hljs-title function_">cos</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">angle</span>));
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">bob</span>.<span class="hljs-title function_">add</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">pivot</span>);
</code></pre><div class="comment"><p>Перетворення полярних координат у декартові. Замість того, щоб щоразу створювати новий вектор, я використовую метод set(), щоб оновити його значення і відповідно положення підвісу.</p></div></div><div class="pair split"><pre><code class="hljs code language-javascript">    <span class="hljs-title function_">stroke</span>(<span class="hljs-number">0</span>);
    <span class="hljs-title function_">line</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">pivot</span>.<span class="hljs-property">x</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">pivot</span>.<span class="hljs-property">y</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">bob</span>.<span class="hljs-property">x</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">bob</span>.<span class="hljs-property">y</span>);
</code></pre><div class="comment"><p>Плече.</p></div></div><div class="pair split"><pre><code class="hljs code language-javascript">    <span class="hljs-title function_">fill</span>(<span class="hljs-number">127</span>);
    <span class="hljs-title function_">circle</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">bob</span>.<span class="hljs-property">x</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">bob</span>.<span class="hljs-property">y</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">ballr</span> * <span class="hljs-number">2</span>);
</code></pre><div class="comment"><p>Підвіс.</p></div></div><div class="pair"><pre><code class="hljs code language-javascript">  }
</code></pre><div class="comment"><p></p></div></div><div class="pair"><pre><code class="hljs code language-javascript">}
</code></pre><div class="comment"><p></p></div></div></div>
<p>На вебсайті книги цей приклад містить додатковий код, який дозволяє схопити маятник і розгойдувати його за допомогою курсора мишки.</p>
<div data-type="exercise" class="callout">
  <h3 id="exercise-315"><a class="heading-link" href="#exercise-315">Вправа 3.15</a></h3>
  <p>З’єднайте серію маятників так, щоб підвіс одного був обертальною точкою для іншого. Зауважте, що це може призвести до цікавих результатів, але буде дуже неточним з фізичної точки зору. Симуляція справжнього подвійного маятника включає складні рівняння. Ви можете прочитати про них у статті <a href="https://scienceworld.wolfram.com/physics/DoublePendulum.html" target="_blank" rel="noopener">Wolfram Research про подвійні маятники</a> або <a href="https://thecodingtrain.com/doublependulum" target="_blank" rel="noopener">переглянути моє відео про програмування подвійного маятника</a>.</p>
  <figure data-type="example">
    <div class="not-prose clear-both my-4 overflow-hidden rounded border bg-gray-100" style="max-width:1152px"><div class="relative overflow-hidden rounded-t bg-white"><!-- <div class="absolute left-[50%] top-[50%] -translate-x-[50%] -translate-y-[50%] ">Loading sketch ...</div> --><iframe class="w-full border-none transition-opacity opacity-1000" style="aspect-ratio:2.667" loading="lazy" src="./examples/03_oscillation/exercise_3_12_double_pendulum"></iframe></div><div class="flex items-center justify-between border-t"><div class="flex"><button class="flex items-center border-r px-2.5 py-1.5 text-sm hover:bg-gray-200"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" aria-hidden="true" class="h-[15px] w-[15px]" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path></svg><span class="ml-1.5">Reset</span></button><button class="flex items-center border-r px-2.5 py-1.5 text-sm hover:bg-gray-200"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" aria-hidden="true" class="h-4 w-4" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" d="M10 9v6m4-6v6m7-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><span class="ml-1">Pause</span></button></div><a href="https://editor.p5js.org/natureofcode/sketches/Nlw45LpMN" target="_blank" rel="noreferrer" class="flex items-center px-2.5 text-[0.8rem] hover:underline">Open in Web Editor<svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="ml-1 text-gray-500" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg></a></div></div>
    <figcaption></figcaption>
  </figure>
</div>
<div data-type="exercise" class="callout">
  <h3 id="exercise-316"><a class="heading-link" href="#exercise-316">Вправа 3.16</a></h3>
  <figure>
    <div data-gatsby-image-wrapper="" class="gatsby-image-wrapper gatsby-image-wrapper-constrained"><div style="max-width:1152px;display:block"><img alt="" role="presentation" aria-hidden="true" src="data:image/svg+xml;charset=utf-8,%3Csvg height=&#x27;433.00000000000006&#x27; width=&#x27;1152&#x27; xmlns=&#x27;http://www.w3.org/2000/svg&#x27; version=&#x27;1.1&#x27;%3E%3C/svg%3E" style="max-width:100%;display:block;position:static"/></div><div aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear;background-color:#f8f8f8;position:absolute;top:0;left:0;bottom:0;right:0"></div><picture><source type="image/webp" data-srcset="./static/d9c9422697287160b1c02041c55e7923/a322b/03_oscillation_20.webp 288w,./static/d9c9422697287160b1c02041c55e7923/1f14d/03_oscillation_20.webp 576w,./static/d9c9422697287160b1c02041c55e7923/30d33/03_oscillation_20.webp 1152w" sizes="(min-width: 1152px) 1152px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 1152px) 1152px, 100vw" decoding="async" loading="lazy" data-src="./static/d9c9422697287160b1c02041c55e7923/c25c0/03_oscillation_20.png" data-srcset="./static/d9c9422697287160b1c02041c55e7923/3a9a5/03_oscillation_20.png 288w,./static/d9c9422697287160b1c02041c55e7923/1c4e0/03_oscillation_20.png 576w,./static/d9c9422697287160b1c02041c55e7923/c25c0/03_oscillation_20.png 1152w" alt=""/></picture><noscript><picture><source type="image/webp" srcSet="./static/d9c9422697287160b1c02041c55e7923/a322b/03_oscillation_20.webp 288w,./static/d9c9422697287160b1c02041c55e7923/1f14d/03_oscillation_20.webp 576w,./static/d9c9422697287160b1c02041c55e7923/30d33/03_oscillation_20.webp 1152w" sizes="(min-width: 1152px) 1152px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 1152px) 1152px, 100vw" decoding="async" loading="lazy" src="./static/d9c9422697287160b1c02041c55e7923/c25c0/03_oscillation_20.png" srcSet="./static/d9c9422697287160b1c02041c55e7923/3a9a5/03_oscillation_20.png 288w,./static/d9c9422697287160b1c02041c55e7923/1c4e0/03_oscillation_20.png 576w,./static/d9c9422697287160b1c02041c55e7923/c25c0/03_oscillation_20.png 1152w" alt=""/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1,e.parentNode.parentNode.querySelector("[data-placeholder-image]").style.opacity=0)}}</script></div>
    <figcaption></figcaption>
  </figure>
  <p>Використовуючи тригонометрію, як ви обчислите величину <strong>нормальної сили</strong> зображеної на цьому малюнку (сили, перпендикулярної до схилу, на який спираються сани)? Ви можете вважати величину <span data-type="equation" class="math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>F</mi><mtext>gravity</mtext></msub></mrow><annotation encoding="application/x-tex">F_\text{gravity}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9694em;vertical-align:-0.2861em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3175em"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord text mtight"><span class="mord mtight">gravity</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em"><span></span></span></span></span></span></span></span></span></span></span> відомою константою. Для початку знайдіть прямокутний трикутник. Зрештою, нормальна сила є рівно протилежною компоненту сили тяжіння. Якщо це допоможе, намалюйте діаграму і створіть більше прямокутних трикутників.</p>
</div>
<div data-type="exercise" class="callout">
  <h3 id="exercise-317"><a class="heading-link" href="#exercise-317">Вправа 3.17</a></h3>
  <p>Створіть симуляцію коробки, яка ковзає вниз по схилу з певним тертям. Зверніть увагу, що величина сили тертя пропорційна нормальній силі, як обговорювалося у попередній вправі.</p>
</div>
<div data-type="project" class="callout">
  <h3 id="the-ecosystem-project-4"><a class="heading-link" href="#the-ecosystem-project-4">Проєкт “Екосистема”</a></h3>
  <p>Візьміть одне зі своїх створінь і включіть у його рух коливання. Як модель можна використати клас <code>Oscillator</code> з прикладу 3.7. Однак об’єкт типу <code>Oscillator</code> коливався навколо однієї точки (середини вікна). Спробуйте зробити коливання навколо рухомої точки.</p>
  <p>Іншими словами, створіть істоту, яка рухається по екрану відповідно до певного положення, швидкості та прискорення. Розгляньте зв&#x27;язок швидкості коливань зі швидкістю руху. Подумайте про змахи крилець метелика або перебирання кінцівок комахи. Чи можете ви створити враження, що внутрішня механіка істоти (коливання) керує її рухом? Перегляньте вебсайт книги для додаткового прикладу поєднання тяжіння з <a href="/forces#section-forces">Розділу 2</a> із коливанням.</p>
  <figure>
    <div data-gatsby-image-wrapper="" class="gatsby-image-wrapper gatsby-image-wrapper-constrained"><div style="max-width:2304px;display:block"><img alt="" role="presentation" aria-hidden="true" src="data:image/svg+xml;charset=utf-8,%3Csvg height=&#x27;1420&#x27; width=&#x27;2304&#x27; xmlns=&#x27;http://www.w3.org/2000/svg&#x27; version=&#x27;1.1&#x27;%3E%3C/svg%3E" style="max-width:100%;display:block;position:static"/></div><div aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear;background-color:#c8c8c8;position:absolute;top:0;left:0;bottom:0;right:0"></div><picture><source type="image/webp" data-srcset="./static/d9c9a19d326ef654a1fb5d3cbc87dc75/be6fc/03_oscillation_21.webp 576w,./static/d9c9a19d326ef654a1fb5d3cbc87dc75/7c4ba/03_oscillation_21.webp 1152w,./static/d9c9a19d326ef654a1fb5d3cbc87dc75/2e9c6/03_oscillation_21.webp 2304w" sizes="(min-width: 2304px) 2304px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 2304px) 2304px, 100vw" decoding="async" loading="lazy" data-src="./static/d9c9a19d326ef654a1fb5d3cbc87dc75/43bff/03_oscillation_21.png" data-srcset="./static/d9c9a19d326ef654a1fb5d3cbc87dc75/09264/03_oscillation_21.png 576w,./static/d9c9a19d326ef654a1fb5d3cbc87dc75/8a8ae/03_oscillation_21.png 1152w,./static/d9c9a19d326ef654a1fb5d3cbc87dc75/43bff/03_oscillation_21.png 2304w" alt=""/></picture><noscript><picture><source type="image/webp" srcSet="./static/d9c9a19d326ef654a1fb5d3cbc87dc75/be6fc/03_oscillation_21.webp 576w,./static/d9c9a19d326ef654a1fb5d3cbc87dc75/7c4ba/03_oscillation_21.webp 1152w,./static/d9c9a19d326ef654a1fb5d3cbc87dc75/2e9c6/03_oscillation_21.webp 2304w" sizes="(min-width: 2304px) 2304px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 2304px) 2304px, 100vw" decoding="async" loading="lazy" src="./static/d9c9a19d326ef654a1fb5d3cbc87dc75/43bff/03_oscillation_21.png" srcSet="./static/d9c9a19d326ef654a1fb5d3cbc87dc75/09264/03_oscillation_21.png 576w,./static/d9c9a19d326ef654a1fb5d3cbc87dc75/8a8ae/03_oscillation_21.png 1152w,./static/d9c9a19d326ef654a1fb5d3cbc87dc75/43bff/03_oscillation_21.png 2304w" alt=""/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1,e.parentNode.parentNode.querySelector("[data-placeholder-image]").style.opacity=0)}}</script></div>
    <figcaption></figcaption>
  </figure>
</div>
<p></p>
</section>
<hr/><section class="not-prose flex w-full justify-between"><div><a class="group block" href="./forces.html"><p class="text-gray-500">Попередній розділ</p><span class="text-lg font-semibold group-hover:underline">← <!-- -->2. Сили</span></a></div><div><a class="group block text-right" href="./particles.html"><p class="text-gray-500">Наступний розділм</p><span class="text-lg font-semibold group-hover:underline">4. Системи частинок<!-- --> →</span></a></div></section></main></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script src="./assets/js/main.js"></script></body></html>